/*! For license information please see 214-fa6d35bd461aa867c9de.js.LICENSE.txt */
(self.webpackChunkapp=self.webpackChunkapp||[]).push([[214],{7298:function(e,t,n){"use strict";function r(e){return e.keys().map((t=>function(e,t){const n=function(e){const t=(e.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}(t);if(n)return function(e,t){const n=e.default;if("function"==typeof n)return{identifier:t,controllerConstructor:n}}(e(t),n)}(e,t))).filter((e=>e))}n.d(t,{X2:function(){return r}})},6599:function(e,t,n){"use strict";n.d(t,{Mx:function(){return Q},Qr:function(){return ue}});class r{constructor(e,t,n){this.eventTarget=e,this.eventName=t,this.eventOptions=n,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=function(e){if("immediatePropagationStopped"in e)return e;{const{stopImmediatePropagation:t}=e;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,t.call(this)}})}}(e);for(const n of this.bindings){if(t.immediatePropagationStopped)break;n.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort(((e,t)=>{const n=e.index,r=t.index;return n<r?-1:n>r?1:0}))}}class i{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach((e=>e.connect())))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach((e=>e.disconnect())))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce(((e,t)=>e.concat(Array.from(t.values()))),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,n={}){this.application.handleError(e,`Error ${t}`,n)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:n,eventOptions:r}=e,i=this.fetchEventListenerMapForEventTarget(t),o=this.cacheKey(n,r);i.delete(o),0==i.size&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:n,eventOptions:r}=e;return this.fetchEventListener(t,n,r)}fetchEventListener(e,t,n){const r=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,n);let o=r.get(i);return o||(o=this.createEventListener(e,t,n),r.set(i,o)),o}createEventListener(e,t,n){const i=new r(e,t,n);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const n=[e];return Object.keys(t).sort().forEach((e=>{n.push(`${t[e]?"":"!"}${e}`)})),n.join(":")}}const o={stop({event:e,value:t}){return t&&e.stopPropagation(),!0},prevent({event:e,value:t}){return t&&e.preventDefault(),!0},self({event:e,value:t,element:n}){return!t||n===e.target}},a=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function s(e){return"window"==e?window:"document"==e?document:void 0}function c(e){return e.replace(/(?:[_-])([a-z0-9])/g,((e,t)=>t.toUpperCase()))}function u(e){return c(e.replace(/--/g,"-").replace(/__/g,"_"))}function l(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d(e){return e.replace(/([A-Z])/g,((e,t)=>`-${t.toLowerCase()}`))}function f(e){return null!==e&&void 0!==e}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const p=["meta","ctrl","alt","shift"];class m{constructor(e,t,n,r){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||function(e){const t=e.tagName.toLowerCase();if(t in g)return g[t](e)}(e)||v("missing event name"),this.eventOptions=n.eventOptions||{},this.identifier=n.identifier||v("missing identifier"),this.methodName=n.methodName||v("missing method name"),this.keyFilter=n.keyFilter||"",this.schema=r}static forToken(e,t){return new this(e.element,e.index,function(e){const t=e.trim().match(a)||[];let n=t[2],r=t[3];return r&&!["keydown","keyup","keypress"].includes(n)&&(n+=`.${r}`,r=""),{eventTarget:s(t[4]),eventName:n,eventOptions:t[7]?(i=t[7],i.split(":").reduce(((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)})),{})):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||r};var i}(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;const n=t.filter((e=>!p.includes(e)))[0];return!!n&&(h(this.keyMappings,n)||v(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[n].toLowerCase()!==e.key.toLowerCase())}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;const t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:n,value:r}of Array.from(this.element.attributes)){const i=n.match(t),o=i&&i[1];o&&(e[c(o)]=y(r))}return e}get eventTargetName(){return(e=this.eventTarget)==window?"window":e==document?"document":void 0;var e}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){const[n,r,i,o]=p.map((e=>t.includes(e)));return e.metaKey!==n||e.ctrlKey!==r||e.altKey!==i||e.shiftKey!==o}}const g={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:e=>"submit"==e.getAttribute("type")?"click":"input",select:()=>"change",textarea:()=>"input"};function v(e){throw new Error(e)}function y(e){try{return JSON.parse(e)}catch(t){return e}}class b{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){const t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:n}=this.context.application,{controller:r}=this.context;let i=!0;for(const[o,a]of Object.entries(this.eventOptions))if(o in n){const s=n[o];i=i&&s({name:o,value:a,event:e,element:t,controller:r})}return i}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){const{target:t,currentTarget:n}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:n,action:this.methodName})}catch(v){const{identifier:n,controller:r,element:i,index:o}=this,a={identifier:n,controller:r,element:i,index:o,event:e};this.context.handleError(v,`invoking action "${this.action}"`,a)}}willBeInvokedByEvent(e){const t=e.target;return!(e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e))&&(!(e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e))&&(this.element===t||(t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element))))}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class _{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.processTree(e,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const e=this.elementFromNode(t);e&&this.elementIsActive(e)&&this.processTree(e,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const n of this.matchElementsInTree(e))t.call(this,n)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class E{constructor(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new _(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}function S(e,t,n){O(e,t).add(n)}function A(e,t,n){O(e,t).delete(n),function(e,t){const n=e.get(t);null!=n&&0==n.size&&e.delete(t)}(e,t)}function O(e,t){let n=e.get(t);return n||(n=new Set,e.set(t,n)),n}class w{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e.concat(Array.from(t))),[])}get size(){return Array.from(this.valuesByKey.values()).reduce(((e,t)=>e+t.size),0)}add(e,t){S(this.valuesByKey,e,t)}delete(e,t){A(this.valuesByKey,e,t)}has(e,t){const n=this.valuesByKey.get(e);return null!=n&&n.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some((t=>t.has(e)))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter((([t,n])=>n.has(e))).map((([e,t])=>e))}}class I{constructor(e,t,n,r){this._selector=t,this.details=r,this.elementObserver=new _(e,this),this.delegate=n,this.matchesByElement=new w}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const{selector:t}=this;if(t){const n=e.matches(t);return this.delegate.selectorMatchElement?n&&this.delegate.selectorMatchElement(e,this.details):n}return!1}matchElementsInTree(e){const{selector:t}=this;if(t){const n=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(t)).filter((e=>this.matchElement(e)));return n.concat(r)}return[]}elementMatched(e){const{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){const t=this.matchesByElement.getKeysForValue(e);for(const n of t)this.selectorUnmatched(e,n)}elementAttributeChanged(e,t){const{selector:n}=this;if(n){const t=this.matchElement(e),r=this.matchesByElement.has(n,e);t&&!r?this.selectorMatched(e,n):!t&&r&&this.selectorUnmatched(e,n)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}}class k{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver((e=>this.processMutations(e)))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const n=this.delegate.getStringMapKeyForAttribute(e);if(null!=n){this.stringMap.has(e)||this.stringMapKeyAdded(n,e);const r=this.element.getAttribute(e);if(this.stringMap.get(e)!=r&&this.stringMapValueChanged(r,n,t),null==r){const t=this.stringMap.get(e);this.stringMap.delete(e),t&&this.stringMapKeyRemoved(n,e,t)}else this.stringMap.set(e,r)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,n){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,n)}stringMapKeyRemoved(e,t,n){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,n)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map((e=>e.name))}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class R{constructor(e,t,n){this.attributeObserver=new E(e,t,this),this.delegate=n,this.tokensByElement=new w}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,n]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(n)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach((e=>this.tokenMatched(e)))}tokensUnmatched(e){e.forEach((e=>this.tokenUnmatched(e)))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),r=function(e,t){const n=Math.max(e.length,t.length);return Array.from({length:n},((n,r)=>[e[r],t[r]]))}(t,n).findIndex((([e,t])=>{return r=t,!((n=e)&&r&&n.index==r.index&&n.content==r.content);var n,r}));return-1==r?[[],[]]:[t.slice(r),n.slice(r)]}readTokensForElement(e){const t=this.attributeName;return function(e,t,n){return e.trim().split(/\s+/).filter((e=>e.length)).map(((e,r)=>({element:t,attributeName:n,content:e,index:r})))}(e.getAttribute(t)||"",e,t)}}class N{constructor(e,t,n){this.tokenListObserver=new R(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))}tokenUnmatched(e){const{element:t}=e,{value:n}=this.fetchParseResultForToken(e);n&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,n))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(v){return{error:v}}}}class T{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new N(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new b(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach((e=>this.delegate.bindingDisconnected(e,!0))),this.bindingsByAction.clear()}parseValueForToken(e){const t=m.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class C{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new k(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const n=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,n.writer(this.receiver[e]),n.writer(n.defaultValue))}stringMapValueChanged(e,t,n){const r=this.valueDescriptorNameMap[t];null!==e&&(null===n&&(n=r.writer(r.defaultValue)),this.invokeChangedCallback(t,e,n))}stringMapKeyRemoved(e,t,n){const r=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,r.writer(this.receiver[e]),n):this.invokeChangedCallback(e,r.writer(r.defaultValue),n)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:n,writer:r}of this.valueDescriptors)void 0==n||this.controller.data.has(e)||this.invokeChangedCallback(t,r(n),void 0)}invokeChangedCallback(e,t,n){const r=`${e}Changed`,i=this.receiver[r];if("function"==typeof i){const r=this.valueDescriptorNameMap[e];try{const e=r.reader(t);let o=n;n&&(o=r.reader(n)),i.call(this.receiver,e,o)}catch(v){throw v instanceof TypeError&&(v.message=`Stimulus Value "${this.context.identifier}.${r.name}" - ${v.message}`),v}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map((t=>e[t]))}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach((t=>{const n=this.valueDescriptorMap[t];e[n.name]=n})),e}hasValue(e){const t=`has${l(this.valueDescriptorNameMap[e].name)}`;return this.receiver[t]}}class D{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new w}start(){this.tokenListObserver||(this.tokenListObserver=new R(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var n;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetConnected(e,t))))}disconnectTarget(e,t){var n;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),null===(n=this.tokenListObserver)||void 0===n||n.pause((()=>this.delegate.targetDisconnected(e,t))))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function M(e,t){const n=P(e);return Array.from(n.reduce(((e,n)=>(function(e,t){const n=e[t];return Array.isArray(n)?n:[]}(n,t).forEach((t=>e.add(t))),e)),new Set))}function x(e,t){return P(e).reduce(((e,n)=>(e.push(...function(e,t){const n=e[t];return n?Object.keys(n).map((e=>[e,n[e]])):[]}(n,t)),e)),[])}function P(e){const t=[];for(;e;)t.push(e),e=Object.getPrototypeOf(e);return t.reverse()}class L{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new w,this.outletElementsByName=new w,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach((e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)})),this.started=!0,this.dependentContexts.forEach((e=>e.refresh())))}refresh(){this.selectorObserverMap.forEach((e=>e.refresh())),this.attributeObserverMap.forEach((e=>e.refresh()))}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach((e=>e.stop())),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach((e=>e.stop())),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:n}){const r=this.getOutlet(e,n);r&&this.connectOutlet(r,e,n)}selectorUnmatched(e,t,{outletName:n}){const r=this.getOutletFromMap(e,n);r&&this.disconnectOutlet(r,e,n)}selectorMatchElement(e,{outletName:t}){const n=this.selector(t),r=this.hasOutlet(e,t),i=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return!!n&&(r&&i&&e.matches(n))}elementMatchedAttribute(e,t){const n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementAttributeValueChanged(e,t){const n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}elementUnmatchedAttribute(e,t){const n=this.getOutletNameFromOutletAttributeName(t);n&&this.updateSelectorObserverForOutlet(n)}connectOutlet(e,t,n){var r;this.outletElementsByName.has(n,t)||(this.outletsByName.add(n,e),this.outletElementsByName.add(n,t),null===(r=this.selectorObserverMap.get(n))||void 0===r||r.pause((()=>this.delegate.outletConnected(e,t,n))))}disconnectOutlet(e,t,n){var r;this.outletElementsByName.has(n,t)&&(this.outletsByName.delete(n,e),this.outletElementsByName.delete(n,t),null===(r=this.selectorObserverMap.get(n))||void 0===r||r.pause((()=>this.delegate.outletDisconnected(e,t,n))))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const n of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(n,t,e)}updateSelectorObserverForOutlet(e){const t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){const t=this.selector(e),n=new I(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,n),n.start()}setupAttributeObserverForOutlet(e){const t=this.attributeNameForOutletName(e),n=new E(this.scope.element,t,this);this.attributeObserverMap.set(e,n),n.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find((t=>this.attributeNameForOutletName(t)===e))}get outletDependencies(){const e=new w;return this.router.modules.forEach((t=>{M(t.definition.controllerConstructor,"outlets").forEach((n=>e.add(n,t.identifier)))})),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter((t=>e.includes(t.identifier)))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find((t=>t.element===e))}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class F{constructor(e,t){this.logDebugActivity=(e,t={})=>{const{identifier:n,controller:r,element:i}=this;t=Object.assign({identifier:n,controller:r,element:i},t),this.application.logDebugActivity(this.identifier,e,t)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new T(this,this.dispatcher),this.valueObserver=new C(this,this.controller),this.targetObserver=new D(this,this),this.outletObserver=new L(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(v){this.handleError(v,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(v){this.handleError(v,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(v){this.handleError(v,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,n={}){const{identifier:r,controller:i,element:o}=this;n=Object.assign({identifier:r,controller:i,element:o},n),this.application.handleError(e,`Error ${t}`,n)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,n){this.invokeControllerMethod(`${u(n)}OutletConnected`,e,t)}outletDisconnected(e,t,n){this.invokeControllerMethod(`${u(n)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const n=this.controller;"function"==typeof n[e]&&n[e](...t)}}function U(e){return function(e,t){const n=B(e),r=function(e,t){return j(t).reduce(((n,r)=>{const i=function(e,t,n){const r=Object.getOwnPropertyDescriptor(e,n);if(!r||!("value"in r)){const e=Object.getOwnPropertyDescriptor(t,n).value;return r&&(e.get=r.get||e.get,e.set=r.set||e.set),e}}(e,t,r);return i&&Object.assign(n,{[r]:i}),n}),{})}(e.prototype,t);return Object.defineProperties(n.prototype,r),n}(e,function(e){const t=M(e,"blessings");return t.reduce(((t,n)=>{const r=n(e);for(const e in r){const n=t[e]||{};t[e]=Object.assign(n,r[e])}return t}),{})}(e))}const j="function"==typeof Object.getOwnPropertySymbols?e=>[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)]:Object.getOwnPropertyNames,B=(()=>{function e(e){function t(){return Reflect.construct(e,arguments,new.target)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}try{return function(){const t=e((function(){this.a.call(this)}));t.prototype.a=function(){},new t}(),e}catch(v){return e=>class extends e{}}})();class G{constructor(e,t){this.application=e,this.definition=function(e){return{identifier:e.identifier,controllerConstructor:U(e.controllerConstructor)}}(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new F(this,e),this.contextsByScope.set(e,t)),t}}class H{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return t.match(/[^\s]+/g)||[]}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class W{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const n=this.getAttributeNameForKey(e);return this.element.setAttribute(n,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${d(e)}`}}class K{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,n){let r=this.warnedKeysByObject.get(e);r||(r=new Set,this.warnedKeysByObject.set(e,r)),r.has(t)||(r.add(t),this.logger.warn(n,e))}}function Z(e,t){return`[${e}~="${t}"]`}class V{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findTarget(t)||this.findLegacyTarget(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllTargets(t),...this.findAllLegacyTargets(t)]),[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){return Z(this.schema.targetAttributeForScope(this.identifier),e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map((t=>this.deprecate(t,e)))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return Z(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:n}=this,r=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(n);this.guide.warn(e,`target:${t}`,`Please replace ${r}="${n}.${t}" with ${i}="${t}". The ${r} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class z{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return null!=this.find(e)}find(...e){return e.reduce(((e,t)=>e||this.findOutlet(t)),void 0)}findAll(...e){return e.reduce(((e,t)=>[...e,...this.findAllOutlets(t)]),[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter((n=>this.matchesElement(n,e,t)))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter((n=>this.matchesElement(n,e,t)))}matchesElement(e,t,n){const r=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&r.split(" ").includes(n)}}class q{constructor(e,t,n,r){this.targets=new V(this),this.classes=new H(this),this.data=new W(this),this.containsElement=e=>e.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=n,this.guide=new K(r),this.outlets=new z(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return Z(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new q(this.schema,document.documentElement,this.identifier,this.guide.logger)}}class ${constructor(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new N(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:n}=e;return this.parseValueForElementAndIdentifier(t,n)}parseValueForElementAndIdentifier(e,t){const n=this.fetchScopesByIdentifierForElement(e);let r=n.get(t);return r||(r=this.delegate.createScopeForElementAndIdentifier(e,t),n.set(t,r)),r}elementMatchedValue(e,t){const n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class Y{constructor(e){this.application=e,this.scopeObserver=new $(this.element,this.schema,this),this.scopesByIdentifier=new w,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce(((e,t)=>e.concat(t.contexts)),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new G(this.application,e);this.connectModule(t);const n=e.controllerConstructor.afterLoad;n&&n.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find((t=>t.element==e))}proposeToConnectScopeForElementAndIdentifier(e,t){const n=this.scopeObserver.parseValueForElementAndIdentifier(e,t);n?this.scopeObserver.elementMatchedValue(n.element,n):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,n){this.application.handleError(e,t,n)}createScopeForElementAndIdentifier(e,t){return new q(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.connectContextForScope(t)))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier);this.scopesByIdentifier.getValuesForKey(e.identifier).forEach((t=>e.disconnectContextForScope(t)))}}const J={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:e=>`data-${e}-target`,outletAttributeForScope:(e,t)=>`data-${e}-${t}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},X("abcdefghijklmnopqrstuvwxyz".split("").map((e=>[e,e])))),X("0123456789".split("").map((e=>[e,e]))))};function X(e){return e.reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n})),{})}class Q{constructor(e=document.documentElement,t=J){this.logger=console,this.debug=!1,this.logDebugActivity=(e,t,n={})=>{this.debug&&this.logFormattedMessage(e,t,n)},this.element=e,this.schema=t,this.dispatcher=new i(this),this.router=new Y(this),this.actionDescriptorFilters=Object.assign({},o)}static start(e,t){const n=new this(e,t);return n.start(),n}async start(){await new Promise((e=>{"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(()=>e())):e()})),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>{e.controllerConstructor.shouldLoad&&this.router.loadDefinition(e)}))}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach((e=>this.router.unloadIdentifier(e)))}get controllers(){return this.router.contexts.map((e=>e.controller))}getControllerForElementAndIdentifier(e,t){const n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null}handleError(e,t,n){var r;this.logger.error("%s\n\n%o\n\n%o",t,e,n),null===(r=window.onerror)||void 0===r||r.call(window,t,"",0,0,e)}logFormattedMessage(e,t,n={}){n=Object.assign({application:this},n),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},n)),this.logger.groupEnd()}}function ee(e,t,n){return e.application.getControllerForElementAndIdentifier(t,n)}function te(e,t,n){let r=ee(e,t,n);return r||(e.application.router.proposeToConnectScopeForElementAndIdentifier(t,n),r=ee(e,t,n),r||void 0)}function ne([e,t],n){return function(e){const{token:t,typeDefinition:n}=e,r=`${d(t)}-value`,i=function(e){const{controller:t,token:n,typeDefinition:r}=e,i={controller:t,token:n,typeObject:r},o=function(e){const{controller:t,token:n,typeObject:r}=e,i=f(r.type),o=f(r.default),a=i&&o,s=i&&!o,c=!i&&o,u=re(r.type),l=ie(e.typeObject.default);if(s)return u;if(c)return l;if(u!==l){throw new Error(`The specified default value for the Stimulus Value "${t?`${t}.${n}`:n}" must match the defined type "${u}". The provided default value of "${r.default}" is of type "${l}".`)}if(a)return u}(i),a=ie(r),s=re(r),c=o||a||s;if(c)return c;const u=t?`${t}.${r}`:n;throw new Error(`Unknown value type "${u}" for "${n}" value`)}(e);return{type:i,key:r,name:c(r),get defaultValue(){return function(e){const t=re(e);if(t)return oe[t];const n=h(e,"default"),r=h(e,"type"),i=e;if(n)return i.default;if(r){const{type:e}=i,t=re(e);if(t)return oe[t]}return e}(n)},get hasCustomDefaultValue(){return void 0!==ie(n)},reader:ae[i],writer:se[i]||se.default}}({controller:n,token:e,typeDefinition:t})}function re(e){switch(e){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function ie(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}return Array.isArray(e)?"array":"[object Object]"===Object.prototype.toString.call(e)?"object":void 0}const oe={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},ae={array(e){const t=JSON.parse(e);if(!Array.isArray(t))throw new TypeError(`expected value of type "array" but instead got value "${e}" of type "${ie(t)}"`);return t},boolean(e){return!("0"==e||"false"==String(e).toLowerCase())},number(e){return Number(e.replace(/_/g,""))},object(e){const t=JSON.parse(e);if(null===t||"object"!=typeof t||Array.isArray(t))throw new TypeError(`expected value of type "object" but instead got value "${e}" of type "${ie(t)}"`);return t},string(e){return e}},se={default:function(e){return`${e}`},array:ce,object:ce};function ce(e){return JSON.stringify(e)}class ue{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:n={},prefix:r=this.identifier,bubbles:i=!0,cancelable:o=!0}={}){const a=new CustomEvent(r?`${r}:${e}`:e,{detail:n,bubbles:i,cancelable:o});return t.dispatchEvent(a),a}}ue.blessings=[function(e){return M(e,"classes").reduce(((e,t)=>{return Object.assign(e,{[`${n=t}Class`]:{get(){const{classes:e}=this;if(e.has(n))return e.get(n);{const t=e.getAttributeName(n);throw new Error(`Missing attribute "${t}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${l(n)}Class`]:{get(){return this.classes.has(n)}}});var n}),{})},function(e){return M(e,"targets").reduce(((e,t)=>{return Object.assign(e,{[`${n=t}Target`]:{get(){const e=this.targets.find(n);if(e)return e;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${l(n)}Target`]:{get(){return this.targets.has(n)}}});var n}),{})},function(e){const t=x(e,"values"),n={valueDescriptorMap:{get(){return t.reduce(((e,t)=>{const n=ne(t,this.identifier),r=this.data.getAttributeNameForKey(n.key);return Object.assign(e,{[r]:n})}),{})}}};return t.reduce(((e,t)=>Object.assign(e,function(e,t){const n=ne(e,t),{key:r,name:i,reader:o,writer:a}=n;return{[i]:{get(){const e=this.data.get(r);return null!==e?o(e):n.defaultValue},set(e){void 0===e?this.data.delete(r):this.data.set(r,a(e))}},[`has${l(i)}`]:{get(){return this.data.has(r)||n.hasCustomDefaultValue}}}}(t))),n)},function(e){return M(e,"outlets").reduce(((e,t)=>Object.assign(e,function(e){const t=u(e);return{[`${t}Outlet`]:{get(){const t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t){const n=te(this,t,e);if(n)return n;throw new Error(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${t}Outlets`]:{get(){const t=this.outlets.findAll(e);return t.length>0?t.map((t=>{const n=te(this,t,e);if(n)return n;console.warn(`The provided outlet element is missing an outlet controller "${e}" instance for host controller "${this.identifier}"`,t)})).filter((e=>e)):[]}},[`${t}OutletElement`]:{get(){const t=this.outlets.find(e),n=this.outlets.getSelectorForOutletName(e);if(t)return t;throw new Error(`Missing outlet element "${e}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${n}".`)}},[`${t}OutletElements`]:{get(){return this.outlets.findAll(e)}},[`has${l(t)}Outlet`]:{get(){return this.outlets.has(e)}}}}(t))),{})}],ue.targets=[],ue.outlets=[],ue.values={}},71467:function(e){var t;self,t=()=>(()=>{var e={503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{IOS_REQUEST_DESKTOP_WEBSITE:()=>f,SUPPORT_EVENTS:()=>k,cameraPrompter:()=>_,default:()=>T,handleDeviceOverrides:()=>O,iProovSupport:()=>N,testBrowser:()=>g,testLocalStorage:()=>A,testVideoInput:()=>v});var r=n(989),i=n.n(r);function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>e&&e[t]),e)}var a=n(927),s=n.n(a);const c=A()?window.localStorage:null,u="iProovKeys";function l(e){return("00"+(e.length/2).toString(16)).slice(-2).toString()}async function d(){let e=c?await s().getItem(u):null;if(!e){const t=["sign","verify"];e=await async function(e,t){let{name:n,namedCurve:r}=e,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return await window.crypto.subtle.generateKey({name:n,namedCurve:r},i,t)}({name:"ECDSA",namedCurve:"P-256"},t),c&&await async function(e){try{await s().setItem(u,e)}catch(e){if("DataCloneError"!==e.name)throw e}}(e)}return e}const f="iOS (Request Desktop Website)";function h(){try{return window.top!==window.self}catch(e){return!0}}function p(e){return"object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate}function m(e){return"MediaDevices"in window&&window.MediaDevices.prototype&&"function"==typeof window.MediaDevices.prototype.getUserMedia}function g(e){const{browser:t,device:n,engine:r,os:i,ua:o}=e.detector;if(!t.name&&!r.name)return e.logger.error("Unable to support this unknown user agent: "+o),!1;const a="tablet"===n.type||"mobile"===n.type,s="iOS"===i.name;if("Safari"===t.name&&!a){const[n,r]=t.version.split(".");if("15"===n&&"0"===r)return e.logger.error("Unable to support Safari 15.0 due to Apple WebGL bug. Please upgrade to Safari 15.1."),!1;if(e.flags.in_iframe&&e.isNativeBridge&&s&&parseInt(n)<14)return e.logger.error("Unable to support Native Bridge in iOS < 14. Please upgrade your iOS version."),!1}return!0}function v(e){return new Promise((async(t,n)=>{let r;try{r=await window.navigator.mediaDevices.enumerateDevices()}catch(e){return t(!1)}const i=r.filter((e=>"videoinput"===e.kind));if(0===i.length)return e.logger.warn("No video inputs identified"),t(!1);if(Array.from(new Set(i.filter((e=>""!==e.label)))).length)return e.tests.frontCamera=!0,t(!0);const o=Array.from(new Set(i.map((e=>e.groupId))));return(o.length>1||""!==o[0])&&e.logger.debug("Video groups found: "+o.join(", ")),t(!0)}))}function y(e){return window.DeviceMotionEvent&&"function"==typeof window.DeviceMotionEvent.requestPermission?()=>new Promise((async(e,t)=>e("granted"===await window.DeviceMotionEvent.requestPermission()))):null}async function b(e){if(!window.DeviceMotionEvent)return!1;const t=y();return null===t?!document.featurePolicy||["accelerometer","gyroscope","magnetometer"].every((e=>document.featurePolicy.allowsFeature(e))):await t(e)}function _(e){return function(){return new Promise((async(t,n)=>{try{const n=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});e.logger.debug("Got a track with: "+n.getVideoTracks()[0].label),n.getVideoTracks()[0].stop(),t(!0)}catch(n){e.logger.error("Problem testing front camera: "+n.message),t(!1)}}))}}async function E(e){return _(e)()}function S(e){return document.fullscreenEnabled||document.webkitFullscreenEnabled||"iOS"===e.detector.os.name}function A(){try{return!!window.localStorage}catch(e){return!1}}function O(e){var t,n;return"Mac OS"===e.os.name&&navigator.maxTouchPoints>1&&(e.device.type="tablet",e.os.name="iOS",e.device.model=f,e.os.version=e.browser.version),e.device.model&&e.device.model.match(/iPhone/)&&(e.device.model=e.device.model+" "+(window.screen.height<=736?"8 (or older)":"X (or newer)")),!e.device.type&&(null===(n=null===(t=e.os)||void 0===t?void 0:t.name)||void 0===n?void 0:n.match(/Android/i))&&(e.device.type="mobile"),e}const w=["wasm","userMedia","videoInput","browser","fullscreen","localStorage"],I=["frontCamera"],k={CHECK:"check",GRANTED:"granted",DENIED:"denied",UNSUPPORTED:"unsupported"},R={assuranceType:"genuine_presence"};class N extends class{constructor(){this.listeners=[]}hasEventListener(e,t){return this.listeners.some((n=>n.type===e&&n.listener===t))}addEventListener(e,t){return this.hasEventListener(e,t)||this.listeners.push({type:e,listener:t,options:{once:!1}}),this}removeEventListener(e,t){const n=this.listeners.findIndex((n=>n.type===e&&n.listener===t));return n>=0&&this.listeners.splice(n,1),this}removeEventListeners(){return this.listeners=[],this}dispatchEvent(e){return this.listeners.filter((t=>t.type===e.type)).forEach((t=>{const{type:n,listener:r,options:{once:i}}=t;r.call(this,e),!0===i&&this.removeEventListener(n,r)})),this}}{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.logger=e||console,this.detector=O(i()(window.navigator.userAgent)),this.options=Object.assign({},R,t),this.isNativeBridge=void 0,this.flags={in_iframe:h(),requires_iframe_bridge:!1},this.tests={videoInput:null,wasm:null,userMedia:null,frontCamera:null,fullscreen:null,browser:null,gyro:null,localStorage:null},this.permissionTests=[].concat(I),this.supportTests=[].concat(w),this.testSupport={videoInput:v,wasm:p,userMedia:m,frontCamera:E,fullscreen:S,browser:g,gyro:null,localStorage:A},this.configureTests(),this.detectNativeBridge()}getDetector(){return this.detector}configureTests(){if("liveness"===this.options.assuranceType){if(!["tablet","mobile"].includes(this.detector.device.type))return;"iOS"===this.detector.os.name&&parseFloat(this.detector.os.version)<15&&this.flags.in_iframe?this.flags.requires_iframe_bridge=!0:(this.tests.gyro=null,this.testSupport.gyro=b,"function"==typeof y()?this.permissionTests.push("gyro"):this.supportTests.push("gyro"))}this.hasMotionPermission=!this.permissionTests.includes("gyro")}reconfigure(e){return this.options=Object.assign({},R,e),this.configureTests()}detectNativeBridge(){return this._detectNativeBridge||(this._detectNativeBridge=async function(){return!(!o(window,"iProovNativeBridge")&&!o(window,"webkit","messageHandlers","iProovNativeBridge"))}().then((e=>(e&&this.logger.debug("Native bridge is installed"),this.isNativeBridge=e,e))).catch((e=>{this.isNativeBridge=!1,this.logger.error("There was an error: "+e.message)}))),this._detectNativeBridge}get isDeviceSupported(){return this.isNativeBridge||this.supportTests.every((e=>!0===this.tests[e]))}get isPermissionGranted(){return this.isNativeBridge||this.permissionTests.every((e=>!0===this.tests[e]))}get hasCheckedPermissions(){return this.permissionTests.every((e=>null!==this.tests[e]))}async requestMotionPermission(){try{this.hasMotionPermission=this.hasMotionPermission||await this.testSupport.gyro()}catch(e){this.hasMotionPermission=!1}return this.hasMotionPermission}async wrapTest(e){let t;return null!==this.tests[e]?(t=this.tests[e],t):(t=await this.testSupport[e](this),this.tests[e]=t,t||this.logger.warn("Test result for "+e+": "+t),t)}async checkWithPermission(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emit:!0};return await this.detectNativeBridge(),await this.check({emit:!1}),this.logger.log("Checking permission:"+this.permissionTests.join(", ")),await Promise.all(this.permissionTests.map(this.wrapTest.bind(this))),e.emit&&(this.isPermissionGranted?this.emitPayload(k.GRANTED):this.emitPayload(k.DENIED),this.emitCheckResult()),{supported:this.isDeviceSupported,granted:this.isPermissionGranted,is_native_bridge:this.isNativeBridge,flags:Object.assign({},this.flags),tests:Object.assign({},this.tests)}}async check(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emit:!0};return await this.detectNativeBridge(),await Promise.all(this.supportTests.map(this.wrapTest.bind(this))),e.emit&&this.emitCheckResult(),{supported:this.isDeviceSupported,granted:this.isPermissionGranted,is_native_bridge:this.isNativeBridge,flags:Object.assign({},this.flags),tests:Object.assign({},this.tests)}}emitPayload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.dispatchEvent(new CustomEvent(e,{detail:Object.assign(Object.assign({},t),{tests:this.tests,is_native_bridge:this.isNativeBridge})}))}emitCheckResult(){this.emitPayload(k.CHECK,{supported:this.isDeviceSupported,granted:this.hasCheckedPermissions?this.isPermissionGranted:null}),this.isDeviceSupported||this.emitPayload(k.UNSUPPORTED,{supported:this.isDeviceSupported}),this.isPermissionGranted&&this.emitPayload(k.GRANTED)}async sign(e){return async function(e,t){const n=await window.crypto.subtle.sign({name:"ECDSA",hash:"SHA-256"},e,t instanceof ArrayBuffer?t:(new TextEncoder).encode(t)),r=new Uint8Array(n),i=Array.prototype.map.call(r,(function(e){return("00"+e.toString(16)).slice(-2)})).join("");let o=i.substring(0,i.length/2),a=i.substring(i.length/2),s=!0,c=!0;for(;0===o.indexOf("00");)o=o.substring(2),s=!1;for(s&&parseInt(o.substring(0,2),16)>127&&(o="00"+o);0===a.indexOf("00");)a=a.substring(2),c=!1;c&&parseInt(a.substring(0,2),16)>127&&(a="00"+a);const u="02"+l(o)+o+"02"+l(a)+a,d="30"+l(u)+u;return btoa(d.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}((await d()).privateKey,e)}async getPublicKey(){const e=await d();return await async function(e){return function(e){return btoa(function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}(e))}(await crypto.subtle.exportKey("spki",e))}(e.publicKey)}}const T=N},927:(e,t,n)=>{e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return o.reject(e,t)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=p((function(){t(i,r)}));"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)h(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(i);++c<n;)l(e[c],c);return u;function l(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(i);++a<n;)c(e[a]);return s;function c(e){t.resolve(e).then((function(e){r||(r=!0,o.resolve(s,e))}),(function(e){r||(r=!0,o.reject(s,e))}))}}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var d="local-forage-detect-blob-support",f=void 0,h={},p=Object.prototype.toString,m="readonly",g="readwrite";function v(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function y(e){return"boolean"==typeof f?a.resolve(f):function(e){return new a((function(t){var n=e.transaction(d,g),r=o([""]);n.objectStore(d).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function b(e){var t=h[e.name],n={};n.promise=new a((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function _(e){var t=h[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function E(e,t){var n=h[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function S(e,t){return new a((function(n,r){if(h[e.name]=h[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(d)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}}))}function A(e){return S(e,!1)}function O(e){return S(e,!0)}function w(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function I(e){return o([v(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function R(e){var t=this,n=t._initReady().then((function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function N(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(i){if(r>0&&(!e.db||"InvalidStateError"===i.name||"NotFoundError"===i.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===i.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),O(e)})).then((function(){return function(e){b(e);for(var t=h[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,A(e).then((function(t){return e.db=t,w(e)?O(e):t})).then((function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r})).catch((function(t){throw E(e,t),t}))}(e).then((function(){N(e,t,n,r-1)}))})).catch(n);n(i)}}var T={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=h[n.name];i||(i={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=R);var o=[];function s(){return a.resolve()}for(var c=0;c<i.forages.length;c++){var u=i.forages[c];u!==t&&o.push(u._initReady().catch(s))}var l=i.forages.slice(0);return a.all(o).then((function(){return n.db=i.db,A(n)})).then((function(e){return n.db=e,w(n,t._defaultConfig.version)?O(n):e})).then((function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))},_support:function(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){N(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;k(r)&&(r=I(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new a((function(t,r){n.ready().then((function(){N(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),k(e)&&(e=I(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var i=new a((function(n,i){var o;r.ready().then((function(){return o=r._dbInfo,"[object Blob]"===p.call(t)?y(o.db).then((function(e){return e?t:function(e){return new a((function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)}))}(t)})):t})).then((function(t){N(r._dbInfo,g,(function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;i(e)}}catch(e){i(e)}}))})).catch(i)}));return s(i,n),i},removeItem:function(e,t){var n=this;e=u(e);var r=new a((function(t,r){n.ready().then((function(){N(n._dbInfo,g,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){N(t._dbInfo,g,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){N(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){N(n._dbInfo,m,(function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){N(t._dbInfo,m,(function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var o=e.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):A(e).then((function(t){var n=h[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t}));n=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=h[e.name],o=r.forages;t.close();for(var s=0;s<o.length;s++){var c=o[s];c._dbInfo.db=null,c._dbInfo.version=n}var u=new a((function(t,r){var o=i.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return u.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,_(n._dbInfo)}})).catch((function(t){throw(E(e,t)||a.resolve()).catch((function(){})),t}))}})):o.then((function(t){b(e);var n=h[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var s=new a((function(t,n){var r=i.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)})).catch((function(t){throw(E(e,t)||a.resolve()).catch((function(){})),t}))}))}else n=a.reject("Invalid arguments");return s(n,t),n}},C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D=/^~~local_forage_type~([^~]+)~/,M="__lfsc__:",x="arbf",P="blob",L="si08",F="ui08",U="uic8",j="si16",B="si32",G="ur16",H="ui32",W="fl32",K="fl64",Z=Object.prototype.toString;function V(e){var t,n,r,i,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(t=0;t<s;t+=4)n=C.indexOf(e[t]),r=C.indexOf(e[t+1]),i=C.indexOf(e[t+2]),o=C.indexOf(e[t+3]),l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|i>>2,l[c++]=(3&i)<<6|63&o;return u}function z(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=C[n[t]>>2],r+=C[(3&n[t])<<4|n[t+1]>>4],r+=C[(15&n[t+1])<<2|n[t+2]>>6],r+=C[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var q={serialize:function(e,t){var n="";if(e&&(n=Z.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Z.call(e.buffer))){var r,i=M;e instanceof ArrayBuffer?(r=e,i+=x):(r=e.buffer,"[object Int8Array]"===n?i+=L:"[object Uint8Array]"===n?i+=F:"[object Uint8ClampedArray]"===n?i+=U:"[object Int16Array]"===n?i+=j:"[object Uint16Array]"===n?i+=G:"[object Int32Array]"===n?i+=B:"[object Uint32Array]"===n?i+=H:"[object Float32Array]"===n?i+=W:"[object Float64Array]"===n?i+=K:t(new Error("Failed to get type for BinaryArray"))),t(i+z(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+e.type+"~"+z(this.result);t(M+P+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==M)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===P&&D.test(n)){var i=n.match(D);t=i[1],n=n.substring(i[0].length)}var a=V(n);switch(r){case x:return a;case P:return o([a],{type:t});case L:return new Int8Array(a);case F:return new Uint8Array(a);case U:return new Uint8ClampedArray(a);case j:return new Int16Array(a);case G:return new Uint16Array(a);case B:return new Int32Array(a);case H:return new Uint32Array(a);case W:return new Float32Array(a);case K:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:V,bufferToString:z};function $(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Y(e,t,n,r,i,o){e.executeSql(n,r,i,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):$(e,t,(function(){e.executeSql(n,r,i,o)}),o)}),o):o(e,a)}),o)}function J(e,t,n,r){var i=this;e=u(e);var o=new a((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var s=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){Y(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(J.apply(i,[e,s,n,r-1]));a(t)}}))}))})).catch(a)}));return s(o,n),o}var X={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new a((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(i){$(i,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=q,i},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Y(n,i,"SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=i.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Y(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},setItem:function(e,t,n){return J.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=u(e);var r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Y(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Y(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Y(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var i=n._dbInfo;i.db.transaction((function(n){Y(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){Y(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return s(r=e.name?new a((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new a((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){function i(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],s=0,c=e.storeNames.length;s<c;s++)o.push(i(e.storeNames[s]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments"),t),r}};function Q(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Q(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=q,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(i),a++)))return u}}}));return s(r,t),r},getItem:function(e,t){var n=this;e=u(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return s(r,t),r},setItem:function(e,t,n){var r=this;e=u(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new a((function(i,o){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||o(e),o(e)}}))}))}));return s(i,n),i},removeItem:function(e,t){var n=this;e=u(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new a((function(t){e.storeName?t(Q(e,i._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments"),s(r,t),r}},ne=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},re=function(e,t){for(var n=e.length,r=0;r<n;){if(ne(e[r],t))return!0;r++}return!1},ie=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},oe={},ae={},se={INDEXEDDB:T,WEBSQL:X,LOCALSTORAGE:te},ce=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],ue=["dropInstance"],le=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ue),de={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function fe(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function he(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(ie(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var pe=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],i=r._driver;this[n]=i,oe[i]||this.defineDriver(r)}this._defaultConfig=he({},de),this._config=he({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===("undefined"==typeof e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=le.concat("_initStorage"),c=0,u=o.length;c<u;c++){var l=o[c];if((!re(ue,l)||e[l])&&"function"!=typeof e[l])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return s(n,arguments[arguments.length-1]),n}},n=0,r=ue.length;n<r;n++){var i=ue[n];e[i]||(e[i]=t(i))}}();var d=function(n){oe[r]&&console.info("Redefining LocalForage driver: "+r),oe[r]=e,ae[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(d,n):d(!!e._support):d(!0)}catch(e){n(e)}}));return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=oe[e]?a.resolve(oe[e]):a.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(q);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;ie(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve();return this._driverSet=u.then((function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(i)}))})).catch((function(){o();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){he(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=le.length;e<t;e++)fe(this,le[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),me=new pe;t.exports=me},{3:3}]},{},[4])(4)},248:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new R(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};c(b,o,(function(){return this}));var _=Object.getPrototypeOf,E=_&&_(_(N([])));E&&E!==n&&r.call(E,o)&&(b=E);var S=y.prototype=g.prototype=Object.create(b);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}return v.prototype=y,c(S,"constructor",y),c(y,"constructor",v),v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},A(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},A(S),c(S,s,"Generator"),c(S,o,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},989:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="model",d="name",f="type",h="vendor",p="version",m="architecture",g="console",v="mobile",y="tablet",b="smarttv",_="wearable",E="embedded",S="Amazon",A="Apple",O="ASUS",w="BlackBerry",I="Google",k="Huawei",R="LG",N="Microsoft",T="Motorola",C="Samsung",D="Sharp",M="Sony",x="Xiaomi",P="Zebra",L="Facebook",F="Chromium OS",U="Mac OS",j=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},B=function(e,t){return typeof e===u&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,350)},W=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!u&&f[n];)if(u=f[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(s=h[i])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;d+=2}},K=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(B(t[n][r],e))return"?"===n?o:n}else if(B(t[n],e))return"?"===n?o:n;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,L],p],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,K,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,p],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,G]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,C],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,C],[f,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[l,[h,A],[f,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,A],[f,y]],[/(macintosh);/i],[l,[h,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,D],[f,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,k],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[l,[h,k],[f,v]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,x],[f,v]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,x],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[f,v]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[f,v]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[f,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,T],[f,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,T],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,R],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,R],[f,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[f,v]],[/(pixel c)\b/i],[l,[h,I],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,I],[f,v]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,M],[f,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,M],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[f,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,S],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,S],[f,v]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,w],[f,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,O],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,O],[f,v]],[/(nexus 9)/i],[l,[h,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[f,v]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[f,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[f,v]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[f,y]],[/(surface duo)/i],[l,[h,N],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[f,v]],[/(u304aa)/i],[l,[h,"AT&T"],[f,v]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[f,v]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[f,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[f,v]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[f,v]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[f,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[f,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[f,v]],[/\b(ph-1) /i],[l,[h,"Essential"],[f,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[h,l,[f,v]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,N],[f,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,P],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,P],[f,v]],[/smart-tv.+(samsung)/i],[h,[f,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,C],[f,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,R],[f,b]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[f,b]],[/crkey/i],[[l,"Chromecast"],[h,I],[f,b]],[/droid.+aft(\w)( bui|\))/i],[l,[h,S],[f,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[l,[h,D],[f,b]],[/(bravia[\w ]+)( bui|\))/i],[l,[h,M],[f,b]],[/(mitv-\w{5}) bui/i],[l,[h,x],[f,b]],[/Hbbtv.*(technisat) (.*);/i],[h,l,[f,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,H],[l,H],[f,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[f,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[f,g]],[/(playstation [345portablevi]+)/i],[l,[h,M],[f,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,N],[f,g]],[/((pebble))app/i],[h,l,[f,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[l,[h,A],[f,_]],[/droid.+; (glass) \d/i],[l,[h,I],[f,_]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,P],[f,_]],[/(quest( 2| pro)?)/i],[l,[h,L],[f,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,E]],[/(aeobc)\b/i],[l,[h,S],[f,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,v]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,K,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,K,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,U],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,F],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},z=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof z))return new z(e,t).getResult();var n=typeof i!==s&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),l=n&&n.userAgentData?n.userAgentData:o,d=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(V,t):V,f=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t.name=o,t.version=o,W.call(t,r,d.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,f&&n&&n.brave&&typeof n.brave.isBrave==a&&(t.name="Brave"),t},this.getCPU=function(){var e={};return e.architecture=o,W.call(e,r,d.cpu),e},this.getDevice=function(){var e={};return e.vendor=o,e.model=o,e.type=o,W.call(e,r,d.device),f&&!e.type&&l&&l.mobile&&(e.type=v),f&&"Macintosh"==e.model&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e.model="iPad",e.type=y),e},this.getEngine=function(){var e={};return e.name=o,e.version=o,W.call(e,r,d.engine),e},this.getOS=function(){var e={};return e.name=o,e.version=o,W.call(e,r,d.os),f&&!e.name&&l&&"Unknown"!=l.platform&&(e.name=l.platform.replace(/chrome os/i,F).replace(/macos/i,U)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>350?H(e,350):e,this},this.setUA(r),this};z.VERSION="1.0.35",z.BROWSER=j([d,p,"major"]),z.CPU=j([m]),z.DEVICE=j([l,h,f,g,v,b,y,_,E]),z.ENGINE=z.OS=j([d,p]),typeof t!==s?(e.exports&&(t=e.exports=z),t.UAParser=z):n.amdO?(r=function(){return z}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=z);var q=typeof i!==s&&(i.jQuery||i.Zepto);if(q&&!q.ua){var $=new z;q.ua=$.getResult(),q.ua.get=function(){return $.getUA()},q.ua.set=function(e){$.setUA(e);var t=$.getResult();for(var n in t)q.ua[n]=t[n]}}}("object"==typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}return n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(248),n(503)})(),e.exports=t()},78029:function(e,t,n){"use strict";n.d(t,{JD:function(){return ve},JY:function(){return Z},Jq:function(){return _e},Lz:function(){return se},TY:function(){return V},Xu:function(){return re},aV:function(){return ae},hD:function(){return Q},jf:function(){return ye},mh:function(){return Ee},zR:function(){return Se},zx:function(){return ie}});let r=0;class i{constructor(e){this.action=e,this.messageID=function(){const e=r;return r+=1,e}()}}class o extends i{constructor(e,t){super(o.action),this.wasmModuleName=e.wasmModuleName,this.licenseKey=e.licenseKey,this.userId=t,this.registerLoadCallback=null!==e.loadProgressCallback,this.allowHelloMessage=e.allowHelloMessage,this.engineLocation=e.engineLocation,this.wasmType=e.wasmType,this.numberOfWorkers=e.numberOfWorkers}}var a,s,c;o.action="init",function(e){e[e.Any=0]="Any",e[e.Recognizer=1]="Recognizer",e[e.RecognizerSettings=2]="RecognizerSettings",e[e.Callback=3]="Callback"}(a||(a={}));class u extends i{constructor(e,t){super(u.action),this.className=e,this.params=t}}u.action="createNewNativeObject";class l extends i{constructor(e,t,n){super(l.action),this.recognizerHandles=e,this.allowMultipleResults=t,this.registeredMetadataCallbacks=n}}l.action="createRecognizerRunner";class d extends i{constructor(e,t){super(d.action),this.recognizerHandles=e,this.allowMultipleResults=t}}d.action="reconfigureRecognizerRunner";class f extends i{constructor(){super(f.action)}}f.action="deleteRecognizerRunner";class h extends i{constructor(e,t,n){super(h.action),this.objectHandle=e,this.methodName=t,this.params=n}}h.action="invokeObject";class p extends i{constructor(e){super(p.action),this.frame=e}getTransferrables(){return[this.frame.imageData.data.buffer]}}p.action="processImage";class m extends i{constructor(e){super(m.action),this.hardReset=e}}m.action="resetRecognizers";class g{constructor(){this.onDebugText=!1,this.onDetectionFailed=!1,this.onQuadDetection=!1,this.onPointsDetection=!1,this.onFirstSideResult=!1,this.onGlare=!1}}class v extends i{constructor(e){super(v.action),this.registeredMetadataCallbacks=e}}v.action="registerMetadataCallbacks";class y extends i{constructor(e){super(y.action),this.detectionOnlyMode=e}}y.action="setDetectionOnly";class b extends i{constructor(e){super(b.action),this.callbackNonEmpty=e}}b.action="setClearTimeoutCallback";class _ extends i{constructor(e){super(_.action),this.cameraPreviewMirrored=e}}_.action="setCameraPreviewMirrored";class E extends i{constructor(e){super(E.action),this.userId=e}}E.action="getProductIntegrationInfo",function(e){e[e.onDebugText=0]="onDebugText",e[e.onDetectionFailed=1]="onDetectionFailed",e[e.onQuadDetection=2]="onQuadDetection",e[e.onPointsDetection=3]="onPointsDetection",e[e.onFirstSideResult=4]="onFirstSideResult",e[e.clearTimeoutCallback=5]="clearTimeoutCallback",e[e.onGlare=6]="onGlare",e[e.recognizerCallback=7]="recognizerCallback"}(s||(s={})),function(e){e.Basic="BASIC",e.Advanced="ADVANCED",e.AdvancedWithThreads="ADVANCED_WITH_THREADS"}(c||(c={}));function S(e,t){return n=>{const r=n;r.success?e():t(r.error)}}function A(e,t){return n=>{const r=n;r.success?e(n):t(r.error)}}class O{constructor(e,t,n){this.wasmSDKWorker=e,this.objectHandle=n,this.recognizerName=t,this.callbacks=new Map}getRemoteObjectHandle(){return this.objectHandle}currentSettings(){return new Promise(((e,t)=>{if(this.objectHandle<0)return void t("Invalid object handle: "+this.objectHandle.toString());const n=new h(this.objectHandle,"currentSettings",[]),r=A((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(n,r)}))}toSignedJSON(){return new Promise(((e,t)=>{if(this.objectHandle<0)return void t("Invalid object handle: "+this.objectHandle.toString());const n=new h(this.objectHandle,"toSignedJSON",[]),r=A((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(n,r)}))}clearAllCallbacks(){this.callbacks.clear(),this.wasmSDKWorker.unregisterRecognizerCallbacks(this.objectHandle)}removeFunctions(e){this.clearAllCallbacks();const t=Object.keys(e);let n=!1;for(const r of t){const t=e[r];if("function"===typeof t){this.callbacks.set(r,t);const i={parameter:{recognizerHandle:this.objectHandle,callbackName:r},type:a.Callback};e[r]=i,n=!0}}return n&&this.wasmSDKWorker.registerRecognizerCallbacks(this.objectHandle,this),e}updateSettings(e){return new Promise(((t,n)=>{if(this.objectHandle<0)return void n("Invalid object handle: "+this.objectHandle.toString());const r=new h(this.objectHandle,"updateSettings",[{parameter:this.removeFunctions(e),type:a.RecognizerSettings}]),i=S(t,n);this.wasmSDKWorker.postMessage(r,i)}))}invokeCallback(e,t){const n=this.callbacks.get(e);void 0!==n?n(...t):console.warn("Cannot find callback",e)}getResult(){return new Promise(((e,t)=>{if(this.objectHandle<0)return void t("Invalid object handle: "+this.objectHandle.toString());const n=new h(this.objectHandle,"getResult",[]),r=A((t=>{e(t.result)}),t);this.wasmSDKWorker.postMessage(n,r)}))}delete(){return new Promise(((e,t)=>{if(this.objectHandle<0)return void t("Invalid object handle: "+this.objectHandle.toString());this.clearAllCallbacks();const n=new h(this.objectHandle,"delete",[]),r=S((()=>{this.objectHandle=-1,e()}),t);this.wasmSDKWorker.postMessage(n,r)}))}}function w(e){const t=new g;return t.onDebugText=!!e.onDebugText,t.onDetectionFailed=!!e.onDetectionFailed,t.onPointsDetection=!!e.onPointsDetection,t.onQuadDetection=!!e.onQuadDetection,t.onFirstSideResult=!!e.onFirstSideResult,t.onGlare=!!e.onGlare,t}class I{constructor(e){this.deleted=!1,this.wasmSDKWorker=e}processImage(e){return new Promise(((t,n)=>{if(this.deleted)return void n("Recognizer runner is deleted. It cannot be used anymore!");const r=new p(e),i=A((e=>{const n=e.recognitionState;t(n)}),n);this.wasmSDKWorker.postTransferrableMessage(r,i)}))}reconfigureRecognizers(e,t){return new Promise(((n,r)=>{if(this.deleted)return void r("Recognizer runner is deleted. It cannot be used anymore!");const i=k(e),o=new d(i,t),a=S(n,r);this.wasmSDKWorker.postMessage(o,a)}))}setMetadataCallbacks(e){return new Promise(((t,n)=>{const r=new v(w(e)),i=S(t,n);this.wasmSDKWorker.postMessageAndRegisterCallbacks(r,e,i)}))}resetRecognizers(e){return new Promise(((t,n)=>{const r=new m(e),i=S(t,n);this.wasmSDKWorker.postMessage(r,i)}))}setDetectionOnlyMode(e){return new Promise(((t,n)=>{const r=new y(e),i=S(t,n);this.wasmSDKWorker.postMessage(r,i)}))}setClearTimeoutCallback(e){return new Promise(((t,n)=>{const r=new b(null!==e),i=S(t,n);this.wasmSDKWorker.registerClearTimeoutCallback(e),this.wasmSDKWorker.postMessage(r,i)}))}setCameraPreviewMirrored(e){return new Promise(((t,n)=>{const r=new _(e),i=S(t,n);this.wasmSDKWorker.postMessage(r,i)}))}delete(){return this.deleted?Promise.reject("Recognizer runner is already deleted."):new Promise(((e,t)=>{const n=new f,r=S((()=>{this.deleted=!0,e()}),t);this.wasmSDKWorker.postMessage(n,r)}))}}function k(e){const t=[];for(const n of e)t.push(n.getRemoteObjectHandle());return t}class R{constructor(e){this.wasmSDKWorker=e}createRecognizerRunner(e,t=!1,n={}){return new Promise(((r,i)=>{const o=k(e),a=new l(o,t,w(n)),s=S((()=>{r(new I(this.wasmSDKWorker))}),i);this.wasmSDKWorker.postMessageAndRegisterCallbacks(a,n,s)}))}newRecognizer(e,...t){return new Promise(((n,r)=>{const i=new u(e,function(e){const t=[];for(let n of e){let e=a.Any;n instanceof O&&(e=a.Recognizer,n=n.getRemoteObjectHandle()),t.push({parameter:n,type:e})}return t}(t)),o=A((t=>{const r=new O(this.wasmSDKWorker,e,t.objectHandle);n(r)}),r);this.wasmSDKWorker.postMessage(i,o)}))}}class N{constructor(e,t,n,r){this.eventHandlers={},this.metadataCallbacks={},this.clearTimeoutCallback=null,this.loadedWasmType=c.Basic,this.mbWasmWorker=e,this.mbWasmWorker.onmessage=e=>{this.handleWorkerEvent(e)},this.mbWasmWorker.onerror=()=>{r("Problem during initialization of worker file!")},this.mbWasmModule=new R(this),this.loadCallback=t,this.recognizersWithCallbacks=new Map,this.userId=n,this.showOverlay=!1}postMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e)}postTransferrableMessage(e,t){this.eventHandlers[e.messageID]=t,this.mbWasmWorker.postMessage(e,e.getTransferrables())}postMessageAndRegisterCallbacks(e,t,n){this.eventHandlers[e.messageID]=n,this.metadataCallbacks=t,this.mbWasmWorker.postMessage(e)}registerClearTimeoutCallback(e){this.clearTimeoutCallback=e}registerRecognizerCallbacks(e,t){this.recognizersWithCallbacks.set(e,t)}unregisterRecognizerCallbacks(e){this.recognizersWithCallbacks.delete(e)}delete(){this.mbWasmWorker.terminate()}getProductIntegrationInfo(){return new Promise(((e,t)=>{const n=new E(this.userId),r=A((t=>{e(t.result)}),t);this.postMessage(n,r)}))}handleWorkerEvent(e){if("isCallbackMessage"in e.data){const t=e.data;switch(t.callbackType){case s.onDebugText:"function"===typeof this.metadataCallbacks.onDebugText&&this.metadataCallbacks.onDebugText(t.callbackParameters[0]);break;case s.onDetectionFailed:"function"===typeof this.metadataCallbacks.onDetectionFailed&&this.metadataCallbacks.onDetectionFailed();break;case s.onPointsDetection:"function"===typeof this.metadataCallbacks.onPointsDetection&&this.metadataCallbacks.onPointsDetection(t.callbackParameters[0]);break;case s.onQuadDetection:"function"===typeof this.metadataCallbacks.onQuadDetection&&this.metadataCallbacks.onQuadDetection(t.callbackParameters[0]);break;case s.onFirstSideResult:"function"===typeof this.metadataCallbacks.onFirstSideResult&&this.metadataCallbacks.onFirstSideResult();break;case s.clearTimeoutCallback:this.clearTimeoutCallback&&"function"===typeof this.clearTimeoutCallback.onClearTimeout&&this.clearTimeoutCallback.onClearTimeout();break;case s.onGlare:"function"===typeof this.metadataCallbacks.onGlare&&this.metadataCallbacks.onGlare(t.callbackParameters[0]);break;case s.recognizerCallback:{const e=t.callbackParameters.shift(),n=this.recognizersWithCallbacks.get(e.recognizerHandle);void 0!==n?n.invokeCallback(e.callbackName,t.callbackParameters):console.warn("Cannot find recognizer to deliver callback message. Maybe it's destroyed?",e);break}default:throw new Error(`Unknown callback type: ${s[t.callbackType]}`)}}else if("isLoadProgressMessage"in e.data){const t=e.data;"function"===typeof this.loadCallback&&this.loadCallback(t.progress)}else{const t=e.data,n=this.eventHandlers[t.messageID];delete this.eventHandlers[t.messageID],n(t)}}static async createWasmWorker(e,t,n){return new Promise(((r,i)=>{const a=new N(e,t.loadProgressCallback,n,i),s=new o(t,n),c=A((e=>{const t=e;a.showOverlay=t.showOverlay,a.loadedWasmType=t.wasmType,r(a)}),(e=>{a&&"function"===typeof a.delete&&a.delete(),i(e)}));a.postMessage(s,c)}))}}class T extends Error{constructor(e,t){if(super(),!e.code||!e.message)throw new Error("Instance of SDKError is required to have code and message.");this.message=e.message,this.code=e.code,this.details=t}}var C,D;!function(e){e.WORKER_WASM_LOAD_FAILURE="WORKER_WASM_LOAD_FAILURE",e.WORKER_WASM_INIT_MISSING="WORKER_WASM_INIT_MISSING",e.WORKER_FUNCTION_INVOKE_FAILURE="WORKER_FUNCTION_INVOKE_FAILURE",e.WORKER_RECOGNIZER_CREATION_FAILURE="WORKER_RECOGNIZER_CREATION_FAILURE",e.WORKER_RUNNER_EXISTS="WORKER_RUNNER_EXISTS",e.WORKER_RUNNER_CREATION_FAILURE="WORKER_RUNNER_CREATION_FAILURE",e.WORKER_RUNNER_MISSING="WORKER_RUNNER_MISSING",e.WORKER_RUNNER_RECONFIGURE_FAILURE="WORKER_RUNNER_RECONFIGURE_FAILURE",e.WORKER_RUNNER_DELETED="WORKER_RUNNER_DELETED",e.WORKER_RUNNER_DELETE_FAILURE="WORKER_RUNNER_DELETE_FAILURE",e.WORKER_OBJECT_INVOKE_FAILURE="WORKER_OBJECT_INVOKE_FAILURE",e.WORKER_IMAGE_PROCESS_FAILURE="WORKER_IMAGE_PROCESS_FAILURE",e.WORKER_HANDLE_UNDEFINED="WORKER_HANDLE_UNDEFINED",e.WORKER_MESSAGE_ACTION_UNKNOWN="WORKER_MESSAGE_ACTION_UNKNOWN",e.WORKER_LICENSE_UNLOCK_ERROR="WORKER_LICENSE_UNLOCK_ERROR",e.WORKER_INTEGRATION_INFO_FAILURE="WORKER_INTEGRATION_INFO_FAILURE",e.LOCAL_SDK_RUNNER_MISSING="LOCAL_SDK_RUNNER_MISSING",e.LOCAL_SDK_RUNNER_EMPTY="LOCAL_SDK_RUNNER_EMPTY",e.LICENSE_UNLOCK_ERROR="LICENSE_UNLOCK_ERROR",e.FRAME_CAPTURE_SVG_UNSUPPORTED="FRAME_CAPTURE_SVG_UNSUPPORTED",e.FRAME_CAPTURE_CANVAS_MISSING="FRAME_CAPTURE_CANVAS_MISSING",e.SDK_WASM_SETTINGS_MISSING="SDK_WASM_SETTINGS_MISSING",e.SDK_LICENSE_KEY_MISSING="SDK_LICENSE_KEY_MISSING",e.SDK_WASM_MODULE_NAME_MISSING="SDK_WASM_MODULE_NAME_MISSING",e.SDK_ENGINE_LOCATION_INVALID="SDK_ENGINE_LOCATION_INVALID",e.SDK_WORKER_LOCATION_INVALID="SDK_WORKER_LOCATION_INVALID",e.SDK_MISSING="SDK_MISSING",e.SDK_RECOGNIZERS_MISSING="SDK_RECOGNIZERS_MISSING",e.VIDEO_RECOGNIZER_ELEMENT_MISSING="VIDEO_RECOGNIZER_ELEMENT_MISSING",e.VIDEO_RECOGNIZER_CAMERA_MISSING="VIDEO_RECOGNIZER_CAMERA_MISSING",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED="VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE="VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE",e.VIDEO_RECOGNIZER_CAMERA_IN_USE="VIDEO_RECOGNIZER_CAMERA_IN_USE",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED="VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED",e.VIDEO_RECOGNIZER_FEED_RELEASED="VIDEO_RECOGNIZER_FEED_RELEASED",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED="VIDEO_RECOGNIZER_FEED_NOT_PAUSED",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED="VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED",e.VIDEO_RECOGNIZER_FEED_PAUSED="VIDEO_RECOGNIZER_FEED_PAUSED",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE="VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE",e.VIDEO_RECOGNIZER_FEED_MISSING="VIDEO_RECOGNIZER_FEED_MISSING"}(C||(C={})),function(e){e.WORKER_HANDLE_UNDEFINED="Cannot find object with handle: undefined",e.WORKER_WASM_LOAD_FAILURE="Failed to load WASM in web worker!",e.WORKER_WASM_INIT_MISSING="WASM module is not initialized!",e.WORKER_FUNCTION_INVOKE_FAILURE="Failed to invoke function!",e.WORKER_RECOGNIZER_CREATION_FAILURE="Failed to create new recognizer!",e.WORKER_RUNNER_EXISTS="Recognizer runner is already created! Multiple instances are not allowed!",e.WORKER_RUNNER_CREATION_FAILURE="Failed to create new recognizer runner!",e.WORKER_RUNNER_MISSING="Recognizer runner is not created! There is nothing to reconfigure!",e.WORKER_RUNNER_RECONFIGURE_FAILURE="Failed to reconfigure recognizer runner!",e.WORKER_RUNNER_DELETED="Recognizer runner is already deleted!",e.WORKER_RUNNER_DELETE_FAILURE="Failed to delete recognizer runner!",e.WORKER_OBJECT_INVOKE_FAILURE="Failed to invoke object!",e.WORKER_IMAGE_PROCESS_FAILURE="Recognizer runner is not initialized! Cannot process image!",e.WORKER_INTEGRATION_INFO_FAILURE="Failed to get product integration info!",e.LOCAL_SDK_RUNNER_MISSING="Property nativeRecognizerRunner is not available!",e.LOCAL_SDK_RUNNER_EMPTY="Native RecognizerRunner cannot be empty!",e.LICENSE_TOKEN_STATE_INCORRECT="Internal error (Incorrect token state)",e.LICENSE_PAYLOAD_VERIFICATION_FAILED="Failed to verify server permission's digital signature!",e.LICENSE_PAYLOAD_CORRUPTED="Server permission payload is corrupted!",e.LICENSE_PERMISSION_EXPIRED="Internal error (server permission expired)",e.LICENSE_REMOTE_LOCKED="Provided license key has been remotely locked. Please contact support for more information!",e.FRAME_CAPTURE_SVG_UNSUPPORTED="Recognition of SVG elements not supported!",e.FRAME_CAPTURE_CANVAS_MISSING="Could not get canvas 2d context!",e.SDK_WASM_SETTINGS_MISSING="Missing WASM load settings!",e.SDK_LICENSE_KEY_MISSING="Missing license key!",e.SDK_WASM_MODULE_NAME_MISSING="Missing WASM module name!",e.SDK_ENGINE_LOCATION_INVALID="Setting property 'engineLocation' must be a string!",e.SDK_WORKER_LOCATION_INVALID="Setting property 'workerLocation' must be a string!",e.SDK_MISSING="SDK is not provided!",e.SDK_RECOGNIZERS_MISSING="To create RecognizerRunner at least 1 recognizer is required.",e.VIDEO_RECOGNIZER_ELEMENT_MISSING="Video element, i.e. camera feed is not provided!",e.VIDEO_RECOGNIZER_CAMERA_MISSING="Camera not found!",e.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED="Camera not allowed!",e.VIDEO_RECOGNIZER_CAMERA_UNAVAILABLE="Camera not available!",e.VIDEO_RECOGNIZER_CAMERA_IN_USE="Camera in use!",e.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED="Media devices not supported by browser.",e.VIDEO_RECOGNIZER_FEED_RELEASED="The associated video feed has been released!",e.VIDEO_RECOGNIZER_FEED_NOT_PAUSED="The associated video feed is not paused. Use resumeRecognition instead!",e.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED="The play() request was interrupted or prevented by browser security rules!",e.VIDEO_RECOGNIZER_FEED_PAUSED="Cannot resume recognition while video feed is paused! Use recognize or startRecognition",e.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE="Could not reset recognizers!",e.VIDEO_RECOGNIZER_FEED_MISSING="Missing video feed!"}(D||(D={}));const M={feedMissing:{message:D.VIDEO_RECOGNIZER_FEED_MISSING,code:C.VIDEO_RECOGNIZER_FEED_MISSING},recognizersResetFailure:{message:D.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE,code:C.VIDEO_RECOGNIZER_RECOGNIZERS_RESET_FAILURE},feedPaused:{message:D.VIDEO_RECOGNIZER_FEED_PAUSED,code:C.VIDEO_RECOGNIZER_FEED_PAUSED},playRequestInterrupted:{message:D.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED,code:C.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED},videoFeedNotPaused:{message:D.VIDEO_RECOGNIZER_FEED_NOT_PAUSED,code:C.VIDEO_RECOGNIZER_FEED_NOT_PAUSED},videoFeedReleased:{message:D.VIDEO_RECOGNIZER_FEED_RELEASED,code:C.VIDEO_RECOGNIZER_FEED_RELEASED},mediaDevicesUnsupported:{code:C.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED,message:D.VIDEO_RECOGNIZER_MEDIA_DEVICES_UNSUPPORTED},cameraMissing:{code:C.VIDEO_RECOGNIZER_CAMERA_MISSING,message:D.VIDEO_RECOGNIZER_CAMERA_MISSING},cameraNotAllowed:{code:C.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED,message:D.VIDEO_RECOGNIZER_CAMERA_NOT_ALLOWED},elementMissing:{message:D.VIDEO_RECOGNIZER_ELEMENT_MISSING,code:C.VIDEO_RECOGNIZER_ELEMENT_MISSING}},x={wasmSettingsMissing:{message:D.SDK_WASM_SETTINGS_MISSING,code:C.SDK_WASM_SETTINGS_MISSING},licenseKeyMissing:{message:D.SDK_LICENSE_KEY_MISSING,code:C.SDK_LICENSE_KEY_MISSING},wasmModuleNameMissing:{message:D.SDK_WASM_MODULE_NAME_MISSING,code:C.SDK_WASM_MODULE_NAME_MISSING},engineLocationInvalid:{message:D.SDK_ENGINE_LOCATION_INVALID,code:C.SDK_ENGINE_LOCATION_INVALID},workerLocationInvalid:{message:D.SDK_WORKER_LOCATION_INVALID,code:C.SDK_WORKER_LOCATION_INVALID},missing:{message:D.SDK_MISSING,code:C.SDK_MISSING},recognizersMissing:{message:D.SDK_RECOGNIZERS_MISSING,code:C.SDK_RECOGNIZERS_MISSING}},P={svgUnsupported:{message:D.FRAME_CAPTURE_SVG_UNSUPPORTED,code:C.FRAME_CAPTURE_SVG_UNSUPPORTED},canvasMissing:{message:D.FRAME_CAPTURE_CANVAS_MISSING,code:C.FRAME_CAPTURE_CANVAS_MISSING}};C.LICENSE_UNLOCK_ERROR,D.LICENSE_TOKEN_STATE_INCORRECT,C.LICENSE_UNLOCK_ERROR,D.LICENSE_PAYLOAD_VERIFICATION_FAILED,C.LICENSE_UNLOCK_ERROR,D.LICENSE_PAYLOAD_CORRUPTED,C.LICENSE_UNLOCK_ERROR,D.LICENSE_PERMISSION_EXPIRED,C.LICENSE_UNLOCK_ERROR,D.LICENSE_REMOTE_LOCKED,C.LICENSE_UNLOCK_ERROR,C.LICENSE_UNLOCK_ERROR,D.LOCAL_SDK_RUNNER_MISSING,C.LOCAL_SDK_RUNNER_MISSING,D.LOCAL_SDK_RUNNER_EMPTY,C.LOCAL_SDK_RUNNER_EMPTY,D.WORKER_IMAGE_PROCESS_FAILURE,C.WORKER_IMAGE_PROCESS_FAILURE,D.WORKER_OBJECT_INVOKE_FAILURE,C.WORKER_OBJECT_INVOKE_FAILURE,D.WORKER_RUNNER_DELETE_FAILURE,C.WORKER_RUNNER_DELETE_FAILURE,D.WORKER_RUNNER_DELETED,C.WORKER_RUNNER_DELETED,D.WORKER_RUNNER_RECONFIGURE_FAILURE,C.WORKER_RUNNER_RECONFIGURE_FAILURE,D.WORKER_RUNNER_MISSING,C.WORKER_RUNNER_MISSING,D.WORKER_RUNNER_CREATION_FAILURE,C.WORKER_RUNNER_CREATION_FAILURE,D.WORKER_RUNNER_EXISTS,C.WORKER_RUNNER_EXISTS,D.WORKER_RECOGNIZER_CREATION_FAILURE,C.WORKER_RECOGNIZER_CREATION_FAILURE,D.WORKER_FUNCTION_INVOKE_FAILURE,C.WORKER_FUNCTION_INVOKE_FAILURE,D.WORKER_WASM_INIT_MISSING,C.WORKER_WASM_INIT_MISSING,D.WORKER_WASM_LOAD_FAILURE,C.WORKER_WASM_LOAD_FAILURE,D.WORKER_HANDLE_UNDEFINED,C.WORKER_HANDLE_UNDEFINED,D.WORKER_INTEGRATION_INFO_FAILURE,C.WORKER_INTEGRATION_INFO_FAILURE;var L;!function(e){e[e.BackFacingCamera=0]="BackFacingCamera",e[e.FrontFacingCamera=1]="FrontFacingCamera"}(L||(L={}));const F=["rear","back","r\xfcck","arri\xe8re","trasera","tr\xe1s","traseira","posteriore","\u540e\u9762","\u5f8c\u9762","\u80cc\u9762","\u540e\u7f6e","\u5f8c\u7f6e","\u80cc\u7f6e","\u0437\u0430\u0434\u043d\u0435\u0439","\u0627\u0644\u062e\u0644\u0641\u064a\u0629","\ud6c4","arka","achterzijde","\u0e2b\u0e25\u0e31\u0e07","baksidan","bagside","sau","bak","tylny","takakamera","belakang","\u05d0\u05d7\u05d5\u05e8\u05d9\u05ea","\u03c0\u03af\u03c3\u03c9","spate","h\xe1ts\xf3","zadn\xed","darrere","zadn\xe1","\u0437\u0430\u0434\u043d\u044f","stra\u017enja","belakang","\u092c\u0948\u0915"],U=()=>!!navigator.userAgent.match(/Android/i);function j(e){const t=e.toLowerCase();return F.some((e=>t.includes(e)))}class B{constructor(e,t,n){this.deviceId=e.deviceId,this.facing=t,this.groupId=e.groupId,this.label=n||e.label}}async function G(e,t){const{frontCameras:n,backCameras:r}=await async function(){const e=[],t=[];let n=await navigator.mediaDevices.enumerateDevices();if(n.filter((e=>"videoinput"===e.kind)).every((e=>""===e.label))){const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}},audio:!1});n=await navigator.mediaDevices.enumerateDevices(),e.getTracks().forEach((e=>e.stop()))}const r=n.filter((e=>"videoinput"===e.kind));let i=0,o=0;for(const a of r)if(j(a.label)){let e;i++,U()&&(e=`Back camera ${i}`),t.push(new B(a,L.BackFacingCamera,e))}else{let t;o++,U()&&(t=`Front camera ${o}`),e.push(new B(a,L.FrontFacingCamera,t))}return{frontCameras:e,backCameras:t}}();if(!n.length&&!r.length)return null;let i=r.length>0?r:n;t===L.BackFacingCamera&&r.length>0&&(i=r),t===L.FrontFacingCamera&&n.length>0&&(i=n),i=i.sort(((e,t)=>e.label.localeCompare(t.label)));let o=i.length-1;const a=i.findIndex((e=>"Back Triple Camera"===e.label)),s=i.findIndex((e=>"Back Dual Wide Camera"===e.label));s>=0&&(o=s),a>=0&&(o=a);const c=i.map((e=>{const t=RegExp(/\b([0-9]+)MP?\b/,"i").exec(e.label);return null!==t?parseInt(t[1],10):NaN}));if(c.some((e=>isNaN(e)))||(o=c.lastIndexOf(Math.max(...c))),e){let t;return t=n.filter((t=>t.deviceId===e))[0],t||(t=r.filter((t=>t.deviceId===e))[0]),t||null}return i[o]}async function H(e,t,n=L.BackFacingCamera,r=!1){const i={audio:!1,video:{width:{min:640,ideal:1920,max:1920},height:{min:480,ideal:1080,max:1080}}};if(""===e.deviceId){const e=n===L.BackFacingCamera;i.video.facingMode={ideal:e?"environment":"user"}}else i.video.deviceId={exact:e.deviceId};const o=await navigator.mediaDevices.getUserMedia(i);t.controls=!1,t.srcObject=o;let a=!1;if(e.facing===L.FrontFacingCamera&&(a=!0),r){const e=o.getVideoTracks()[0],t=e.getCapabilities();e.applyConstraints({width:t.width?.max,height:t.height?.max})}return a}function W(){const e=function(){const e=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);if(e)return[parseInt(e[1],10),parseInt(e[2],10)];return null}();return!!(e&&e[0]>=16&&e[1]>=3)}var K,Z;function V(){try{if("object"===typeof WebAssembly&&"function"===typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){return!1}return!1}let z,q;!function(e){e[e.RotatedLeft90=0]="RotatedLeft90",e[e.NoRotation=1]="NoRotation",e[e.RotatedRight90=2]="RotatedRight90",e[e.Rotated180=3]="Rotated180"}(K||(K={})),function(e){e[e.Empty=0]="Empty",e[e.Uncertain=1]="Uncertain",e[e.Valid=2]="Valid",e[e.StageValid=3]="StageValid"}(Z||(Z={}));class ${constructor(e,t,n){const r={data:e.data,width:e.width,height:e.height,colorSpace:e.colorSpace};this.imageData=r,this.orientation=t,this.videoFrame=n}}var Y,J;!function(e){e[e.Invalid=0]="Invalid",e[e.RequiresServerPermission=1]="RequiresServerPermission",e[e.Valid=2]="Valid"}(Y||(Y={})),function(e){e.LicenseTokenStateInvalid="LICENSE_TOKEN_STATE_INVALID",e.NetworkError="NETWORK_ERROR",e.RemoteLock="REMOTE_LOCK",e.PermissionExpired="PERMISSION_EXPIRED",e.PayloadCorrupted="PAYLOAD_CORRUPTED",e.PayloadSignatureVerificationFailed="PAYLOAD_SIGNATURE_VERIFICATION_FAILED",e.IncorrectTokenState="INCORRECT_TOKEN_STATE"}(J||(J={}));var X,Q;!function(e){e[e.Ok=0]="Ok",e[e.NetworkError=1]="NetworkError",e[e.RemoteLock=2]="RemoteLock",e[e.PermissionExpired=3]="PermissionExpired",e[e.PayloadCorrupted=4]="PayloadCorrupted",e[e.PayloadSignatureVerificationFailed=5]="PayloadSignatureVerificationFailed",e[e.IncorrectTokenState=6]="IncorrectTokenState"}(X||(X={})),function(e){e[e.Failed=0]="Failed",e[e.Success=1]="Success",e[e.CameraTooFar=2]="CameraTooFar",e[e.CameraTooClose=3]="CameraTooClose",e[e.CameraAngleTooSteep=4]="CameraAngleTooSteep",e[e.DocumentTooCloseToCameraEdge=5]="DocumentTooCloseToCameraEdge",e[e.DocumentPartiallyVisible=6]="DocumentPartiallyVisible",e[e.FallbackSuccess=7]="FallbackSuccess"}(Q||(Q={}));class ee extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}const te=function({limit:e,interval:t,strict:n}){if(!Number.isFinite(e))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(t))throw new TypeError("Expected `interval` to be a finite number");const r=new Map;let i=0,o=0;const a=[],s=n?function(){const n=Date.now();if(a.length<e)return a.push(n),0;const r=a.shift()+t;return n>=r?(a.push(n),0):(a.push(r),r-n)}:function(){const n=Date.now();return n-i>t?(o=1,i=n,0):(o<e?o++:(i+=t,o=1),i-n)};return e=>{const t=function(...n){if(!t.isEnabled)return(async()=>e.apply(this,n))();let i;return new Promise(((t,o)=>{i=setTimeout((()=>{t(e.apply(this,n)),r.delete(i)}),s()),r.set(i,o)}))};return t.abort=()=>{for(const e of r.keys())clearTimeout(e),r.get(e)(new ee);r.clear(),a.splice(0,a.length)},t.isEnabled=!0,Object.defineProperty(t,"queueSize",{get(){return r.size}}),t}}({limit:1,interval:Math.round(1/15*1e3),strict:!0});var ne;!function(e){e[e.Recognition=0]="Recognition",e[e.RecognitionTest=1]="RecognitionTest",e[e.DetectionTest=2]="DetectionTest"}(ne||(ne={}));class re{constructor(e,t,n=!1,r=null){this.deviceId=null,this.recognitionCancelRequested=!1,this.recognitionPauseRequested=!1,this.recognitionTimeoutMs=2e4,this.timeoutStartedAt=0,this.currentTimeoutCount=0,this.videoRecognitionMode=ne.Recognition,this.onScanningDone=null,this.cameraFlipped=!1,this.isProblematicFocus=!1,this.handleFlippingVideo=async()=>{let e=1,t=1;this.isProblematicFocus?(t=1.5,e=1.5):(t=1,e=1),this.cameraFlipped&&(e=-e),this.videoElement.style.transform=`scale(${e}, ${t})`,await this.recognizerRunner.setCameraPreviewMirrored(e<0)},this.flipCamera=async()=>{this.cameraFlipped=!this.cameraFlipped,await this.handleFlippingVideo()},this.isCameraFlipped=()=>this.cameraFlipped,this.setVideoRecognitionMode=async e=>{this.videoRecognitionMode=e;const t=this.videoRecognitionMode===ne.DetectionTest;await this.recognizerRunner.setDetectionOnlyMode(t)},this.startRecognition=async(e,t=2e4)=>{try{await this.videoElement.play()}catch(n){throw new Error(D.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED)}this.recognitionPauseRequested=!1,this.recognitionCancelRequested=!1,this.clearTimeout(),this.recognitionTimeoutMs=t,this.onScanningDone=e,await this.throttledQueueFrame()},this.resumeRecognition=async e=>{if(e)try{await this.resetRecognizers(!0)}catch(t){throw new T(M.recognizersResetFailure)}try{await this.videoElement.play()}catch(t){throw new Error(D.VIDEO_RECOGNIZER_PLAY_REQUEST_INTERRUPTED)}try{this.recognitionPauseRequested=!1,await this.throttledQueueFrame()}catch(t){this.recognitionPauseRequested=!0,console.error(t)}},this.recognize=(e=2e4)=>new Promise((t=>{this.startRecognition((e=>{this.pauseVideoFeed(),t(e)}),e)})),this.pauseVideoFeed=()=>{this.videoElement.readyState>this.videoElement.HAVE_CURRENT_DATA&&!this.videoElement.paused&&(this.videoElement.pause(),this.pauseRecognition())},this.pauseRecognition=()=>{this.recognitionPauseRequested=!0},this.cancelRecognition=()=>{this.recognitionCancelRequested=!0},this.resetRecognizers=async e=>{await this.recognizerRunner.resetRecognizers(e)},this.getRecognizerRunner=()=>this.recognizerRunner,this.getVideoElement=()=>this.videoElement,this.changeCameraDevice=async e=>{this.pauseRecognition(),this.releaseVideoFeed(),await H(e,this.videoElement,L.BackFacingCamera,this.isProblematicFocus),await this.resumeRecognition(!0)},this.queueFrame=()=>new Promise((e=>{this.frameCallback((()=>{this.recognitionLoop().then((()=>e()))}))})),this.throttledQueueFrame=te(this.queueFrame),this.recognitionLoop=async()=>{if(this.recognitionPauseRequested)return;if(this.recognitionCancelRequested)return this.clearTimeout(),await this.resetRecognizers(!0),this.onScanningDone=null,void(this.recognitionCancelRequested=!1);const e=function(e,t=!1){let n,r,i=!1;if(e instanceof HTMLVideoElement)n=e.videoWidth,r=e.videoHeight,i=!0;else if(e instanceof HTMLImageElement)n=e.naturalWidth,r=e.naturalHeight;else{if(e instanceof SVGImageElement)throw new T(P.svgUnsupported);n=e.width,r=e.height}if(z=z||document.createElement("canvas"),z.width!==n&&z.height!==r&&(z.width=n,z.height=r),q=q||z.getContext("2d",{willReadFrequently:!0,alpha:!1}),!q)throw new T(P.canvasMissing);q.drawImage(e,0,0,z.width,z.height);const o=t?.66:1,a=z.width*o,s=z.height*o,c=(z.width-a)/2,u=(z.height-s)/2,l=q.getImageData(c,u,a,s);return new $(l,K.NoRotation,i)}(this.videoElement,this.isProblematicFocus);await new Promise((e=>setTimeout(e,0)));const t=await this.recognizerRunner.processImage(e);if(this.videoRecognitionMode===ne.DetectionTest||this.videoRecognitionMode===ne.RecognitionTest)return await this.recognizerRunner.resetRecognizers(!0),this.clearTimeout(),void this.throttledQueueFrame();switch(t){case Z.Valid:return this.clearTimeout(),void("function"===typeof this.onScanningDone&&this.onScanningDone(t));case Z.Uncertain:{const e=performance.now();return 0===this.timeoutStartedAt&&(this.timeoutStartedAt=e),this.currentTimeoutCount=e-this.timeoutStartedAt,this.currentTimeoutCount<this.recognitionTimeoutMs?void this.throttledQueueFrame():(this.clearTimeout(),void("function"===typeof this.onScanningDone&&this.onScanningDone(t)))}case Z.StageValid:case Z.Empty:return this.clearTimeout(),void this.throttledQueueFrame()}},this.clearTimeout=()=>{this.currentTimeoutCount=0,this.timeoutStartedAt=0},this.releaseVideoFeed=()=>{this.videoElement&&null!==this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream&&(this.videoElement.srcObject.getTracks().forEach((e=>e.stop())),this.videoElement.srcObject=null)},this.videoElement=e,this.recognizerRunner=t,this.cameraFlipped=n,this.deviceId=r,this.isProblematicFocus=W(),"requestVideoFrameCallback"in HTMLVideoElement.prototype?this.frameCallback=this.videoElement.requestVideoFrameCallback.bind(this.videoElement):this.frameCallback=window.requestAnimationFrame.bind(window),this.handleFlippingVideo(),this.videoElement.setAttribute("playsinline",""),this.videoElement.setAttribute("mute","")}static async createVideoRecognizerFromCameraStream(e,t,n=null,r=L.BackFacingCamera){if(!e||!(e instanceof HTMLVideoElement))throw new T(M.elementMissing);if(!navigator.mediaDevices.getUserMedia)throw new T(M.mediaDevicesUnsupported);const i=await G(n,r);if(!i)throw new T(M.cameraMissing);const o=W(),a=await H(i,e,r,o);return new re(e,t,a,i.deviceId)}static createVideoRecognizerFromVideoPath(e,t,n){const r=new re(t,n);return t.src=e,t.currentTime=0,t.onended=()=>{r.cancelRecognition()},r}}class ie{constructor(e){if(this.allowHelloMessage=!0,this.engineLocation="",this.workerLocation="",this.wasmType=null,this.numberOfWorkers=null,this.loadProgressCallback=null,this.wasmModuleName="BlinkIDWasmSDK",!e)throw new T(x.licenseKeyMissing);this.licenseKey=e}}function oe(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}async function ae(e){return new Promise(((t,n)=>{if(!e||"object"!==typeof e)return void n(new T(x.wasmSettingsMissing));if("string"!==typeof e.licenseKey)return void n(new T(x.licenseKeyMissing));if(!e.wasmModuleName)return void n(new T(x.wasmModuleNameMissing));if("string"!==typeof e.engineLocation)return void n(new T(x.engineLocationInvalid));if("string"!==typeof e.workerLocation)return void n(new T(x.workerLocationInvalid));const r=function(){try{let e=localStorage.getItem("mb-user-id");return null===e&&(e=oe(),localStorage.setItem("mb-user-id",e)),e}catch(e){return oe()}}();try{const i=`/resources/${e.wasmModuleName}.worker.min.js`,o=window.location.origin+i,a=e.workerLocation||o;e.allowHelloMessage&&console.log("Worker location is:",a);const s=new Worker(a);N.createWasmWorker(s,e,r).then((e=>{t(e)}),n)}catch(i){n(i)}}))}async function se(e,t,n=!1,r={}){if("object"!==typeof e)throw new T(x.missing);if("object"!==typeof t||t.length<1)throw new T(x.recognizersMissing);return e.mbWasmModule.createRecognizerRunner(t,n,r)}var ce,ue,le,de,fe,he,pe,me,ge,ve,ye,be;!function(e){e[e.NONE=0]="NONE",e[e.QR_CODE=1]="QR_CODE",e[e.DATA_MATRIX=2]="DATA_MATRIX",e[e.UPC_E=3]="UPC_E",e[e.UPC_A=4]="UPC_A",e[e.EAN_8=5]="EAN_8",e[e.EAN_13=6]="EAN_13",e[e.CODE_128=7]="CODE_128",e[e.CODE_39=8]="CODE_39",e[e.ITF=9]="ITF",e[e.AZTEC_BARCODE=10]="AZTEC_BARCODE",e[e.PDF417_BARCODE=11]="PDF417_BARCODE"}(ce||(ce={})),function(e){e[e.None=0]="None",e[e.ImageOnly=1]="ImageOnly",e[e.ResultFieldsOnly=2]="ResultFieldsOnly",e[e.FullResult=3]="FullResult"}(ue||(ue={}));class _e{constructor(){this.enableMrzId=!0,this.enableMrzPassport=!0,this.enableMrzVisa=!0,this.enablePhotoId=!0,this.enableBarcodeId=!0,this.enableFullDocumentRecognition=!0}}class Ee{constructor(e=0,t=0,n=0,r=0){this.upFactor=0,this.downFactor=0,this.leftFactor=0,this.rightFactor=0,this.checkExtensionFactor(e),this.checkExtensionFactor(t),this.checkExtensionFactor(n),this.checkExtensionFactor(r),this.upFactor=e,this.downFactor=t,this.leftFactor=n,this.rightFactor=r}checkExtensionFactor(e){if(e>1||e<-1)throw new Error("Extension factor must be in range [-1.0, 1.0]")}}!function(e){e[e.DocumentType=0]="DocumentType",e[e.StandardVersionNumber=1]="StandardVersionNumber",e[e.CustomerFamilyName=2]="CustomerFamilyName",e[e.CustomerFirstName=3]="CustomerFirstName",e[e.CustomerFullName=4]="CustomerFullName",e[e.DateOfBirth=5]="DateOfBirth",e[e.Sex=6]="Sex",e[e.EyeColor=7]="EyeColor",e[e.AddressStreet=8]="AddressStreet",e[e.AddressCity=9]="AddressCity",e[e.AddressJurisdictionCode=10]="AddressJurisdictionCode",e[e.AddressPostalCode=11]="AddressPostalCode",e[e.FullAddress=12]="FullAddress",e[e.Height=13]="Height",e[e.HeightIn=14]="HeightIn",e[e.HeightCm=15]="HeightCm",e[e.CustomerMiddleName=16]="CustomerMiddleName",e[e.HairColor=17]="HairColor",e[e.NameSuffix=18]="NameSuffix",e[e.AKAFullName=19]="AKAFullName",e[e.AKAFamilyName=20]="AKAFamilyName",e[e.AKAGivenName=21]="AKAGivenName",e[e.AKASuffixName=22]="AKASuffixName",e[e.WeightRange=23]="WeightRange",e[e.WeightPounds=24]="WeightPounds",e[e.WeightKilograms=25]="WeightKilograms",e[e.CustomerIdNumber=26]="CustomerIdNumber",e[e.FamilyNameTruncation=27]="FamilyNameTruncation",e[e.FirstNameTruncation=28]="FirstNameTruncation",e[e.MiddleNameTruncation=29]="MiddleNameTruncation",e[e.PlaceOfBirth=30]="PlaceOfBirth",e[e.AddressStreet2=31]="AddressStreet2",e[e.RaceEthnicity=32]="RaceEthnicity",e[e.NamePrefix=33]="NamePrefix",e[e.CountryIdentification=34]="CountryIdentification",e[e.ResidenceStreetAddress=35]="ResidenceStreetAddress",e[e.ResidenceStreetAddress2=36]="ResidenceStreetAddress2",e[e.ResidenceCity=37]="ResidenceCity",e[e.ResidenceJurisdictionCode=38]="ResidenceJurisdictionCode",e[e.ResidencePostalCode=39]="ResidencePostalCode",e[e.ResidenceFullAddress=40]="ResidenceFullAddress",e[e.Under18=41]="Under18",e[e.Under19=42]="Under19",e[e.Under21=43]="Under21",e[e.SocialSecurityNumber=44]="SocialSecurityNumber",e[e.AKASocialSecurityNumber=45]="AKASocialSecurityNumber",e[e.AKAMiddleName=46]="AKAMiddleName",e[e.AKAPrefixName=47]="AKAPrefixName",e[e.OrganDonor=48]="OrganDonor",e[e.Veteran=49]="Veteran",e[e.AKADateOfBirth=50]="AKADateOfBirth",e[e.IssuerIdentificationNumber=51]="IssuerIdentificationNumber",e[e.DocumentExpirationDate=52]="DocumentExpirationDate",e[e.JurisdictionVersionNumber=53]="JurisdictionVersionNumber",e[e.JurisdictionVehicleClass=54]="JurisdictionVehicleClass",e[e.JurisdictionRestrictionCodes=55]="JurisdictionRestrictionCodes",e[e.JurisdictionEndorsementCodes=56]="JurisdictionEndorsementCodes",e[e.DocumentIssueDate=57]="DocumentIssueDate",e[e.FederalCommercialVehicleCodes=58]="FederalCommercialVehicleCodes",e[e.IssuingJurisdiction=59]="IssuingJurisdiction",e[e.StandardVehicleClassification=60]="StandardVehicleClassification",e[e.IssuingJurisdictionName=61]="IssuingJurisdictionName",e[e.StandardEndorsementCode=62]="StandardEndorsementCode",e[e.StandardRestrictionCode=63]="StandardRestrictionCode",e[e.JurisdictionVehicleClassificationDescription=64]="JurisdictionVehicleClassificationDescription",e[e.JurisdictionEndorsmentCodeDescription=65]="JurisdictionEndorsmentCodeDescription",e[e.JurisdictionRestrictionCodeDescription=66]="JurisdictionRestrictionCodeDescription",e[e.InventoryControlNumber=67]="InventoryControlNumber",e[e.CardRevisionDate=68]="CardRevisionDate",e[e.DocumentDiscriminator=69]="DocumentDiscriminator",e[e.LimitedDurationDocument=70]="LimitedDurationDocument",e[e.AuditInformation=71]="AuditInformation",e[e.ComplianceType=72]="ComplianceType",e[e.IssueTimestamp=73]="IssueTimestamp",e[e.PermitExpirationDate=74]="PermitExpirationDate",e[e.PermitIdentifier=75]="PermitIdentifier",e[e.PermitIssueDate=76]="PermitIssueDate",e[e.NumberOfDuplicates=77]="NumberOfDuplicates",e[e.HAZMATExpirationDate=78]="HAZMATExpirationDate",e[e.MedicalIndicator=79]="MedicalIndicator",e[e.NonResident=80]="NonResident",e[e.UniqueCustomerId=81]="UniqueCustomerId",e[e.DataDiscriminator=82]="DataDiscriminator",e[e.DocumentExpirationMonth=83]="DocumentExpirationMonth",e[e.DocumentNonexpiring=84]="DocumentNonexpiring",e[e.SecurityVersion=85]="SecurityVersion",e[e.Count=86]="Count"}(le||(le={})),function(e){e[e.NONE=0]="NONE",e[e.ALBANIA=1]="ALBANIA",e[e.ALGERIA=2]="ALGERIA",e[e.ARGENTINA=3]="ARGENTINA",e[e.AUSTRALIA=4]="AUSTRALIA",e[e.AUSTRIA=5]="AUSTRIA",e[e.AZERBAIJAN=6]="AZERBAIJAN",e[e.BAHRAIN=7]="BAHRAIN",e[e.BANGLADESH=8]="BANGLADESH",e[e.BELGIUM=9]="BELGIUM",e[e.BOSNIA_AND_HERZEGOVINA=10]="BOSNIA_AND_HERZEGOVINA",e[e.BRUNEI=11]="BRUNEI",e[e.BULGARIA=12]="BULGARIA",e[e.CAMBODIA=13]="CAMBODIA",e[e.CANADA=14]="CANADA",e[e.CHILE=15]="CHILE",e[e.COLOMBIA=16]="COLOMBIA",e[e.COSTA_RICA=17]="COSTA_RICA",e[e.CROATIA=18]="CROATIA",e[e.CYPRUS=19]="CYPRUS",e[e.CZECHIA=20]="CZECHIA",e[e.DENMARK=21]="DENMARK",e[e.DOMINICAN_REPUBLIC=22]="DOMINICAN_REPUBLIC",e[e.EGYPT=23]="EGYPT",e[e.ESTONIA=24]="ESTONIA",e[e.FINLAND=25]="FINLAND",e[e.FRANCE=26]="FRANCE",e[e.GEORGIA=27]="GEORGIA",e[e.GERMANY=28]="GERMANY",e[e.GHANA=29]="GHANA",e[e.GREECE=30]="GREECE",e[e.GUATEMALA=31]="GUATEMALA",e[e.HONG_KONG=32]="HONG_KONG",e[e.HUNGARY=33]="HUNGARY",e[e.INDIA=34]="INDIA",e[e.INDONESIA=35]="INDONESIA",e[e.IRELAND=36]="IRELAND",e[e.ISRAEL=37]="ISRAEL",e[e.ITALY=38]="ITALY",e[e.JORDAN=39]="JORDAN",e[e.KAZAKHSTAN=40]="KAZAKHSTAN",e[e.KENYA=41]="KENYA",e[e.KOSOVO=42]="KOSOVO",e[e.KUWAIT=43]="KUWAIT",e[e.LATVIA=44]="LATVIA",e[e.LITHUANIA=45]="LITHUANIA",e[e.MALAYSIA=46]="MALAYSIA",e[e.MALDIVES=47]="MALDIVES",e[e.MALTA=48]="MALTA",e[e.MAURITIUS=49]="MAURITIUS",e[e.MEXICO=50]="MEXICO",e[e.MOROCCO=51]="MOROCCO",e[e.NETHERLANDS=52]="NETHERLANDS",e[e.NEW_ZEALAND=53]="NEW_ZEALAND",e[e.NIGERIA=54]="NIGERIA",e[e.PAKISTAN=55]="PAKISTAN",e[e.PANAMA=56]="PANAMA",e[e.PARAGUAY=57]="PARAGUAY",e[e.PHILIPPINES=58]="PHILIPPINES",e[e.POLAND=59]="POLAND",e[e.PORTUGAL=60]="PORTUGAL",e[e.PUERTO_RICO=61]="PUERTO_RICO",e[e.QATAR=62]="QATAR",e[e.ROMANIA=63]="ROMANIA",e[e.RUSSIA=64]="RUSSIA",e[e.SAUDI_ARABIA=65]="SAUDI_ARABIA",e[e.SERBIA=66]="SERBIA",e[e.SINGAPORE=67]="SINGAPORE",e[e.SLOVAKIA=68]="SLOVAKIA",e[e.SLOVENIA=69]="SLOVENIA",e[e.SOUTH_AFRICA=70]="SOUTH_AFRICA",e[e.SPAIN=71]="SPAIN",e[e.SWEDEN=72]="SWEDEN",e[e.SWITZERLAND=73]="SWITZERLAND",e[e.TAIWAN=74]="TAIWAN",e[e.THAILAND=75]="THAILAND",e[e.TUNISIA=76]="TUNISIA",e[e.TURKEY=77]="TURKEY",e[e.UAE=78]="UAE",e[e.UGANDA=79]="UGANDA",e[e.UK=80]="UK",e[e.UKRAINE=81]="UKRAINE",e[e.USA=82]="USA",e[e.VIETNAM=83]="VIETNAM",e[e.BRAZIL=84]="BRAZIL",e[e.NORWAY=85]="NORWAY",e[e.OMAN=86]="OMAN",e[e.ECUADOR=87]="ECUADOR",e[e.EL_SALVADOR=88]="EL_SALVADOR",e[e.SRI_LANKA=89]="SRI_LANKA",e[e.PERU=90]="PERU",e[e.URUGUAY=91]="URUGUAY",e[e.BAHAMAS=92]="BAHAMAS",e[e.BERMUDA=93]="BERMUDA",e[e.BOLIVIA=94]="BOLIVIA",e[e.CHINA=95]="CHINA",e[e.EUROPEAN_UNION=96]="EUROPEAN_UNION",e[e.HAITI=97]="HAITI",e[e.HONDURAS=98]="HONDURAS",e[e.ICELAND=99]="ICELAND",e[e.JAPAN=100]="JAPAN",e[e.LUXEMBOURG=101]="LUXEMBOURG",e[e.MONTENEGRO=102]="MONTENEGRO",e[e.NICARAGUA=103]="NICARAGUA",e[e.SOUTH_KOREA=104]="SOUTH_KOREA",e[e.VENEZUELA=105]="VENEZUELA",e[e.AFGHANISTAN=106]="AFGHANISTAN",e[e.ALAND_ISLANDS=107]="ALAND_ISLANDS",e[e.AMERICAN_SAMOA=108]="AMERICAN_SAMOA",e[e.ANDORRA=109]="ANDORRA",e[e.ANGOLA=110]="ANGOLA",e[e.ANGUILLA=111]="ANGUILLA",e[e.ANTARCTICA=112]="ANTARCTICA",e[e.ANTIGUA_AND_BARBUDA=113]="ANTIGUA_AND_BARBUDA",e[e.ARMENIA=114]="ARMENIA",e[e.ARUBA=115]="ARUBA",e[e.BAILIWICK_OF_GUERNSEY=116]="BAILIWICK_OF_GUERNSEY",e[e.BAILIWICK_OF_JERSEY=117]="BAILIWICK_OF_JERSEY",e[e.BARBADOS=118]="BARBADOS",e[e.BELARUS=119]="BELARUS",e[e.BELIZE=120]="BELIZE",e[e.BENIN=121]="BENIN",e[e.BHUTAN=122]="BHUTAN",e[e.BONAIRE_SAINT_EUSTATIUS_AND_SABA=123]="BONAIRE_SAINT_EUSTATIUS_AND_SABA",e[e.BOTSWANA=124]="BOTSWANA",e[e.BOUVET_ISLAND=125]="BOUVET_ISLAND",e[e.BRITISH_INDIAN_OCEAN_TERRITORY=126]="BRITISH_INDIAN_OCEAN_TERRITORY",e[e.BURKINA_FASO=127]="BURKINA_FASO",e[e.BURUNDI=128]="BURUNDI",e[e.CAMEROON=129]="CAMEROON",e[e.CAPE_VERDE=130]="CAPE_VERDE",e[e.CARIBBEAN_NETHERLANDS=131]="CARIBBEAN_NETHERLANDS",e[e.CAYMAN_ISLANDS=132]="CAYMAN_ISLANDS",e[e.CENTRAL_AFRICAN_REPUBLIC=133]="CENTRAL_AFRICAN_REPUBLIC",e[e.CHAD=134]="CHAD",e[e.CHRISTMAS_ISLAND=135]="CHRISTMAS_ISLAND",e[e.COCOS_ISLANDS=136]="COCOS_ISLANDS",e[e.COMOROS=137]="COMOROS",e[e.CONGO=138]="CONGO",e[e.COOK_ISLANDS=139]="COOK_ISLANDS",e[e.CUBA=140]="CUBA",e[e.CURACAO=141]="CURACAO",e[e.DEMOCRATIC_REPUBLIC_OF_THE_CONGO=142]="DEMOCRATIC_REPUBLIC_OF_THE_CONGO",e[e.DJIBOUTI=143]="DJIBOUTI",e[e.DOMINICA=144]="DOMINICA",e[e.EAST_TIMOR=145]="EAST_TIMOR",e[e.EQUATORIAL_GUINEA=146]="EQUATORIAL_GUINEA",e[e.ERITREA=147]="ERITREA",e[e.ETHIOPIA=148]="ETHIOPIA",e[e.FALKLAND_ISLANDS=149]="FALKLAND_ISLANDS",e[e.FAROE_ISLANDS=150]="FAROE_ISLANDS",e[e.FEDERATED_STATES_OF_MICRONESIA=151]="FEDERATED_STATES_OF_MICRONESIA",e[e.FIJI=152]="FIJI",e[e.FRENCH_GUIANA=153]="FRENCH_GUIANA",e[e.FRENCH_POLYNESIA=154]="FRENCH_POLYNESIA",e[e.FRENCH_SOUTHERN_TERRITORIES=155]="FRENCH_SOUTHERN_TERRITORIES",e[e.GABON=156]="GABON",e[e.GAMBIA=157]="GAMBIA",e[e.GIBRALTAR=158]="GIBRALTAR",e[e.GREENLAND=159]="GREENLAND",e[e.GRENADA=160]="GRENADA",e[e.GUADELOUPE=161]="GUADELOUPE",e[e.GUAM=162]="GUAM",e[e.GUINEA=163]="GUINEA",e[e.GUINEA_BISSAU=164]="GUINEA_BISSAU",e[e.GUYANA=165]="GUYANA",e[e.HEARD_ISLAND_AND_MCDONALD_ISLANDS=166]="HEARD_ISLAND_AND_MCDONALD_ISLANDS",e[e.IRAN=167]="IRAN",e[e.IRAQ=168]="IRAQ",e[e.ISLE_OF_MAN=169]="ISLE_OF_MAN",e[e.IVORY_COAST=170]="IVORY_COAST",e[e.JAMAICA=171]="JAMAICA",e[e.KIRIBATI=172]="KIRIBATI",e[e.KYRGYZSTAN=173]="KYRGYZSTAN",e[e.LAOS=174]="LAOS",e[e.LEBANON=175]="LEBANON",e[e.LESOTHO=176]="LESOTHO",e[e.LIBERIA=177]="LIBERIA",e[e.LIBYA=178]="LIBYA",e[e.LIECHTENSTEIN=179]="LIECHTENSTEIN",e[e.MACAU=180]="MACAU",e[e.MADAGASCAR=181]="MADAGASCAR",e[e.MALAWI=182]="MALAWI",e[e.MALI=183]="MALI",e[e.MARSHALL_ISLANDS=184]="MARSHALL_ISLANDS",e[e.MARTINIQUE=185]="MARTINIQUE",e[e.MAURITANIA=186]="MAURITANIA",e[e.MAYOTTE=187]="MAYOTTE",e[e.MOLDOVA=188]="MOLDOVA",e[e.MONACO=189]="MONACO",e[e.MONGOLIA=190]="MONGOLIA",e[e.MONTSERRAT=191]="MONTSERRAT",e[e.MOZAMBIQUE=192]="MOZAMBIQUE",e[e.MYANMAR=193]="MYANMAR",e[e.NAMIBIA=194]="NAMIBIA",e[e.NAURU=195]="NAURU",e[e.NEPAL=196]="NEPAL",e[e.NEW_CALEDONIA=197]="NEW_CALEDONIA",e[e.NIGER=198]="NIGER",e[e.NIUE=199]="NIUE",e[e.NORFOLK_ISLAND=200]="NORFOLK_ISLAND",e[e.NORTHERN_CYPRUS=201]="NORTHERN_CYPRUS",e[e.NORTHERN_MARIANA_ISLANDS=202]="NORTHERN_MARIANA_ISLANDS",e[e.NORTH_KOREA=203]="NORTH_KOREA",e[e.NORTH_MACEDONIA=204]="NORTH_MACEDONIA",e[e.PALAU=205]="PALAU",e[e.PALESTINE=206]="PALESTINE",e[e.PAPUA_NEW_GUINEA=207]="PAPUA_NEW_GUINEA",e[e.PITCAIRN=208]="PITCAIRN",e[e.REUNION=209]="REUNION",e[e.RWANDA=210]="RWANDA",e[e.SAINT_BARTHELEMY=211]="SAINT_BARTHELEMY",e[e.SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA=212]="SAINT_HELENA_ASCENSION_AND_TRISTIAN_DA_CUNHA",e[e.SAINT_KITTS_AND_NEVIS=213]="SAINT_KITTS_AND_NEVIS",e[e.SAINT_LUCIA=214]="SAINT_LUCIA",e[e.SAINT_MARTIN=215]="SAINT_MARTIN",e[e.SAINT_PIERRE_AND_MIQUELON=216]="SAINT_PIERRE_AND_MIQUELON",e[e.SAINT_VINCENT_AND_THE_GRENADINES=217]="SAINT_VINCENT_AND_THE_GRENADINES",e[e.SAMOA=218]="SAMOA",e[e.SAN_MARINO=219]="SAN_MARINO",e[e.SAO_TOME_AND_PRINCIPE=220]="SAO_TOME_AND_PRINCIPE",e[e.SENEGAL=221]="SENEGAL",e[e.SEYCHELLES=222]="SEYCHELLES",e[e.SIERRA_LEONE=223]="SIERRA_LEONE",e[e.SINT_MAARTEN=224]="SINT_MAARTEN",e[e.SOLOMON_ISLANDS=225]="SOLOMON_ISLANDS",e[e.SOMALIA=226]="SOMALIA",e[e.SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS=227]="SOUTH_GEORGIA_AND_THE_SOUTH_SANDWICH_ISLANDS",e[e.SOUTH_SUDAN=228]="SOUTH_SUDAN",e[e.SUDAN=229]="SUDAN",e[e.SURINAME=230]="SURINAME",e[e.SVALBARD_AND_JAN_MAYEN=231]="SVALBARD_AND_JAN_MAYEN",e[e.ESWATINI=232]="ESWATINI",e[e.SYRIA=233]="SYRIA",e[e.TAJIKISTAN=234]="TAJIKISTAN",e[e.TANZANIA=235]="TANZANIA",e[e.TOGO=236]="TOGO",e[e.TOKELAU=237]="TOKELAU",e[e.TONGA=238]="TONGA",e[e.TRINIDAD_AND_TOBAGO=239]="TRINIDAD_AND_TOBAGO",e[e.TURKMENISTAN=240]="TURKMENISTAN",e[e.TURKS_AND_CAICOS_ISLANDS=241]="TURKS_AND_CAICOS_ISLANDS",e[e.TUVALU=242]="TUVALU",e[e.UNITED_STATES_MINOR_OUTLYING_ISLANDS=243]="UNITED_STATES_MINOR_OUTLYING_ISLANDS",e[e.UZBEKISTAN=244]="UZBEKISTAN",e[e.VANUATU=245]="VANUATU",e[e.VATICAN_CITY=246]="VATICAN_CITY",e[e.VIRGIN_ISLANDS_BRITISH=247]="VIRGIN_ISLANDS_BRITISH",e[e.VIRGIN_ISLANDS_US=248]="VIRGIN_ISLANDS_US",e[e.WALLIS_AND_FUTUNA=249]="WALLIS_AND_FUTUNA",e[e.WESTERN_SAHARA=250]="WESTERN_SAHARA",e[e.YEMEN=251]="YEMEN",e[e.YUGOSLAVIA=252]="YUGOSLAVIA",e[e.ZAMBIA=253]="ZAMBIA",e[e.ZIMBABWE=254]="ZIMBABWE",e[e.SCHENGEN_AREA=255]="SCHENGEN_AREA",e[e.COUNT=256]="COUNT"}(de||(de={})),function(e){e[e.NONE=0]="NONE",e[e.ALABAMA=1]="ALABAMA",e[e.ALASKA=2]="ALASKA",e[e.ALBERTA=3]="ALBERTA",e[e.ARIZONA=4]="ARIZONA",e[e.ARKANSAS=5]="ARKANSAS",e[e.AUSTRALIAN_CAPITAL_TERRITORY=6]="AUSTRALIAN_CAPITAL_TERRITORY",e[e.BRITISH_COLUMBIA=7]="BRITISH_COLUMBIA",e[e.CALIFORNIA=8]="CALIFORNIA",e[e.COLORADO=9]="COLORADO",e[e.CONNECTICUT=10]="CONNECTICUT",e[e.DELAWARE=11]="DELAWARE",e[e.DISTRICT_OF_COLUMBIA=12]="DISTRICT_OF_COLUMBIA",e[e.FLORIDA=13]="FLORIDA",e[e.GEORGIA=14]="GEORGIA",e[e.HAWAII=15]="HAWAII",e[e.IDAHO=16]="IDAHO",e[e.ILLINOIS=17]="ILLINOIS",e[e.INDIANA=18]="INDIANA",e[e.IOWA=19]="IOWA",e[e.KANSAS=20]="KANSAS",e[e.KENTUCKY=21]="KENTUCKY",e[e.LOUISIANA=22]="LOUISIANA",e[e.MAINE=23]="MAINE",e[e.MANITOBA=24]="MANITOBA",e[e.MARYLAND=25]="MARYLAND",e[e.MASSACHUSETTS=26]="MASSACHUSETTS",e[e.MICHIGAN=27]="MICHIGAN",e[e.MINNESOTA=28]="MINNESOTA",e[e.MISSISSIPPI=29]="MISSISSIPPI",e[e.MISSOURI=30]="MISSOURI",e[e.MONTANA=31]="MONTANA",e[e.NEBRASKA=32]="NEBRASKA",e[e.NEVADA=33]="NEVADA",e[e.NEW_BRUNSWICK=34]="NEW_BRUNSWICK",e[e.NEW_HAMPSHIRE=35]="NEW_HAMPSHIRE",e[e.NEW_JERSEY=36]="NEW_JERSEY",e[e.NEW_MEXICO=37]="NEW_MEXICO",e[e.NEW_SOUTH_WALES=38]="NEW_SOUTH_WALES",e[e.NEW_YORK=39]="NEW_YORK",e[e.NORTHERN_TERRITORY=40]="NORTHERN_TERRITORY",e[e.NORTH_CAROLINA=41]="NORTH_CAROLINA",e[e.NORTH_DAKOTA=42]="NORTH_DAKOTA",e[e.NOVA_SCOTIA=43]="NOVA_SCOTIA",e[e.OHIO=44]="OHIO",e[e.OKLAHOMA=45]="OKLAHOMA",e[e.ONTARIO=46]="ONTARIO",e[e.OREGON=47]="OREGON",e[e.PENNSYLVANIA=48]="PENNSYLVANIA",e[e.QUEBEC=49]="QUEBEC",e[e.QUEENSLAND=50]="QUEENSLAND",e[e.RHODE_ISLAND=51]="RHODE_ISLAND",e[e.SASKATCHEWAN=52]="SASKATCHEWAN",e[e.SOUTH_AUSTRALIA=53]="SOUTH_AUSTRALIA",e[e.SOUTH_CAROLINA=54]="SOUTH_CAROLINA",e[e.SOUTH_DAKOTA=55]="SOUTH_DAKOTA",e[e.TASMANIA=56]="TASMANIA",e[e.TENNESSEE=57]="TENNESSEE",e[e.TEXAS=58]="TEXAS",e[e.UTAH=59]="UTAH",e[e.VERMONT=60]="VERMONT",e[e.VICTORIA=61]="VICTORIA",e[e.VIRGINIA=62]="VIRGINIA",e[e.WASHINGTON=63]="WASHINGTON",e[e.WESTERN_AUSTRALIA=64]="WESTERN_AUSTRALIA",e[e.WEST_VIRGINIA=65]="WEST_VIRGINIA",e[e.WISCONSIN=66]="WISCONSIN",e[e.WYOMING=67]="WYOMING",e[e.YUKON=68]="YUKON",e[e.CIUDAD_DE_MEXICO=69]="CIUDAD_DE_MEXICO",e[e.JALISCO=70]="JALISCO",e[e.NEWFOUNDLAND_AND_LABRADOR=71]="NEWFOUNDLAND_AND_LABRADOR",e[e.NUEVO_LEON=72]="NUEVO_LEON",e[e.BAJA_CALIFORNIA=73]="BAJA_CALIFORNIA",e[e.CHIHUAHUA=74]="CHIHUAHUA",e[e.GUANAJUATO=75]="GUANAJUATO",e[e.GUERRERO=76]="GUERRERO",e[e.MEXICO=77]="MEXICO",e[e.MICHOACAN=78]="MICHOACAN",e[e.NEW_YORK_CITY=79]="NEW_YORK_CITY",e[e.TAMAULIPAS=80]="TAMAULIPAS",e[e.VERACRUZ=81]="VERACRUZ",e[e.CHIAPAS=82]="CHIAPAS",e[e.COAHUILA=83]="COAHUILA",e[e.DURANGO=84]="DURANGO",e[e.GUERRERO_COCULA=85]="GUERRERO_COCULA",e[e.GUERRERO_JUCHITAN=86]="GUERRERO_JUCHITAN",e[e.GUERRERO_TEPECOACUILCO=87]="GUERRERO_TEPECOACUILCO",e[e.GUERRERO_TLACOAPA=88]="GUERRERO_TLACOAPA",e[e.GUJARAT=89]="GUJARAT",e[e.HIDALGO=90]="HIDALGO",e[e.KARNATAKA=91]="KARNATAKA",e[e.KERALA=92]="KERALA",e[e.KHYBER_PAKHTUNKHWA=93]="KHYBER_PAKHTUNKHWA",e[e.MADHYA_PRADESH=94]="MADHYA_PRADESH",e[e.MAHARASHTRA=95]="MAHARASHTRA",e[e.MORELOS=96]="MORELOS",e[e.NAYARIT=97]="NAYARIT",e[e.OAXACA=98]="OAXACA",e[e.PUEBLA=99]="PUEBLA",e[e.PUNJAB=100]="PUNJAB",e[e.QUERETARO=101]="QUERETARO",e[e.SAN_LUIS_POTOSI=102]="SAN_LUIS_POTOSI",e[e.SINALOA=103]="SINALOA",e[e.SONORA=104]="SONORA",e[e.TABASCO=105]="TABASCO",e[e.TAMIL_NADU=106]="TAMIL_NADU",e[e.YUCATAN=107]="YUCATAN",e[e.ZACATECAS=108]="ZACATECAS",e[e.AGUASCALIENTES=109]="AGUASCALIENTES",e[e.BAJA_CALIFORNIA_SUR=110]="BAJA_CALIFORNIA_SUR",e[e.CAMPECHE=111]="CAMPECHE",e[e.COLIMA=112]="COLIMA",e[e.QUINTANA_ROO_BENITO_JUAREZ=113]="QUINTANA_ROO_BENITO_JUAREZ",e[e.UINTANA_ROO=114]="UINTANA_ROO",e[e.QUINTANA_ROO_SOLIDARIDAD=115]="QUINTANA_ROO_SOLIDARIDAD",e[e.TLAXCALA=116]="TLAXCALA",e[e.QUINTANA_ROO_COZUMEL=117]="QUINTANA_ROO_COZUMEL",e[e.SAO_PAOLO=118]="SAO_PAOLO",e[e.RIO_DE_JANEIRO=119]="RIO_DE_JANEIRO",e[e.RIO_GRANDE_DO_SUL=120]="RIO_GRANDE_DO_SUL",e[e.NORTHWEST_TERRITORIES=121]="NORTHWEST_TERRITORIES",e[e.NUNAVUT=122]="NUNAVUT",e[e.PRINCE_EDWARD_ISLAND=123]="PRINCE_EDWARD_ISLAND",e[e.COUNT=124]="COUNT"}(fe||(fe={})),function(e){e[e.NONE=0]="NONE",e[e.CONSULAR_ID=1]="CONSULAR_ID",e[e.DL=2]="DL",e[e.DL_PUBLIC_SERVICES_CARD=3]="DL_PUBLIC_SERVICES_CARD",e[e.EMPLOYMENT_PASS=4]="EMPLOYMENT_PASS",e[e.FIN_CARD=5]="FIN_CARD",e[e.ID=6]="ID",e[e.MULTIPURPOSE_ID=7]="MULTIPURPOSE_ID",e[e.MYKAD=8]="MYKAD",e[e.MYKID=9]="MYKID",e[e.MYPR=10]="MYPR",e[e.MYTENTERA=11]="MYTENTERA",e[e.PAN_CARD=12]="PAN_CARD",e[e.PROFESSIONAL_ID=13]="PROFESSIONAL_ID",e[e.PUBLIC_SERVICES_CARD=14]="PUBLIC_SERVICES_CARD",e[e.RESIDENCE_PERMIT=15]="RESIDENCE_PERMIT",e[e.RESIDENT_ID=16]="RESIDENT_ID",e[e.TEMPORARY_RESIDENCE_PERMIT=17]="TEMPORARY_RESIDENCE_PERMIT",e[e.VOTER_ID=18]="VOTER_ID",e[e.WORK_PERMIT=19]="WORK_PERMIT",e[e.IKAD=20]="IKAD",e[e.MILITARY_ID=21]="MILITARY_ID",e[e.MYKAS=22]="MYKAS",e[e.SOCIAL_SECURITY_CARD=23]="SOCIAL_SECURITY_CARD",e[e.HEALTH_INSURANCE_CARD=24]="HEALTH_INSURANCE_CARD",e[e.PASSPORT=25]="PASSPORT",e[e.S_PASS=26]="S_PASS",e[e.ADDRESS_CARD=27]="ADDRESS_CARD",e[e.ALIEN_ID=28]="ALIEN_ID",e[e.ALIEN_PASSPORT=29]="ALIEN_PASSPORT",e[e.GREEN_CARD=30]="GREEN_CARD",e[e.MINORS_ID=31]="MINORS_ID",e[e.POSTAL_ID=32]="POSTAL_ID",e[e.PROFESSIONAL_DL=33]="PROFESSIONAL_DL",e[e.TAX_ID=34]="TAX_ID",e[e.WEAPON_PERMIT=35]="WEAPON_PERMIT",e[e.VISA=36]="VISA",e[e.BORDER_CROSSING_CARD=37]="BORDER_CROSSING_CARD",e[e.DRIVER_CARD=38]="DRIVER_CARD",e[e.GLOBAL_ENTRY_CARD=39]="GLOBAL_ENTRY_CARD",e[e.MYPOLIS=40]="MYPOLIS",e[e.NEXUS_CARD=41]="NEXUS_CARD",e[e.PASSPORT_CARD=42]="PASSPORT_CARD",e[e.PROOF_OF_AGE_CARD=43]="PROOF_OF_AGE_CARD",e[e.REFUGEE_ID=44]="REFUGEE_ID",e[e.TRIBAL_ID=45]="TRIBAL_ID",e[e.VETERAN_ID=46]="VETERAN_ID",e[e.CITIZENSHIP_CERTIFICATE=47]="CITIZENSHIP_CERTIFICATE",e[e.MY_NUMBER_CARD=48]="MY_NUMBER_CARD",e[e.CONSULAR_PASSPORT=49]="CONSULAR_PASSPORT",e[e.MINORS_PASSPORT=50]="MINORS_PASSPORT",e[e.MINORS_PUBLIC_SERVICES_CARD=51]="MINORS_PUBLIC_SERVICES_CARD",e[e.DRIVING_PRIVILEGE_CARD=52]="DRIVING_PRIVILEGE_CARD",e[e.ASYLUM_REQUEST=53]="ASYLUM_REQUEST",e[e.DRIVER_QUALIFICATION_CARD=54]="DRIVER_QUALIFICATION_CARD",e[e.PROVISIONAL_DL=55]="PROVISIONAL_DL",e[e.REFUGEE_PASSPORT=56]="REFUGEE_PASSPORT",e[e.SPECIAL_ID=57]="SPECIAL_ID",e[e.UNIFORMED_SERVICES_ID=58]="UNIFORMED_SERVICES_ID",e[e.IMMIGRANT_VISA=59]="IMMIGRANT_VISA",e[e.COUNT=60]="COUNT"}(he||(he={})),function(e){e[e.NotAvailable=0]="NotAvailable",e[e.BlackAndWhite=1]="BlackAndWhite",e[e.Color=2]="Color"}(pe||(pe={})),function(e){e[e.NotAvailable=0]="NotAvailable",e[e.NotDetected=1]="NotDetected",e[e.Detected=2]="Detected"}(me||(me={})),function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(ge||(ge={})),function(e){e[e.Success=0]="Success",e[e.DetectionFailed=1]="DetectionFailed",e[e.ImagePreprocessingFailed=2]="ImagePreprocessingFailed",e[e.StabilityTestFailed=3]="StabilityTestFailed",e[e.ScanningWrongSide=4]="ScanningWrongSide",e[e.FieldIdentificationFailed=5]="FieldIdentificationFailed",e[e.MandatoryFieldMissing=6]="MandatoryFieldMissing",e[e.InvalidCharactersFound=7]="InvalidCharactersFound",e[e.ImageReturnFailed=8]="ImageReturnFailed",e[e.BarcodeRecognitionFailed=9]="BarcodeRecognitionFailed",e[e.MrzParsingFailed=10]="MrzParsingFailed",e[e.ClassFiltered=11]="ClassFiltered",e[e.UnsupportedClass=12]="UnsupportedClass",e[e.UnsupportedByLicense=13]="UnsupportedByLicense",e[e.AwaitingOtherSide=14]="AwaitingOtherSide",e[e.NotScanned=15]="NotScanned",e[e.Count=16]="Count"}(ve||(ve={})),function(e){e[e.None=0]="None",e[e.MrzId=1]="MrzId",e[e.MrzVisa=2]="MrzVisa",e[e.MrzPassport=3]="MrzPassport",e[e.PhotoId=4]="PhotoId",e[e.FullRecognition=5]="FullRecognition",e[e.BarcodeId=6]="BarcodeId",e[e.Count=7]="Count"}(ye||(ye={}));async function Se(e){return e.mbWasmModule.newRecognizer("BlinkIdSingleSideRecognizer")}!function(e){e[e.None=0]="None",e[e.AAMVACompliant=1]="AAMVACompliant",e[e.ArgentinaID=2]="ArgentinaID",e[e.ArgentinaAlienID=3]="ArgentinaAlienID",e[e.ArgentinaDL=4]="ArgentinaDL",e[e.ColombiaID=5]="ColombiaID",e[e.ColombiaDL=6]="ColombiaDL",e[e.NigeriaVoterID=7]="NigeriaVoterID",e[e.NigeriaDL=8]="NigeriaDL",e[e.PanamaID=9]="PanamaID",e[e.SouthAfricaID=10]="SouthAfricaID"}(be||(be={}))},43432:function(e,t,n){"use strict";n.r(t),n.d(t,{Breadcrumbs:function(){return ci},BrowserClient:function(){return Vn},BrowserProfilingIntegration:function(){return md},BrowserTracing:function(){return wl},Dedupe:function(){return yi},Feedback:function(){return rl},FunctionToString:function(){return l},GlobalHandlers:function(){return wr},HttpContext:function(){return vi},Hub:function(){return Ee.Xb},InboundFilters:function(){return y},Integrations:function(){return bd},LinkedErrors:function(){return pi},ModuleMetadata:function(){return ie},Replay:function(){return Ou},SDK_VERSION:function(){return _n.J},Scope:function(){return En.s},TryCatch:function(){return Dr},WINDOW:function(){return On},addBreadcrumb:function(){return Ae.n_},addEventProcessor:function(){return Be},addGlobalEventProcessor:function(){return Se.cc},addIntegration:function(){return ke},addTracingExtensions:function(){return Wt},captureEvent:function(){return Ae.eN},captureException:function(){return Ae.Tb},captureMessage:function(){return Ae.uT},captureUserFeedback:function(){return Di},chromeStackLineParser:function(){return or},close:function(){return Ae.xv},configureScope:function(){return Ae.e},continueTrace:function(){return Jt},createTransport:function(){return ln},createUserFeedbackEnvelope:function(){return Kn},defaultIntegrations:function(){return wi},defaultRequestInstrumentationOptions:function(){return bl},defaultStackLineParsers:function(){return mr},defaultStackParser:function(){return gr},eventFromException:function(){return Fn},eventFromMessage:function(){return Un},exceptionFromError:function(){return Dn},extractTraceparentData:function(){return pt},flush:function(){return Ae.yl},forceLoad:function(){return Ri},geckoStackLineParser:function(){return cr},getActiveSpan:function(){return Yt},getActiveTransaction:function(){return ht},getClient:function(){return Ae.s3},getCurrentHub:function(){return Ee.Gd},getHubFromCarrier:function(){return Ee.vi},init:function(){return Ii},instrumentOutgoingRequests:function(){return _l},lastEventId:function(){return Ae.eW},makeBrowserOfflineTransport:function(){return jl},makeFetchTransport:function(){return Xn},makeMain:function(){return Ee.pj},makeMultiplexedTransport:function(){return yn},makeXHRTransport:function(){return er},onLoad:function(){return Ni},onProfilingStartRouteTransaction:function(){return dd},opera10StackLineParser:function(){return fr},opera11StackLineParser:function(){return pr},setContext:function(){return Ae.v},setExtra:function(){return Ae.sU},setExtras:function(){return Ae.rJ},setMeasurement:function(){return bn},setTag:function(){return Ae.YA},setTags:function(){return Ae.mG},setUser:function(){return Ae.av},showReportDialog:function(){return ki},spanStatusfromHttpCode:function(){return At},startInactiveSpan:function(){return $t},startSpan:function(){return zt},startSpanManual:function(){return qt},startTransaction:function(){return Ae.Yr},trace:function(){return Vt},winjsStackLineParser:function(){return lr},withScope:function(){return Ae.$e},wrap:function(){return Ti}});var r={};n.r(r),n.d(r,{FunctionToString:function(){return l},InboundFilters:function(){return y},LinkedErrors:function(){return N}});var i={};n.r(i),n.d(i,{Breadcrumbs:function(){return ci},Dedupe:function(){return yi},GlobalHandlers:function(){return wr},HttpContext:function(){return vi},LinkedErrors:function(){return pi},TryCatch:function(){return Dr}});var o,a=n(4942),s=n(15671),c=n(43144),u=n(17892),l=function(){function e(){(0,s.Z)(this,e),this.name=e.id}return(0,c.Z)(e,[{key:"setupOnce",value:function(){o=Function.prototype.toString;try{Function.prototype.toString=function(){for(var e=(0,u.HK)(this)||this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o.apply(e,n)}}catch(e){}}}],[{key:"__initStatic",value:function(){this.id="FunctionToString"}}]),e}();l.__initStatic();var d=n(42982),f=n(22743),h=n(49736),p=n(79980),m=n(14609),g=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],v=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,e),this.name=e.id,this._options=t}return(0,c.Z)(e,[{key:"setupOnce",value:function(e,t){}},{key:"processEvent",value:function(e,t,n){var r=n.getOptions(),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{allowUrls:[].concat((0,d.Z)(e.allowUrls||[]),(0,d.Z)(t.allowUrls||[])),denyUrls:[].concat((0,d.Z)(e.denyUrls||[]),(0,d.Z)(t.denyUrls||[])),ignoreErrors:[].concat((0,d.Z)(e.ignoreErrors||[]),(0,d.Z)(t.ignoreErrors||[]),(0,d.Z)(e.disableErrorDefaults?[]:g)),ignoreTransactions:[].concat((0,d.Z)(e.ignoreTransactions||[]),(0,d.Z)(t.ignoreTransactions||[]),(0,d.Z)(e.disableTransactionDefaults?[]:v)),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(this._options,r);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return m.X&&f.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: ".concat((0,h.jH)(e))),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){var t,n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(r){}t&&t.value&&(n.push(t.value),t.type&&n.push("".concat(t.type,": ").concat(t.value)));m.X&&0===n.length&&f.kg.error("Could not extract message for event ".concat((0,h.jH)(e)));return n}(e).some((function(e){return(0,p.U0)(e,t)}))}(e,t.ignoreErrors))return m.X&&f.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: ".concat((0,h.jH)(e))),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;var n=e.transaction;return!!n&&(0,p.U0)(n,t)}(e,t.ignoreTransactions))return m.X&&f.kg.warn("Event dropped due to being matched by `ignoreTransactions` option.\nEvent: ".concat((0,h.jH)(e))),!0;if(function(e,t){if(!t||!t.length)return!1;var n=b(e);return!!n&&(0,p.U0)(n,t)}(e,t.denyUrls))return m.X&&f.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: ".concat((0,h.jH)(e),".\nUrl: ").concat(b(e))),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=b(e);return!n||(0,p.U0)(n,t)}(e,t.allowUrls))return m.X&&f.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: ".concat((0,h.jH)(e),".\nUrl: ").concat(b(e))),!0;return!1}(e,i)?null:e}}],[{key:"__initStatic",value:function(){this.id="InboundFilters"}}]),e}();function b(e){try{var t;try{t=e.exception.values[0].stacktrace.frames}catch(n){}return t?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(r){return m.X&&f.kg.error("Cannot extract url for event ".concat((0,h.jH)(e))),null}}y.__initStatic();var _=n(70690);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;if(o.exception&&o.exception.values&&a&&(0,_.V9)(a.originalException,Error)){var s,c,u=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;u&&(o.exception.values=(s=O(e,t,i,a.originalException,r,o.exception.values,u,0),c=n,s.map((function(e){return e.value&&(e.value=(0,p.$G)(e.value,c)),e}))))}}function O(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;var c=(0,d.Z)(o);if((0,_.V9)(r[i],Error)){w(a,s);var u=e(t,r[i]),l=c.length;I(u,i,l,s),c=O(e,t,n,r[i],i,[u].concat((0,d.Z)(c)),u,l)}return Array.isArray(r.errors)&&r.errors.forEach((function(r,o){if((0,_.V9)(r,Error)){w(a,s);var u=e(t,r),l=c.length;I(u,"errors[".concat(o,"]"),l,s),c=O(e,t,n,r,i,[u].concat((0,d.Z)(c)),u,l)}})),c}function w(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=S(S({},e.mechanism),{},{is_exception_group:!0,exception_id:t})}function I(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism=S(S({},e.mechanism),{},{type:"chained",source:t,exception_id:n,parent_id:r})}function k(e,t){return e(t.stack||"",1)}function R(e,t){var n={type:t.name||t.constructor.name,value:t.message},r=k(e,t);return r.length&&(n.stacktrace={frames:r}),n}var N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,e),this._key=t.key||"cause",this._limit=t.limit||5,this.name=e.id}return(0,c.Z)(e,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(e,t,n){var r=n.getOptions();A(R,r.stackParser,r.maxValueLength,this._key,this._limit,e,t)}}],[{key:"__initStatic",value:function(){this.id="LinkedErrors"}}]),e}();N.__initStatic();var T=n(70885),C=n(35572),D=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.host,r=e.path,i=e.pass,o=e.port,a=e.projectId,s=e.protocol,c=e.publicKey;return"".concat(s,"://").concat(c).concat(t&&i?":".concat(i):"")+"@".concat(n).concat(o?":".concat(o):"","/").concat(r?"".concat(r,"/"):r).concat(a)}function x(e){var t=D.exec(e);if(t){var n=t.slice(1),r=(0,T.Z)(n,6),i=r[0],o=r[1],a=r[2],s=void 0===a?"":a,c=r[3],u=r[4],l=void 0===u?"":u,d="",h=r[5],p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){var m=h.match(/^\d+/);m&&(h=m[0])}return P({host:c,pass:s,path:d,projectId:h,port:l,protocol:i,publicKey:o})}(0,f.Cf)((function(){console.error("Invalid Sentry Dsn: ".concat(e))}))}function P(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function L(e){var t="string"===typeof e?x(e):P(e);if(t&&function(e){if(!C.X)return!0;var t=e.port,n=e.projectId,r=e.protocol;return!["protocol","publicKey","host","projectId"].find((function(t){return!e[t]&&(f.kg.error("Invalid Sentry Dsn: ".concat(t," missing")),!0)}))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?!t||!isNaN(parseInt(t,10))||(f.kg.error("Invalid Sentry Dsn: Invalid port ".concat(t)),!1):(f.kg.error("Invalid Sentry Dsn: Invalid protocol ".concat(r)),!1):(f.kg.error("Invalid Sentry Dsn: Invalid projectId ".concat(n)),!1))}(t))return t}var F=n(6700);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){return[e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]]}function W(e,t){var n,r=B(e[1]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i,i[0].type))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}function K(e,t){return(t||new TextEncoder).encode(e)}function Z(e,t){var n=(0,T.Z)(e,2),r=n[0],i=n[1],o=JSON.stringify(r);function a(e){"string"===typeof o?o="string"===typeof e?o+e:[K(o,t),e]:o.push("string"===typeof e?K(e,t):e)}var s,c=B(i);try{for(c.s();!(s=c.n()).done;){var u=s.value,l=(0,T.Z)(u,2),d=l[0],f=l[1];if(a("\n".concat(JSON.stringify(d),"\n")),"string"===typeof f||f instanceof Uint8Array)a(f);else{var h=void 0;try{h=JSON.stringify(f)}catch(p){h=JSON.stringify((0,F.Fv)(f))}a(h)}}}catch(m){c.e(m)}finally{c.f()}return"string"===typeof o?o:function(e){var t,n=e.reduce((function(e,t){return e+t.length}),0),r=new Uint8Array(n),i=0,o=B(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;r.set(a,i),i+=a.length}}catch(m){o.e(m)}finally{o.f()}return r}(o)}function V(e,t,n){var r="string"===typeof e?t.encode(e):e;function i(e){var t=r.subarray(0,e);return r=r.subarray(e+1),t}function o(){var e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(i(e)))}for(var a=o(),s=[];r.length;){var c=o(),u="number"===typeof c.length?c.length:void 0;s.push([c,u?i(u):o()])}return[a,s]}function z(e,t){var n="string"===typeof e.data?K(e.data,t):e.data;return[(0,u.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}var q={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function $(e){return q[e]}function Y(e){if(e&&e.sdk){var t=e.sdk;return{name:t.name,version:t.version}}}function J(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return j(j(j({event_id:e.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!n&&r&&{dsn:M(r)}),i&&{trace:(0,u.Jr)(j({},i))})}var X=n(91801);function Q(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var te=new Map,ne=new Set;function re(e,t){return function(e){if(X.n2._sentryModuleMetadata)for(var t=0,n=Object.keys(X.n2._sentryModuleMetadata);t<n.length;t++){var r=n[t],i=X.n2._sentryModuleMetadata[r];if(!ne.has(r)){ne.add(r);var o,a=Q(e(r).reverse());try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s.filename){te.set(s.filename,i);break}}}catch(c){a.e(c)}finally{a.f()}}}}(e),te.get(t)}var ie=function(){function e(){(0,s.Z)(this,e),this.name=e.id}return(0,c.Z)(e,[{key:"setupOnce",value:function(e,t){var n=t().getClient();if(n&&"function"===typeof n.on){n.on("beforeEnvelope",(function(e){W(e,(function(e,t){if("event"===t){var n=Array.isArray(e)?e[1]:void 0;n&&(!function(e){try{e.exception.values.forEach((function(e){if(e.stacktrace){var t,n=Q(e.stacktrace.frames||[]);try{for(n.s();!(t=n.n()).done;)delete t.value.module_metadata}catch(r){n.e(r)}finally{n.f()}}}))}catch(t){}}(n),e[1]=n)}}))}));var r=n.getOptions().stackParser;e((function(e){return function(e,t){try{t.exception.values.forEach((function(t){if(t.stacktrace){var n,r=Q(t.stacktrace.frames||[]);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.filename){var o=re(e,i.filename);o&&(i.module_metadata=o)}}}catch(a){r.e(a)}finally{r.f()}}}))}catch(n){}}(r,e),e}))}}}],[{key:"__initStatic",value:function(){this.id="ModuleMetadata"}}]),e}();ie.__initStatic();var oe=n(57641),ae=n(97326),se=n(60136),ce=n(82963),ue=n(61120),le=n(72407);function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ue.Z)(e);if(t){var i=(0,ue.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ce.Z)(this,n)}}var fe=function(e){(0,se.Z)(n,e);var t=de(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn";return(0,s.Z)(this,n),(r=t.call(this,e)).message=e,r.name=(this instanceof n?this.constructor:void 0).prototype.constructor.name,Object.setPrototypeOf((0,ae.Z)(r),(this instanceof n?this.constructor:void 0).prototype),r.logLevel=i,r}return(0,c.Z)(n)}((0,le.Z)(Error));function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pe="7";function me(e){var t=e.protocol?"".concat(e.protocol,":"):"",n=e.port?":".concat(e.port):"";return"".concat(t,"//").concat(e.host).concat(n).concat(e.path?"/".concat(e.path):"","/api/")}function ge(e,t){return(0,u._j)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({sentry_key:e.publicKey,sentry_version:pe},t&&{sentry_client:"".concat(t.name,"/").concat(t.version)}))}function ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||"".concat(function(e){return"".concat(me(e)).concat(e.projectId,"/envelope/")}(e),"?").concat(ge(e,r))}function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n,r){var i=Y(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[].concat((0,d.Z)(e.sdk.integrations||[]),(0,d.Z)(t.integrations||[])),e.sdk.packages=[].concat((0,d.Z)(e.sdk.packages||[]),(0,d.Z)(t.packages||[])))}(e,n&&n.sdk);var a=J(e,i,r,t);return delete e.sdkProcessingMetadata,H(a,[[{type:o},e]])}var Ee=n(46675),Se=n(85104),Ae=n(48611),Oe=[];function we(e){var t=e.defaultIntegrations||[],n=e.integrations;t.forEach((function(e){e.isDefaultInstance=!0}));var r=function(e){var t={};return e.forEach((function(e){var n=e.name,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((function(e){return t[e]}))}(Array.isArray(n)?[].concat((0,d.Z)(t),(0,d.Z)(n)):"function"===typeof n?(0,h.lE)(n(t)):t),i=function(e,t){for(var n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(r,(function(e){return"Debug"===e.name}));if(-1!==i){var o=r.splice(i,1),a=(0,T.Z)(o,1)[0];r.push(a)}return r}function Ie(e,t,n){if(n[t.name]=t,-1===Oe.indexOf(t.name)&&(t.setupOnce(Se.cc,Ee.Gd),Oe.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),e.on&&"function"===typeof t.preprocessEvent){var r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(function(t,n){return r(t,n,e)}))}if(e.addEventProcessor&&"function"===typeof t.processEvent){var i=t.processEvent.bind(t),o=Object.assign((function(t,n){return i(t,n,e)}),{id:t.name});e.addEventProcessor(o)}m.X&&f.kg.log("Integration installed: ".concat(t.name))}function ke(e){var t=(0,Ae.s3)();t&&t.addIntegration?t.addIntegration(e):m.X&&f.kg.warn('Cannot add integration "'.concat(e.name,'" because no SDK Client is available.'))}var Re=n(20884),Ne=n(37496);function Te(e,t,n){var r=t.getOptions(),i=(t.getDsn()||{}).publicKey,o=(n&&n.getUser()||{}).segment,a=(0,u.Jr)({environment:r.environment||Ne.J,release:r.release,user_segment:o,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",a),a}var Ce=n(18041);function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le="Not capturing exception because it's already been captured.",Fe=function(){function e(t){if((0,s.Z)(this,e),this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=L(t.dsn):m.X&&f.kg.warn("No DSN provided, client will not send events."),this._dsn){var n=ve(this._dsn,t);this._transport=t.transport(Pe(Pe({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{},{url:n}))}}return(0,c.Z)(e,[{key:"captureException",value:function(e,t,n){var r=this;if(!(0,h.YO)(e)){var i=t&&t.event_id;return this._process(this.eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i}m.X&&f.kg.log(Le)}},{key:"captureMessage",value:function(e,t,n,r){var i=this,o=n&&n.event_id,a=(0,_.pt)(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o}},{key:"captureEvent",value:function(e,t,n){if(!(t&&t.originalException&&(0,h.YO)(t.originalException))){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r}m.X&&f.kg.log(Le)}},{key:"captureSession",value:function(e){"string"!==typeof e.release?m.X&&f.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,Re.CT)(e,{init:!1}))}},{key:"getDsn",value:function(){return this._dsn}},{key:"getOptions",value:function(){return this._options}},{key:"getSdkMetadata",value:function(){return this._options._metadata}},{key:"getTransport",value:function(){return this._transport}},{key:"flush",value:function(e){var t=this._transport;return t?this._isClientDoneProcessing(e).then((function(n){return t.flush(e).then((function(e){return n&&e}))})):(0,oe.WD)(!0)}},{key:"close",value:function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))}},{key:"getEventProcessors",value:function(){return this._eventProcessors}},{key:"addEventProcessor",value:function(e){this._eventProcessors.push(e)}},{key:"setupIntegrations",value:function(e){var t,n,r;(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=(t=this,n=this._options.integrations,r={},n.forEach((function(e){e&&Ie(t,e,r)})),r),this._integrationsInitialized=!0)}},{key:"getIntegrationById",value:function(e){return this._integrations[e]}},{key:"getIntegration",value:function(e){try{return this._integrations[e.id]||null}catch(t){return m.X&&f.kg.warn("Cannot retrieve integration ".concat(e.id," from the current Client")),null}}},{key:"addIntegration",value:function(e){Ie(this,e,this._integrations)}},{key:"sendEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.emit("beforeSendEvent",e,n);var r,i,o,a,s,c,u=_e(e,this._dsn,this._options._metadata,this._options.tunnel),l=De(n.attachments||[]);try{for(l.s();!(r=l.n()).done;){var f=r.value;i=u,o=z(f,this._options.transportOptions&&this._options.transportOptions.textEncoder),a=void 0,s=void 0,c=void 0,a=(0,T.Z)(i,2),s=a[0],c=a[1],u=[s,[].concat((0,d.Z)(c),[o])]}}catch(p){l.e(p)}finally{l.f()}var h=this._sendEnvelope(u);h&&h.then((function(n){return t.emit("afterSendEvent",e,n)}),null)}},{key:"sendSession",value:function(e){var t=function(e,t,n,r){var i=Y(n);return H(be(be({sent_at:(new Date).toISOString()},i&&{sdk:i}),!!r&&t&&{dsn:M(t)}),["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}},{key:"recordDroppedEvent",value:function(e,t,n){if(this._options.sendClientReports){var r="".concat(e,":").concat(t);m.X&&f.kg.log('Adding outcome: "'.concat(r,'"')),this._outcomes[r]=this._outcomes[r]+1||1}}},{key:"on",value:function(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._hooks[e]&&this._hooks[e].forEach((function(e){return e.apply(void 0,n)}))}},{key:"_updateSessionFromEvent",value:function(e,t){var n=!1,r=!1,i=t.exception&&t.exception.values;if(i){r=!0;var o,a=De(i);try{for(a.s();!(o=a.n()).done;){var s=o.value.mechanism;if(s&&!1===s.handled){n=!0;break}}}catch(u){a.e(u)}finally{a.f()}}var c="ok"===e.status;(c&&0===e.errors||c&&n)&&((0,Re.CT)(e,Pe(Pe({},n&&{status:"crashed"}),{},{errors:e.errors||Number(r||n)})),this.captureSession(e))}},{key:"_isClientDoneProcessing",value:function(e){var t=this;return new oe.cW((function(n){var r=0,i=setInterval((function(){0==t._numProcessing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))}},{key:"_isEnabled",value:function(){return!1!==this.getOptions().enabled&&void 0!==this._transport}},{key:"_prepareEvent",value:function(e,t,n){var r=this,i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),(0,Ce.R)(i,e,t,n,this).then((function(e){if(null===e)return e;var t=(e.sdkProcessingMetadata||{}).propagationContext;if(!(e.contexts&&e.contexts.trace)&&t){var i=t.traceId,o=t.spanId,a=t.parentSpanId,s=t.dsc;e.contexts=Pe({trace:{trace_id:i,span_id:o,parent_span_id:a}},e.contexts);var c=s||Te(i,r,n);e.sdkProcessingMetadata=Pe({dynamicSamplingContext:c},e.sdkProcessingMetadata)}return e}))}},{key:"_captureEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){if(m.X){var t=e;"log"===t.logLevel?f.kg.log(t.message):f.kg.warn(t)}}))}},{key:"_processEvent",value:function(e,t,n){var r=this,i=this.getOptions(),o=i.sampleRate,a=je(e),s=Ue(e),c=e.type||"error",u="before send for type `".concat(c,"`");if(s&&"number"===typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,oe.$2)(new fe("Discarding event because it's not included in the random sample (sampling rate = ".concat(o,")"),"log"));var l="replay_event"===c?"replay":c;return this._prepareEvent(e,t,n).then((function(n){if(null===n)throw r.recordDroppedEvent("event_processor",l,e),new fe("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;var o=function(e,t,n){var r=e.beforeSend,i=e.beforeSendTransaction;if(Ue(t)&&r)return r(t,n);if(je(t)&&i)return i(t,n);return t}(i,n,t);return function(e,t){var n="".concat(t," must return `null` or a valid event.");if((0,_.J8)(e))return e.then((function(e){if(!(0,_.PO)(e)&&null!==e)throw new fe(n);return e}),(function(e){throw new fe("".concat(t," rejected with ").concat(e))}));if(!(0,_.PO)(e)&&null!==e)throw new fe(n);return e}(o,u)})).then((function(i){if(null===i)throw r.recordDroppedEvent("before_send",l,e),new fe("".concat(u," returned `null`, will not send event."),"log");var o=n&&n.getSession();!a&&o&&r._updateSessionFromEvent(o,i);var s=i.transaction_info;if(a&&s&&i.transaction!==e.transaction){i.transaction_info=Pe(Pe({},s),{},{source:"custom"})}return r.sendEvent(i,t),i})).then(null,(function(e){if(e instanceof fe)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new fe("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ".concat(e))}))}},{key:"_process",value:function(e){var t=this;this._numProcessing++,e.then((function(e){return t._numProcessing--,e}),(function(e){return t._numProcessing--,e}))}},{key:"_sendEnvelope",value:function(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(function(e){m.X&&f.kg.error("Error while sending event:",e)}));m.X&&f.kg.error("Transport disabled")}},{key:"_clearOutcomes",value:function(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map((function(t){var n=t.split(":"),r=(0,T.Z)(n,2);return{reason:r[0],category:r[1],quantity:e[t]}}))}}]),e}();function Ue(e){return void 0===e.type}function je(e){return"transaction"===e.type}function Be(e){var t=(0,Ee.Gd)().getClient();t&&t.addEventProcessor&&t.addEventProcessor(e)}var Ge=n(31890);function He(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ke={},Ze={};function Ve(e,t){Ke[e]=Ke[e]||[],Ke[e].push(t)}function ze(e,t){Ze[e]||(t(),Ze[e]=!0)}function qe(e,t){var n=e&&Ke[e];if(n){var r,i=He(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{o(t)}catch(a){C.X&&f.kg.error("Error while triggering instrumentation handler.\nType: ".concat(e,"\nName: ").concat((0,Ge.$P)(o),"\nError:"),a)}}}catch(s){i.e(s)}finally{i.f()}}}var $e=null;function Ye(e){var t="error";Ve(t,e),ze(t,Je)}function Je(){$e=X.n2.onerror,X.n2.onerror=function(e,t,n,r,i){return qe("error",{column:r,error:i,line:n,msg:e,url:t}),!(!$e||$e.__SENTRY_LOADER__)&&$e.apply(this,arguments)},X.n2.onerror.__SENTRY_INSTRUMENTED__=!0}var Xe=null;function Qe(e){var t="unhandledrejection";Ve(t,e),ze(t,et)}function et(){Xe=X.n2.onunhandledrejection,X.n2.onunhandledrejection=function(e){return qe("unhandledrejection",e),!(Xe&&!Xe.__SENTRY_LOADER__)||Xe.apply(this,arguments)},X.n2.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt="baggage",it="sentry-",ot=/^sentry-/,at=8192;function st(e){if(e)return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((function(e,t,n){var r=(0,T.Z)(t,2),i=r[0],o=r[1],a="".concat(encodeURIComponent(i),"=").concat(encodeURIComponent(o)),s=0===n?a:"".concat(e,",").concat(a);return s.length>at?(C.X&&f.kg.warn("Not adding key: ".concat(i," with val: ").concat(o," to baggage header due to exceeding baggage size limits.")),e):s}),"")}(Object.entries(e).reduce((function(e,t){var n=(0,T.Z)(t,2),r=n[0],i=n[1];return i&&(e["".concat(it).concat(r)]=i),e}),{}))}function ct(e){return e.split(",").map((function(e){return e.split("=").map((function(e){return decodeURIComponent(e.trim())}))})).reduce((function(e,t){var n=(0,T.Z)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}var ut=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function lt(e){if(e){var t,n=e.match(ut);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}}function dt(e,t){var n=lt(e),r=function(e){if((0,_.HD)(e)||Array.isArray(e)){var t={};if(Array.isArray(e))t=e.reduce((function(e,t){var n=ct(t);return nt(nt({},e),n)}),{});else{if(!e)return;t=ct(e)}var n=Object.entries(t).reduce((function(e,t){var n=(0,T.Z)(t,2),r=n[0],i=n[1];return r.match(ot)&&(e[r.slice(it.length)]=i),e}),{});return Object.keys(n).length>0?n:void 0}}(t),i=n||{},o=i.traceId,a=i.parentSpanId,s=i.parentSampled,c={traceId:o||(0,h.DM)(),spanId:(0,h.DM)().substring(16),sampled:s};return a&&(c.parentSpanId=a),r&&(c.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:c}}function ft(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,h.DM)(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,h.DM)().substring(16),n=arguments.length>2?arguments[2]:void 0,r="";return void 0!==n&&(r=n?"-1":"-0"),"".concat(e,"-").concat(t).concat(r)}function ht(e){return(e||(0,Ee.Gd)()).getScope().getTransaction()}var pt=lt,mt=!1;function gt(){var e=ht();if(e){var t="internal_error";m.X&&f.kg.log("[Tracing] Transaction: ".concat(t," -> Global error occured")),e.setStatus(t)}}gt.tag="sentry_tracingErrorCallback";var vt=n(11752),yt=n(79583);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Et=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;(0,s.Z)(this,e),this._maxlen=t,this.spans=[]}return(0,c.Z)(e,[{key:"add",value:function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}]),e}(),St=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,e),this.traceId=t.traceId||(0,h.DM)(),this.spanId=t.spanId||(0,h.DM)().substring(16),this.startTimestamp=t.startTimestamp||(0,yt.ph)(),this.tags=t.tags||{},this.data=t.data||{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.name&&(this.description=t.name),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return(0,c.Z)(e,[{key:"name",get:function(){return this.description||""},set:function(e){this.setName(e)}},{key:"startChild",value:function(t){var n=new e(_t(_t({},t),{},{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,m.X&&n.transaction){var r=t&&t.op||"< unknown op >",i=n.transaction.name||"< unknown name >",o=n.transaction.spanId,a="[Tracing] Starting '".concat(r,"' span on transaction '").concat(i,"' (").concat(o,").");n.transaction.metadata.spanMetadata[n.spanId]={logMessage:a},f.kg.log(a)}return n}},{key:"setTag",value:function(e,t){return this.tags=_t(_t({},this.tags),{},(0,a.Z)({},e,t)),this}},{key:"setData",value:function(e,t){return this.data=_t(_t({},this.data),{},(0,a.Z)({},e,t)),this}},{key:"setStatus",value:function(e){return this.status=e,this}},{key:"setHttpStatus",value:function(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);var t=At(e);return"unknown_error"!==t&&this.setStatus(t),this}},{key:"setName",value:function(e){this.description=e}},{key:"isSuccess",value:function(){return"ok"===this.status}},{key:"finish",value:function(e){if(m.X&&this.transaction&&this.transaction.spanId!==this.spanId){var t=this.transaction.metadata.spanMetadata[this.spanId].logMessage;t&&f.kg.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"===typeof e?e:(0,yt.ph)()}},{key:"toTraceparent",value:function(){return ft(this.traceId,this.spanId,this.sampled)}},{key:"toContext",value:function(){return(0,u.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}},{key:"updateWithContext",value:function(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}},{key:"getTraceContext",value:function(){return(0,u.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId,origin:this.origin})}},{key:"toJSON",value:function(){return(0,u.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}]),e}();function At(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ue.Z)(e);if(t){var i=(0,ue.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ce.Z)(this,n)}}var kt=function(e){(0,se.Z)(n,e);var t=It(n);function n(e,r){var i;(0,s.Z)(this,n),delete(i=t.call(this,e)).description,i._measurements={},i._contexts={},i._hub=r||(0,Ee.Gd)(),i._name=e.name||"",i.metadata=wt(wt({source:"custom"},e.metadata),{},{spanMetadata:{}}),i._trimEnd=e.trimEnd,i.transaction=(0,ae.Z)(i);var o=i.metadata.dynamicSamplingContext;return o&&(i._frozenDynamicSamplingContext=wt({},o)),i}return(0,c.Z)(n,[{key:"name",get:function(){return this._name},set:function(e){this.setName(e)}},{key:"setName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"custom";this._name=e,this.metadata.source=t}},{key:"initSpanRecorder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.spanRecorder||(this.spanRecorder=new Et(e)),this.spanRecorder.add(this)}},{key:"setContext",value:function(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}},{key:"setMeasurement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this._measurements[e]={value:t,unit:n}}},{key:"setMetadata",value:function(e){this.metadata=wt(wt({},this.metadata),e)}},{key:"finish",value:function(e){var t=this._finishTransaction(e);if(t)return this._hub.captureEvent(t)}},{key:"toContext",value:function(){var e=(0,vt.Z)((0,ue.Z)(n.prototype),"toContext",this).call(this);return(0,u.Jr)(wt(wt({},e),{},{name:this.name,trimEnd:this._trimEnd}))}},{key:"updateWithContext",value:function(e){return(0,vt.Z)((0,ue.Z)(n.prototype),"updateWithContext",this).call(this,e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}},{key:"getDynamicSamplingContext",value:function(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;var e=this._hub||(0,Ee.Gd)(),t=e.getClient();if(!t)return{};var n=e.getScope(),r=Te(this.traceId,t,n),i=this.metadata.sampleRate;void 0!==i&&(r.sample_rate="".concat(i));var o=this.metadata.source;return o&&"url"!==o&&(r.transaction=this.name),void 0!==this.sampled&&(r.sampled=String(this.sampled)),r}},{key:"setHub",value:function(e){this._hub=e}},{key:"_finishTransaction",value:function(e){var t=this;if(void 0===this.endTimestamp){this.name||(m.X&&f.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),(0,vt.Z)((0,ue.Z)(n.prototype),"finish",this).call(this,e);var r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),!0!==this.sampled)return m.X&&f.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(r&&r.recordDroppedEvent("sample_rate","transaction"));var i=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==t&&e.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var o=this.metadata,a=wt({contexts:wt(wt({},this._contexts),{},{trace:this.getTraceContext()}),spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:wt(wt({},o),{},{dynamicSamplingContext:this.getDynamicSamplingContext()})},o.source&&{transaction_info:{source:o.source}});return Object.keys(this._measurements).length>0&&(m.X&&f.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),m.X&&f.kg.log("[Tracing] Finishing ".concat(this.op," transaction: ").concat(this.name,".")),a}}}]),n}(St);function Rt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ue.Z)(e);if(t){var i=(0,ue.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ce.Z)(this,n)}}var Ct={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Dt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],Mt=function(e){(0,se.Z)(n,e);var t=Tt(n);function n(e,r,i,o){var a;return(0,s.Z)(this,n),(a=t.call(this,o))._pushActivity=e,a._popActivity=r,a.transactionSpanId=i,a}return(0,c.Z)(n,[{key:"add",value:function(e){var t=this;e.spanId!==this.transactionSpanId&&(e.finish=function(n){e.endTimestamp="number"===typeof n?n:(0,yt.ph)(),t._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),(0,vt.Z)((0,ue.Z)(n.prototype),"add",this).call(this,e)}}]),n}(Et),xt=function(e){(0,se.Z)(n,e);var t=Tt(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ct.idleTimeout,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ct.finalTimeout,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ct.heartbeatInterval,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,s.Z)(this,n),(i=t.call(this,e,r))._idleHub=r,i._idleTimeout=o,i._finalTimeout=a,i._heartbeatInterval=c,i._onScope=u,i.activities={},i._heartbeatCounter=0,i._finished=!1,i._idleTimeoutCanceledPermanently=!1,i._beforeFinishCallbacks=[],i._finishReason=Dt[4],u&&(m.X&&f.kg.log("Setting idle transaction on scope. Span ID: ".concat(i.spanId)),r.configureScope((function(e){return e.setSpan((0,ae.Z)(i))}))),i._restartIdleTimeout(),setTimeout((function(){i._finished||(i.setStatus("deadline_exceeded"),i._finishReason=Dt[3],i.finish())}),i._finalTimeout),i}return(0,c.Z)(n,[{key:"finish",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,yt.ph)();if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){m.X&&f.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);var r,i=Rt(this._beforeFinishCallbacks);try{for(i.s();!(r=i.n()).done;){(0,r.value)(this,t)}}catch(a){i.e(a)}finally{i.f()}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(n){if(n.spanId===e.spanId)return!0;n.endTimestamp||(n.endTimestamp=t,n.setStatus("cancelled"),m.X&&f.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));var r=n.startTimestamp<t,i=(e._finalTimeout+e._idleTimeout)/1e3,o=n.endTimestamp-e.startTimestamp<i;if(m.X){var a=JSON.stringify(n,void 0,2);r?o||f.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",a):f.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",a)}return r&&o})),m.X&&f.kg.log("[Tracing] flushing IdleTransaction")}else m.X&&f.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){var o=this._idleHub.getScope();o.getTransaction()===this&&o.setSpan(void 0)}return(0,vt.Z)((0,ue.Z)(n.prototype),"finish",this).call(this,t)}},{key:"registerBeforeFinishCallback",value:function(e){this._beforeFinishCallbacks.push(e)}},{key:"initSpanRecorder",value:function(e){var t=this;if(!this.spanRecorder){this.spanRecorder=new Mt((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),m.X&&f.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}},{key:"cancelIdleTimeout",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{restartOnChildSpanChange:!0}).restartOnChildSpanChange;this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Dt[5],this.finish(e)))}},{key:"setFinishReason",value:function(e){this._finishReason=e}},{key:"_restartIdleTimeout",value:function(e){var t=this;this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((function(){t._finished||0!==Object.keys(t.activities).length||(t._finishReason=Dt[1],t.finish(e))}),this._idleTimeout)}},{key:"_pushActivity",value:function(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),m.X&&f.kg.log("[Tracing] pushActivity: ".concat(e)),this.activities[e]=!0,m.X&&f.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}},{key:"_popActivity",value:function(e){if(this.activities[e]&&(m.X&&f.kg.log("[Tracing] popActivity ".concat(e)),delete this.activities[e],m.X&&f.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var t=(0,yt.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=Dt[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}},{key:"_beat",value:function(){if(!this._finished){var e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(m.X&&f.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Dt[0],this.finish()):this._pingHeartbeat()}}},{key:"_pingHeartbeat",value:function(){var e=this;m.X&&f.kg.log("pinging Heartbeat -> current counter: ".concat(this._heartbeatCounter)),setTimeout((function(){e._beat()}),this._heartbeatInterval)}}]),n}(kt),Pt=n(71002);function Lt(e){if("boolean"===typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var t=(0,Ae.s3)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Ft(e,t,n){return Lt(t)?void 0!==e.sampled?(e.setMetadata({sampleRate:Number(e.sampled)}),e):("function"===typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({sampleRate:Number(r)})):void 0!==n.parentSampled?r=n.parentSampled:"undefined"!==typeof t.tracesSampleRate?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),function(e){if((0,_.i2)(e)||"number"!==typeof e&&"boolean"!==typeof e)return m.X&&f.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(e)," of type ").concat(JSON.stringify((0,Pt.Z)(e)),".")),!1;if(e<0||e>1)return m.X&&f.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ".concat(e,".")),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(m.X&&f.kg.log("[Tracing] starting ".concat(e.op," transaction - ").concat(e.name)),e):(m.X&&f.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ".concat(Number(r),")")),e)):(m.X&&f.kg.log("[Tracing] Discarding transaction because ".concat("function"===typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(m.X&&f.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(){var e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function Gt(e,t){var n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",o=e.instrumenter||"sentry";i!==o&&(m.X&&f.kg.error("A transaction was started with instrumenter=`".concat(o,"`, but the SDK is configured with the `").concat(i,"` instrumenter.\nThe transaction will not be sampled. Please use the ").concat(i," instrumentation to start transactions.")),e.sampled=!1);var a=new kt(e,this);return(a=Ft(a,r,jt({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function Ht(e,t,n,r,i,o,a){var s=e.getClient(),c=s&&s.getOptions()||{},u=new xt(t,e,n,r,a,i);return(u=Ft(u,c,jt({parentSampled:t.parentSampled,transactionContext:t},o))).sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",u),u}function Wt(){var e=(0,Ee.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Gt),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Bt),mt||(mt=!0,Ye(gt),Qe(gt)))}function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vt(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=Qt(e),o=(0,Ee.Gd)(),a=o.getScope(),s=a.getSpan(),c=Xt(o,s,i);function u(){c&&c.finish(),o.getScope().setSpan(s)}a.setSpan(c);try{n=t(c)}catch(l){throw c&&c.setStatus("internal_error"),r(l),u(),l}return(0,_.J8)(n)?Promise.resolve(n).then((function(){u()}),(function(e){c&&c.setStatus("internal_error"),r(e),u()})):u(),n}function zt(e,t){var n,r=Qt(e),i=(0,Ee.Gd)(),o=i.getScope(),a=o.getSpan(),s=Xt(i,a,r);function c(){s&&s.finish(),i.getScope().setSpan(a)}o.setSpan(s);try{n=t(s)}catch(u){throw s&&s.setStatus("internal_error"),c(),u}return(0,_.J8)(n)?Promise.resolve(n).then((function(){c()}),(function(){s&&s.setStatus("internal_error"),c()})):c(),n}function qt(e,t){var n,r=Qt(e),i=(0,Ee.Gd)(),o=i.getScope(),a=o.getSpan(),s=Xt(i,a,r);o.setSpan(s);try{n=t(s,(function(){s&&s.finish(),i.getScope().setSpan(a)}))}catch(c){throw s&&s.setStatus("internal_error"),c}return(0,_.J8)(n)&&Promise.resolve(n).then(void 0,(function(){s&&s.setStatus("internal_error")})),n}function $t(e){if(Lt()){var t=Zt({},e);void 0!==t.name&&void 0===t.description&&(t.description=t.name);var n=(0,Ee.Gd)(),r=Yt();return r?r.startChild(t):n.startTransaction(t)}}function Yt(){return(0,Ee.Gd)().getScope().getSpan()}function Jt(e,t){var n=e.sentryTrace,r=e.baggage,i=(0,Ee.Gd)().getScope(),o=dt(n,r),a=o.traceparentData,s=o.dynamicSamplingContext,c=o.propagationContext;i.setPropagationContext(c),m.X&&a&&f.kg.log("[Tracing] Continuing trace ".concat(a.traceId,"."));var l=Zt(Zt({},a),{},{metadata:(0,u.Jr)({dynamicSamplingContext:a&&!s?{}:s})});return t?t(l):l}function Xt(e,t,n){if(Lt())return t?t.startChild(n):e.startTransaction(n)}function Qt(e){var t=Zt({},e);return void 0!==t.name&&void 0===t.description&&(t.description=t.name),t}function en(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,oe.$2)(new fe("Not adding Promise because buffer limit was reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(e){return new oe.cW((function(n,r){var i=t.length;if(!i)return n(!0);var o=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){(0,oe.WD)(e).then((function(){--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function tn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return nn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function nn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var on=6e4;function an(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=parseInt("".concat(e),10);if(!isNaN(n))return 1e3*n;var r=Date.parse("".concat(e));return isNaN(r)?on:r-t}function sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return function(e,t){return e[t]||e.all||0}(e,t)>n}function cn(e,t){var n=t.statusCode,r=t.headers,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),s=r&&r["x-sentry-rate-limits"],c=r&&r["retry-after"];if(s){var u,l=tn(s.trim().split(","));try{for(l.s();!(u=l.n()).done;){var d=u.value.split(":",2),f=(0,T.Z)(d,2),h=f[0],p=f[1],m=parseInt(h,10),g=1e3*(isNaN(m)?60:m);if(p){var v,y=tn(p.split(";"));try{for(y.s();!(v=y.n()).done;){o[v.value]=i+g}}catch(b){y.e(b)}finally{y.f()}}else o.all=i+g}}catch(b){l.e(b)}finally{l.f()}}else c?o.all=i+an(c,i):429===n&&(o.all=i+6e4);return o}var un=30;function ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:en(e.bufferSize||un),r={};function i(i){var o=[];if(W(i,(function(t,n){var i=$(n);if(sn(r,i)){var a=dn(t,n);e.recordDroppedEvent("ratelimit_backoff",i,a)}else o.push(t)})),0===o.length)return(0,oe.WD)();var a=H(i[0],o),s=function(t){W(a,(function(n,r){var i=dn(n,r);e.recordDroppedEvent(t,$(r),i)}))};return n.add((function(){return t({body:Z(a,e.textEncoder)}).then((function(e){return void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&m.X&&f.kg.warn("Sentry responded with status code ".concat(e.statusCode," to sent event.")),r=cn(r,e),e}),(function(e){throw s("network_error"),e}))})).then((function(e){return e}),(function(e){if(e instanceof fe)return m.X&&f.kg.error("Skipped sending event because buffer is full."),s("queue_overflow"),(0,oe.WD)();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:function(e){return n.drain(e)}}}function dn(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}var fn=n(15861),hn=n(64687),pn=n.n(hn);function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t){var n;return W(e,(function(e,r){return t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n})),n}function yn(e,t){return function(n){var r=e(n),i={};function o(t,r){var o=r?"".concat(t,":").concat(r):t;if(!i[o]){var a=x(t);if(!a)return;var s=ve(a);i[o]=r?function(e,t){return function(n){var r,i=e(n);return{send:(r=(0,fn.Z)(pn().mark((function e(n){var r;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=vn(n,["event","transaction","profile","replay_event"]))&&(r.release=t),e.abrupt("return",i.send(n));case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)}),flush:function(e){return i.flush(e)}}}}(e,r)(gn(gn({},n),{},{url:s})):e(gn(gn({},n),{},{url:s}))}return i[o]}function a(){return(a=(0,fn.Z)(pn().mark((function e(n){var i,a;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 0===(i=t({envelope:n,getEvent:function(e){var t=e&&e.length?e:["event"];return vn(n,t)}}).map((function(e){return"string"===typeof e?o(e,void 0):o(e.dsn,e.release)})).filter((function(e){return!!e}))).length&&i.push(r),e.next=5,Promise.all(i.map((function(e){return e.send(n)})));case 5:return a=e.sent,e.abrupt("return",a[0]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return s=(0,fn.Z)(pn().mark((function e(t){var n,o;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat((0,d.Z)(Object.keys(i).map((function(e){return i[e]}))),[r]),e.next=3,Promise.all(n.map((function(e){return e.flush(t)})));case 3:return o=e.sent,e.abrupt("return",o.every((function(e){return e})));case 5:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}return{send:function(e){return a.apply(this,arguments)},flush:function(e){return s.apply(this,arguments)}}}}function bn(e,t,n){var r=ht();r&&r.setMeasurement(e,t,n)}var _n=n(2241),En=n(68522);function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On=X.n2,wn=0;function In(){return wn>0}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if("function"!==typeof e)return e;try{var r=e.__sentry_wrapped__;if(r)return r;if((0,u.HK)(e))return e}catch(a){return e}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return kn(e,t)}));return e.apply(this,i)}catch(o){throw wn++,setTimeout((function(){wn--})),(0,Ae.$e)((function(e){e.addEventProcessor((function(e){return t.mechanism&&((0,h.Db)(e,void 0,void 0),(0,h.EG)(e,t.mechanism)),e.extra=An(An({},e.extra),{},{arguments:r}),e})),(0,Ae.Tb)(o)})),o}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=e[o])}catch(s){}(0,u.$Q)(i,e),(0,u.xp)(e,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return e.name}})}catch(s){}return i}var Rn=n(11465);var Nn="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t){var n=xn(e,t),r={type:t&&t.name,value:Ln(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Mn(e,t){return{exception:{values:[Dn(e,t)]}}}function xn(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(Pn.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(i){}return[]}var Pn=/Minified React error #\d+;/i;function Ln(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function Fn(e,t,n,r){var i=jn(e,t,n&&n.syntheticException||void 0,r);return(0,h.EG)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,oe.WD)(i)}function Un(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=Bn(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),(0,oe.WD)(o)}function jn(e,t,n,r,i){var o;if((0,_.VW)(t)&&t.error)return Mn(e,t.error);if((0,_.TX)(t)||(0,_.fm)(t)){var a=t;if("stack"in t)o=Mn(e,t);else{var s=a.name||((0,_.TX)(a)?"DOMError":"DOMException"),c=a.message?"".concat(s,": ").concat(a.message):s;o=Bn(e,c,n,r),(0,h.Db)(o,c)}return"code"in a&&(o.tags=Cn(Cn({},o.tags),{},{"DOMException.code":"".concat(a.code)})),o}return(0,_.VZ)(t)?Mn(e,t):(0,_.PO)(t)||(0,_.cO)(t)?(o=function(e,t,n,r){var i=(0,Ee.Gd)().getClient(),o=i&&i.getOptions().normalizeDepth,a={exception:{values:[{type:(0,_.cO)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Gn(t,{isUnhandledRejection:r})}]},extra:{__serialized__:(0,F.Qy)(t,o)}};if(n){var s=xn(e,n);s.length&&(a.exception.values[0].stacktrace={frames:s})}return a}(e,t,n,i),(0,h.EG)(o,{synthetic:!0}),o):(o=Bn(e,t,n,r),(0,h.Db)(o,"".concat(t),void 0),(0,h.EG)(o,{synthetic:!0}),o)}function Bn(e,t,n,r){var i={message:t};if(r&&n){var o=xn(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}return i}function Gn(e,t){var n=t.isUnhandledRejection,r=(0,u.zf)(e),i=n?"promise rejection":"exception";if((0,_.VW)(e))return"Event `ErrorEvent` captured as ".concat(i," with message `").concat(e.message,"`");if((0,_.cO)(e)){var o=function(e){try{var t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(n){}}(e);return"Event `".concat(o,"` (type=").concat(e.type,") captured as ").concat(i)}return"Object captured as ".concat(i," with keys: ").concat(r)}function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e,t){var n=t.metadata,r=t.tunnel,i=t.dsn,o=Wn(Wn({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&n.sdk&&{sdk:{name:n.sdk.name,version:n.sdk.version}}),!!r&&!!i&&{dsn:M(i)}),a=function(e){return[{type:"user_report"},e]}(e);return H(o,[a])}function Zn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ue.Z)(e);if(t){var i=(0,ue.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ce.Z)(this,n)}}var Vn=function(e){(0,se.Z)(n,e);var t=Zn(n);function n(e){var r;(0,s.Z)(this,n);var i=On.SENTRY_SDK_SOURCE||(0,Rn.S)();return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"".concat(i,":@sentry/browser"),version:_n.J}],version:_n.J},r=t.call(this,e),e.sendClientReports&&On.document&&On.document.addEventListener("visibilitychange",(function(){"hidden"===On.document.visibilityState&&r._flushOutcomes()})),r}return(0,c.Z)(n,[{key:"eventFromException",value:function(e,t){return Fn(this._options.stackParser,e,t,this._options.attachStacktrace)}},{key:"eventFromMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2?arguments[2]:void 0;return Un(this._options.stackParser,e,t,n,this._options.attachStacktrace)}},{key:"captureUserFeedback",value:function(e){if(this._isEnabled()){var t=Kn(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}else Nn&&f.kg.warn("SDK not enabled, will not capture user feedback.")}},{key:"_prepareEvent",value:function(e,t,r){return e.platform=e.platform||"javascript",(0,vt.Z)((0,ue.Z)(n.prototype),"_prepareEvent",this).call(this,e,t,r)}},{key:"_flushOutcomes",value:function(){var e=this._clearOutcomes();if(0!==e.length)if(this._dsn){Nn&&f.kg.log("Sending outcomes:",e);var t,n,r,i=(t=e,H((n=this._options.tunnel&&M(this._dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,yt.yW)(),discarded_events:t}]]));this._sendEnvelope(i)}else Nn&&f.kg.log("No dsn provided, will not send outcomes");else Nn&&f.kg.log("No outcomes to send")}}]),n}(Fe),zn=(0,X.Rf)();function qn(){if(!("fetch"in zn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function $n(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var Yn=void 0;function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){if(Yn)return Yn;if($n(On.fetch))return Yn=On.fetch.bind(On);var e=On.document,t=On.fetch;if(e&&"function"===typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(i){Nn&&f.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Yn=t.bind(On)}(),n=0,r=0;return ln(e,(function(i){var o=i.body.length;n+=o,r++;var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15},e.fetchOptions);try{return t(e.url,s).then((function(e){return n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}}))}catch(c){return Yn=void 0,n-=o,r--,(0,oe.$2)(c)}}))}var Qn=4;function er(e){return ln(e,(function(t){return new oe.cW((function(n,r){var i=new XMLHttpRequest;for(var o in i.onerror=r,i.onreadystatechange=function(){i.readyState===Qn&&n({statusCode:i.status,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")}})},i.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&i.setRequestHeader(o,e.headers[o]);i.send(t.body)}))}))}var tr="?";function nr(e,t,n,r){var i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var rr=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ir=/\((\S*)(?::(\d+))(?::(\d+))\)/,or=[30,function(e){var t=rr.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=ir.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var r=vr(t[1]||tr,t[2]),i=(0,T.Z)(r,2),o=i[0];return nr(i[1],o,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],ar=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,sr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,cr=[50,function(e){var t=ar.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=sr.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||tr,o=vr(i,r),a=(0,T.Z)(o,2);return i=a[0],nr(r=a[1],i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],ur=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,lr=[40,function(e){var t=ur.exec(e);return t?nr(t[2],t[1]||tr,+t[3],t[4]?+t[4]:void 0):void 0}],dr=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,fr=[10,function(e){var t=dr.exec(e);return t?nr(t[2],t[3]||tr,+t[1]):void 0}],hr=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,pr=[20,function(e){var t=hr.exec(e);return t?nr(t[5],t[3]||t[4]||tr,+t[1],+t[2]):void 0}],mr=[or,cr,lr],gr=Ge.pE.apply(void 0,mr),vr=function(e,t){var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:tr,n?"safari-extension:".concat(t):"safari-web-extension:".concat(t)]:[e,t]};var yr=(0,X.Rf)();var br,_r=X.n2;function Er(e){var t="history";Ve(t,e),ze(t,Sr)}function Sr(){if(function(){var e=yr.chrome,t=e&&e.app&&e.app.runtime,n="history"in yr&&!!yr.history.pushState&&!!yr.history.replaceState;return!t&&n}()){var e=_r.onpopstate;_r.onpopstate=function(){var t=_r.location.href,n=br;if(br=t,qe("history",{from:n,to:t}),e)try{for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.apply(this,i)}catch(a){}},(0,u.hl)(_r.history,"pushState",t),(0,u.hl)(_r.history,"replaceState",t)}function t(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length>2?n[2]:void 0;if(i){var o=br,a=String(i);br=a,qe("history",{from:o,to:a})}return e.apply(this,n)}}}var Ar=n(94127);function Or(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var wr=function(){function e(t){(0,s.Z)(this,e),this.name=e.id,this._options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Or(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({onerror:!0,onunhandledrejection:!0},t),this._installFunc={onerror:Ir,onunhandledrejection:kr}}return(0,c.Z)(e,[{key:"setupOnce",value:function(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var r=this._installFunc[n];r&&t[n]&&(e=n,Nn&&f.kg.log("Global Handler attached: ".concat(e)),r(),this._installFunc[n]=void 0)}}}],[{key:"__initStatic",value:function(){this.id="GlobalHandlers"}}]),e}();function Ir(){Ye((function(e){var t=Nr(),n=(0,T.Z)(t,3),r=n[0],i=n[1],o=n[2];if(r.getIntegration(wr)){var a=e.msg,s=e.url,c=e.line,u=e.column,l=e.error;if(!In()){var d=void 0===l&&(0,_.HD)(a)?function(e,t,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,_.VW)(e)?e.message:e,a="Error",s=o.match(i);s&&(a=s[1],o=s[2]);var c={exception:{values:[{type:a,value:o}]}};return Rr(c,t,n,r)}(a,s,c,u):Rr(jn(i,l||a,void 0,o,!1),s,c,u);d.level="error",r.captureEvent(d,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}}}))}function kr(){Qe((function(e){var t=Nr(),n=(0,T.Z)(t,3),r=n[0],i=n[1],o=n[2];if(r.getIntegration(wr)){if(In())return!0;var a=function(e){if((0,_.pt)(e))return e;var t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(e),s=(0,_.pt)(a)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: ".concat(String(a))}]}}:jn(i,a,void 0,o,!0);s.level="error",r.captureEvent(s,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})}}))}function Rr(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=(0,_.HD)(t)&&t.length>0?t:(0,Ar.l4)();return 0===c.length&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Nr(){var e=(0,Ee.Gd)(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:function(){return[]},attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}wr.__initStatic();var Cr=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Dr=function(){function e(t){(0,s.Z)(this,e),this.name=e.id,this._options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return(0,c.Z)(e,[{key:"setupOnce",value:function(){this._options.setTimeout&&(0,u.hl)(On,"setTimeout",Mr),this._options.setInterval&&(0,u.hl)(On,"setInterval",Mr),this._options.requestAnimationFrame&&(0,u.hl)(On,"requestAnimationFrame",xr),this._options.XMLHttpRequest&&"XMLHttpRequest"in On&&(0,u.hl)(XMLHttpRequest.prototype,"send",Pr);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:Cr).forEach(Lr)}}],[{key:"__initStatic",value:function(){this.id="TryCatch"}}]),e}();function Mr(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return n[0]=kn(i,{mechanism:{data:{function:(0,Ge.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,n)}}function xr(e){return function(t){return e.apply(this,[kn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Ge.$P)(e)},handled:!1,type:"instrument"}})])}}function Pr(e){return function(){var t=this;["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in t&&"function"===typeof t[e]&&(0,u.hl)(t,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,Ge.$P)(t)},handled:!1,type:"instrument"}},r=(0,u.HK)(t);return r&&(n.mechanism.data.handler=(0,Ge.$P)(r)),kn(t,n)}))}));for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,r)}}function Lr(e){var t=On,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,u.hl)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=kn(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Ge.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(o){}return t.apply(this,[n,kn(r,{mechanism:{data:{function:"addEventListener",handler:(0,Ge.$P)(r),target:e},handled:!1,type:"instrument"}}),i])}})),(0,u.hl)(n,"removeEventListener",(function(e){return function(t,n,r){var i=n;try{var o=i&&i.__sentry_wrapped__;o&&e.call(this,t,o,r)}catch(a){}return e.call(this,t,i,r)}})))}function Fr(){"console"in X.n2&&f.RU.forEach((function(e){e in X.n2.console&&(0,u.hl)(X.n2.console,e,(function(t){return f.LD[e]=t,function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];qe("console",{args:n,level:e});var i=f.LD[e];i&&i.apply(X.n2.console,n)}}))}))}Dr.__initStatic();var Ur,jr,Br,Gr=X.n2,Hr=1e3;function Wr(e){Ve("dom",e),ze("dom",Kr)}function Kr(){if(Gr.document){var e=qe.bind(null,"dom"),t=Zr(e,!0);Gr.document.addEventListener("click",t,!1),Gr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=Gr[t]&&Gr[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,u.hl)(n,"addEventListener",(function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=Zr(e);a.handler=s,t.call(this,n,s,i)}a.refCount++}catch(c){}return t.call(this,n,r,i)}})),(0,u.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[t];o&&(o.refCount--,o.refCount<=0&&(e.call(this,t,o.handler,r),o.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(a){}return e.call(this,t,n,r)}})))}))}}function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){if(n&&!n._sentryCaptured){var r=function(e){try{return e.target}catch(t){return null}}(n);if(!function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r)){(0,u.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,u.xp)(r,"_sentryId",(0,h.DM)());var i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==jr)return!1;try{if(!e.target||e.target._sentryId!==Br)return!1}catch(t){}return!0}(n))e({event:n,name:i,global:t}),jr=n.type,Br=r?r._sentryId:void 0;clearTimeout(Ur),Ur=Gr.setTimeout((function(){Br=void 0,jr=void 0}),Hr)}}}}var Vr=X.n2,zr="__sentry_xhr_v3__";function qr(e){Ve("xhr",e),ze("xhr",$r)}function $r(){if(Vr.XMLHttpRequest){var e=XMLHttpRequest.prototype;(0,u.hl)(e,"open",(function(e){return function(){for(var t=this,n=Date.now(),r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=(0,_.HD)(i[0])?i[0].toUpperCase():void 0,s=function(e){if((0,_.HD)(e))return e;try{return e.toString()}catch(t){}return}(i[1]);if(!a||!s)return e.apply(this,i);this[zr]={method:a,url:s,request_headers:{}},"POST"===a&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);var c=function(){var e=t[zr];if(e&&4===t.readyState){try{e.status_code=t.status}catch(r){}qe("xhr",{args:[a,s],endTimestamp:Date.now(),startTimestamp:n,xhr:t})}};return"onreadystatechange"in this&&"function"===typeof this.onreadystatechange?(0,u.hl)(this,"onreadystatechange",(function(e){return function(){c();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}})):this.addEventListener("readystatechange",c),(0,u.hl)(this,"setRequestHeader",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=this[zr];return a&&(0,_.HD)(i)&&(0,_.HD)(o)&&(a.request_headers[i.toLowerCase()]=o),e.apply(this,n)}})),e.apply(this,i)}})),(0,u.hl)(e,"send",(function(e){return function(){for(var t=this[zr],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t?(void 0!==r[0]&&(t.body=r[0]),qe("xhr",{args:[t.method,t.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,r)):e.apply(this,r)}}))}}function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xr(e){var t="fetch";Ve(t,e),ze(t,Qr)}function Qr(){(function(){if("string"===typeof EdgeRuntime)return!0;if(!qn())return!1;if($n(zn.fetch))return!0;var e=!1,t=zn.document;if(t&&"function"===typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=$n(n.contentWindow.fetch)),t.head.removeChild(n)}catch(r){C.X&&f.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e})()&&(0,u.hl)(X.n2,"fetch",(function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var t=(0,T.Z)(e,2),n=t[0],r=t[1];return{url:ti(n),method:ei(r,"method")?String(r.method).toUpperCase():"GET"}}var i=e[0];return{url:ti(i),method:ei(i,"method")?String(i.method).toUpperCase():"GET"}}(n),o={args:n,fetchData:{method:i.method,url:i.url},startTimestamp:Date.now()};return qe("fetch",Jr({},o)),e.apply(X.n2,n).then((function(e){return qe("fetch",Jr(Jr({},o),{},{endTimestamp:Date.now(),response:e})),e}),(function(e){throw qe("fetch",Jr(Jr({},o),{},{endTimestamp:Date.now(),error:e})),e}))}}))}function ei(e,t){return!!e&&"object"===(0,Pt.Z)(e)&&!!e[t]}function ti(e){return"string"===typeof e?e:e?ei(e,"url")?e.url:e.toString?e.toString():"":""}var ni=["fatal","error","warning","log","info","debug"];function ri(e){return"warn"===e?"warning":ni.includes(e)?e:"log"}function ii(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function oi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var si=1024,ci=function(){function e(t){(0,s.Z)(this,e),this.name=e.id,this.options=ai({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return(0,c.Z)(e,[{key:"setupOnce",value:function(){var e;if(this.options.console&&(Ve(e="console",li),ze(e,Fr)),this.options.dom&&Wr(function(e){function t(t){var n,r="object"===(0,Pt.Z)(e)?e.serializeAttribute:void 0,i="object"===(0,Pt.Z)(e)&&"number"===typeof e.maxStringLength?e.maxStringLength:void 0;i&&i>si&&(Nn&&f.kg.warn("`dom.maxStringLength` cannot exceed ".concat(si,", but a value of ").concat(i," was configured. Sentry will use ").concat(si," instead.")),i=si),"string"===typeof r&&(r=[r]);try{var o=t.event;n=function(e){return!!e&&!!e.target}(o)?(0,Ar.Rt)(o.target,{keyAttrs:r,maxStringLength:i}):(0,Ar.Rt)(o,{keyAttrs:r,maxStringLength:i})}catch(a){n="<unknown>"}0!==n.length&&(0,Ee.Gd)().addBreadcrumb({category:"ui.".concat(t.name),message:n},{event:t.event,name:t.name,global:t.global})}return t}(this.options.dom)),this.options.xhr&&qr(di),this.options.fetch&&Xr(fi),this.options.history&&Er(hi),this.options.sentry){var t=(0,Ae.s3)();t&&t.on&&t.on("beforeSendEvent",ui)}}}],[{key:"__initStatic",value:function(){this.id="Breadcrumbs"}}]),e}();function ui(e){(0,Ee.Gd)().addBreadcrumb({category:"sentry.".concat("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,h.jH)(e)},{event:e})}function li(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:ri(e.level),message:(0,p.nK)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: ".concat((0,p.nK)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,Ee.Gd)().addBreadcrumb(t,{input:e.args,level:e.level})}function di(e){var t=e.startTimestamp,n=e.endTimestamp,r=e.xhr[zr];if(t&&n&&r){var i=r.method,o=r.url,a=r.status_code,s=r.body,c={method:i,url:o,status_code:a},u={xhr:e.xhr,input:s,startTimestamp:t,endTimestamp:n};(0,Ee.Gd)().addBreadcrumb({category:"xhr",data:c,type:"http"},u)}}function fi(e){var t=e.startTimestamp,n=e.endTimestamp;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){var r=e.fetchData,i={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};(0,Ee.Gd)().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},i)}else{var o=e.response,a=ai(ai({},e.fetchData),{},{status_code:o&&o.status}),s={input:e.args,response:o,startTimestamp:t,endTimestamp:n};(0,Ee.Gd)().addBreadcrumb({category:"fetch",data:a,type:"http"},s)}}function hi(e){var t=e.from,n=e.to,r=ii(On.location.href),i=t?ii(t):void 0,o=ii(n);i&&i.path||(i=r),r.protocol===o.protocol&&r.host===o.host&&(n=o.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),(0,Ee.Gd)().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}ci.__initStatic();var pi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,e),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return(0,c.Z)(e,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(e,t,n){var r=n.getOptions();A(Dn,r.stackParser,r.maxValueLength,this._key,this._limit,e,t)}}],[{key:"__initStatic",value:function(){this.id="LinkedErrors"}}]),e}();function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}pi.__initStatic();var vi=function(){function e(){(0,s.Z)(this,e),this.name=e.id}return(0,c.Z)(e,[{key:"setupOnce",value:function(){}},{key:"preprocessEvent",value:function(e){if(On.navigator||On.location||On.document){var t=e.request&&e.request.url||On.location&&On.location.href,n=(On.document||{}).referrer,r=(On.navigator||{}).userAgent,i=gi(gi(gi({},e.request&&e.request.headers),n&&{Referer:n}),r&&{"User-Agent":r}),o=gi(gi(gi({},e.request),t&&{url:t}),{},{headers:i});e.request=o}}}],[{key:"__initStatic",value:function(){this.id="HttpContext"}}]),e}();vi.__initStatic();var yi=function(){function e(){(0,s.Z)(this,e),this.name=e.id}return(0,c.Z)(e,[{key:"setupOnce",value:function(e,t){}},{key:"processEvent",value:function(e){if(e.type)return e;try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!_i(e,t))return!1;if(!bi(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){var n=Ei(t),r=Ei(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!_i(e,t))return!1;if(!bi(e,t))return!1;return!0}(e,t))return!0;return!1}(e,this._previousEvent))return Nn&&f.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return this._previousEvent=e}}],[{key:"__initStatic",value:function(){this.id="Dedupe"}}]),e}();function bi(e,t){var n=Si(e),r=Si(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function _i(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function Ei(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Si(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}yi.__initStatic();var wi=[new y,new l,new Dr,new ci,new wr,new pi,new yi,new vi];function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};void 0===e.defaultIntegrations&&(e.defaultIntegrations=wi),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),On.SENTRY_RELEASE&&On.SENTRY_RELEASE.id&&(e.release=On.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var t=Oi(Oi({},e),{},{stackParser:(0,Ge.Sq)(e.stackParser||gr),integrations:we(e),transport:e.transport||(qn()?Xn:er)});!function(e,t){!0===t.debug&&(m.X?f.kg.enable():(0,f.Cf)((function(){console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));var n=(0,Ee.Gd)();n.getScope().update(t.initialScope);var r=new e(t);n.bindClient(r)}(Vn,t),e.autoSessionTracking&&function(){if("undefined"===typeof On.document)return void(Nn&&f.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var e=(0,Ee.Gd)();if(!e.captureSession)return;Ci(e),Er((function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&Ci((0,Ee.Gd)())}))}()}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,Ee.Gd)();if(On.document){var n=t.getStackTop(),r=n.client,i=n.scope,o=e.dsn||r&&r.getDsn();if(o){i&&(e.user=Oi(Oi({},i.getUser()),e.user)),e.eventId||(e.eventId=t.lastEventId());var a=On.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=function(e,t){var n=L(e);if(!n)return"";var r="".concat(me(n),"embed/error-page/"),i="dsn=".concat(M(n));for(var o in t)if("dsn"!==o&&"onClose"!==o)if("user"===o){var a=t.user;if(!a)continue;a.name&&(i+="&name=".concat(encodeURIComponent(a.name))),a.email&&(i+="&email=".concat(encodeURIComponent(a.email)))}else i+="&".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(t[o]));return"".concat(r,"?").concat(i)}(o,e),e.onLoad&&(a.onload=e.onLoad);var s=e.onClose;if(s){On.addEventListener("message",(function e(t){if("__sentry_reportdialog_closed__"===t.data)try{s()}finally{On.removeEventListener("message",e)}}))}var c=On.document.head||On.document.body;c?c.appendChild(a):Nn&&f.kg.error("Not injecting report dialog. No injection point found in HTML")}else Nn&&f.kg.error("DSN not configured for showReportDialog call")}else Nn&&f.kg.error("Global document not defined in showReportDialog call")}function Ri(){}function Ni(e){e()}function Ti(e){return kn(e)()}function Ci(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function Di(e){var t=(0,Ae.s3)();t&&t.captureUserFeedback(e)}function Mi(e,t){var n=t.getClient(),r=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return xi(e)===xi(t)}(e,i)}function xi(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var Pi=n(12096);function Li(){return"undefined"!==typeof window&&(!(0,Pi.KV)()||void 0!==X.n2.process&&"renderer"===X.n2.process.type)}const Fi="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ui=(e,t,n)=>{let r,i;return o=>{t.value>=0&&(o||n)&&(i=t.value-(r||0),(i||void 0===r)&&(r=t.value,t.delta=i,e(t)))}},ji=X.n2,Bi=()=>ji.__WEB_VITALS_POLYFILL__?ji.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=ji.performance.timing,t=ji.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const r in e)"navigationStart"!==r&&"toJSON"!==r&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n})()):ji.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Gi=()=>{const e=Bi();return e&&e.activationStart||0},Hi=(e,t)=>{const n=Bi();let r="navigate";return n&&(r=ji.document.prerendering||Gi()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:"undefined"===typeof t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Wi=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(r){}},Ki=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==ji.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Zi=e=>{const t=Hi("CLS",0);let n,r=0,i=[];const o=e=>{e.forEach((e=>{if(!e.hadRecentInput){const o=i[0],a=i[i.length-1];r&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-o.startTime<5e3?(r+=e.value,i.push(e)):(r=e.value,i=[e]),r>t.value&&(t.value=r,t.entries=i,n&&n())}}))},a=Wi("layout-shift",o);if(a){n=Ui(e,t);const r=()=>{o(a.takeRecords()),n(!0)};return Ki(r),r}};let Vi=-1;const zi=()=>(Vi<0&&(Vi="hidden"!==ji.document.visibilityState||ji.document.prerendering?1/0:0,Ki((({timeStamp:e})=>{Vi=e}),!0)),{get firstHiddenTime(){return Vi}}),qi=e=>{const t=zi(),n=Hi("FID");let r;const i=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},o=e=>{e.forEach(i)},a=Wi("first-input",o);r=Ui(e,n),a&&Ki((()=>{o(a.takeRecords()),a.disconnect()}),!0)},$i={},Yi=e=>{const t=zi(),n=Hi("LCP");let r;const i=e=>{const i=e[e.length-1];if(i){const e=Math.max(i.startTime-Gi(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[i],r())}},o=Wi("largest-contentful-paint",i);if(o){r=Ui(e,n);const t=()=>{$i[n.id]||(i(o.takeRecords()),o.disconnect(),$i[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),Ki(t,!0),t}},Ji={},Xi={};let Qi,eo,to;function no(e){return co("lcp",e,so,to)}function ro(e,t){return uo(e,t),Xi[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Wi(e,(t=>{io(e,{entries:t})}),t)}(e),Xi[e]=!0),lo(e,t)}function io(e,t){const n=Ji[e];if(n&&n.length)for(const i of n)try{i(t)}catch(r){Fi&&f.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,Ge.$P)(i)}\nError:`,r)}}function oo(){Zi((e=>{io("cls",{metric:e}),Qi=e}))}function ao(){qi((e=>{io("fid",{metric:e}),eo=e}))}function so(){Yi((e=>{io("lcp",{metric:e}),to=e}))}function co(e,t,n,r){return uo(e,t),Xi[e]||(n(),Xi[e]=!0),r&&t({metric:r}),lo(e,t)}function uo(e,t){Ji[e]=Ji[e]||[],Ji[e].push(t)}function lo(e,t){return()=>{const n=Ji[e];if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}function fo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ue.Z)(e);if(t){var i=(0,ue.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,ce.Z)(this,n)}}function ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return go(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vo,yo=X.n2,bo="sentryReplaySession",_o="replay_event",Eo="Unable to send Replay",So=5e3,Ao=3,Oo=15e4,wo=5e3,Io=2e7,ko=36e5;function Ro(e){var t=null===e||void 0===e?void 0:e.host;return Boolean((null===t||void 0===t?void 0:t.shadowRoot)===e)}function No(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function To(e){try{var t=e.rules||e.cssRules;return t?((n=Array.from(t,Co).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),n):null}catch(r){return null}var n}function Co(e){var t,n,r;if(function(e){return"styleSheet"in e}(e))try{t=To(e.styleSheet)||function(e){var t=e.cssText;if(t.split('"').length<3)return t;var n=["@import","url(".concat(JSON.stringify(e.href),")")];return""===e.layerName?n.push("layer"):e.layerName&&n.push("layer(".concat(e.layerName,")")),e.supportsText&&n.push("supports(".concat(e.supportsText,")")),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(i){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return n=e.cssText,r=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,n.replace(r,"$1\\$2");return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(vo||(vo={}));var Do=function(){function e(){(0,s.Z)(this,e),this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return(0,c.Z)(e,[{key:"getId",value:function(e){var t;if(!e)return-1;var n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!==n&&void 0!==n?n:-1}},{key:"getNode",value:function(e){return this.idNodeMap.get(e)||null}},{key:"getIds",value:function(){return Array.from(this.idNodeMap.keys())}},{key:"getMeta",value:function(e){return this.nodeMetaMap.get(e)||null}},{key:"removeNodeFromMap",value:function(e){var t=this,n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))}},{key:"has",value:function(e){return this.idNodeMap.has(e)}},{key:"hasNode",value:function(e){return this.nodeMetaMap.has(e)}},{key:"add",value:function(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}},{key:"replace",value:function(e,t){var n=this.getNode(e);if(n){var r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)}},{key:"reset",value:function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}]),e}();function Mo(e){var t=e.maskInputOptions,n=e.tagName,r=e.type;return"OPTION"===n&&(n="SELECT"),Boolean(t[n.toLowerCase()]||r&&t[r]||"password"===r||"INPUT"===n&&!r&&t.text)}function xo(e){var t=e.isMasked,n=e.element,r=e.value,i=e.maskInputFn,o=r||"";return t?(i&&(o=i(o,n)),"*".repeat(o.length)):o}function Po(e){return e.toLowerCase()}function Lo(e){return e.toUpperCase()}var Fo="__rrweb_original__";function Uo(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Po(t):null}function jo(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}var Bo,Go,Ho=1,Wo=new RegExp("[^a-z0-9-_:]"),Ko=-2;function Zo(){return Ho++}var Vo=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,zo=/^(?:[a-z+]+:)?\/\//i,qo=/^www\..*/i,$o=/^(data:)([^,]*),(.*)/i;function Yo(e,t){return(e||"").replace(Vo,(function(e,n,r,i,o,a){var s,c=r||o||a,u=n||i||"";if(!c)return e;if(zo.test(c)||qo.test(c))return"url(".concat(u).concat(c).concat(u,")");if($o.test(c))return"url(".concat(u).concat(c).concat(u,")");if("/"===c[0])return"url(".concat(u).concat((s=t,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+c)).concat(u,")");var l=t.split("/"),d=c.split("/");l.pop();var f,h=mo(d);try{for(h.s();!(f=h.n()).done;){var p=f.value;"."!==p&&(".."===p?l.pop():l.push(p))}}catch(m){h.e(m)}finally{h.f()}return"url(".concat(u).concat(l.join("/")).concat(u,")")}))}var Jo=/^[^ \t\n\r\u000c]+/,Xo=/^[, \t\n\r\u000c]+/;function Qo(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function ea(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function ta(){var e=document.createElement("a");return e.href="",e.href}function na(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?Qo(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r,i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}for(var i=[];r(Xo),!(n>=t.length);){var o=r(Jo);if(","===o.slice(-1))o=Qo(e,o.substring(0,o.length-1)),i.push(o);else{var a="";o=Qo(e,o);for(var s=!1;;){var c=t.charAt(n);if(""===c){i.push((o+a).trim());break}if(s)")"===c&&(s=!1);else{if(","===c){n+=1,i.push((o+a).trim());break}"("===c&&(s=!0)}a+=c,n+=1}}}return i.join(", ")}(e,r):"style"===n?Yo(r,ta()):"object"===t&&"data"===n?Qo(e,r):"function"===typeof o?o(n,r,i):r:Qo(e,r):r}function ra(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function ia(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ia(e.parentNode,t,n,r+1):-1}function oa(e,t){return function(n){var r=n;if(null===r)return!1;if(e)if("string"===typeof e){if(r.matches(".".concat(e)))return!0}else if(function(e,t){for(var n=e.classList.length;n--;){var r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}}function aa(e,t,n,r,i,o){try{var a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;var s=-1,c=-1;if(o){if((c=ia(a,oa(r,i)))<0)return!0;s=ia(a,oa(t,n),c>=0?c:1/0)}else{if((s=ia(a,oa(t,n)))<0)return!1;c=ia(a,oa(r,i),s>=0?s:1/0)}return s>=0?!(c>=0)||s<=c:!(c>=0)&&!!o}catch(u){}return!!o}function sa(e,t){var n=t.doc,r=t.mirror,i=t.blockClass,o=t.blockSelector,a=t.unblockSelector,s=t.maskAllText,c=t.maskAttributeFn,u=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,h=t.inlineStylesheet,p=t.maskInputOptions,m=void 0===p?{}:p,g=t.maskTextFn,v=t.maskInputFn,y=t.dataURLOptions,b=void 0===y?{}:y,_=t.inlineImages,E=t.recordCanvas,S=t.keepIframeSrcFn,A=t.newlyAddedElement,O=void 0!==A&&A,w=function(e,t){if(!t.hasNode(e))return;var n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:vo.Document,childNodes:[],compatMode:e.compatMode}:{type:vo.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:vo.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){for(var n,r=t.doc,i=t.blockClass,o=t.blockSelector,a=t.unblockSelector,s=t.inlineStylesheet,c=t.maskInputOptions,u=void 0===c?{}:c,l=t.maskAttributeFn,d=t.maskInputFn,f=t.dataURLOptions,h=void 0===f?{}:f,p=t.inlineImages,m=t.recordCanvas,g=t.keepIframeSrcFn,v=t.newlyAddedElement,y=void 0!==v&&v,b=t.rootId,_=(t.maskAllText,t.maskTextClass),E=t.unmaskTextClass,S=t.maskTextSelector,A=t.unmaskTextSelector,O=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"===typeof t){if(e.classList.contains(t))return!0}else for(var i=e.classList.length;i--;){var o=e.classList[i];if(t.test(o))return!0}if(n)return e.matches(n)}catch(a){}return!1}(e,i,o,a),w=function(e){if(e instanceof HTMLFormElement)return"form";var t=Po(e.tagName);return Wo.test(t)?"div":t}(e),I={},k=e.attributes.length,R=0;R<k;R++){var N=e.attributes[R];ra(w,N.name,N.value)||(I[N.name]=na(r,w,Po(N.name),N.value,e,l))}if("link"===w&&s){var T=Array.from(r.styleSheets).find((function(t){return t.href===e.href})),C=null;T&&(C=To(T)),C&&(delete I.rel,delete I.href,I._cssText=Yo(C,T.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var D=To(e.sheet);D&&(I._cssText=Yo(D,ta()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){var M=e,x=Uo(M),P=jo(M,Lo(w),x),L=M.checked;if("submit"!==x&&"button"!==x&&P){var F=aa(M,_,S,E,A,Mo({type:x,tagName:Lo(w),maskInputOptions:u}));I.value=xo({isMasked:F,element:M,value:P,maskInputFn:d})}L&&(I.checked=L)}"option"===w&&(e.selected&&!u.select?I.selected=!0:delete I.selected);if("canvas"===w&&m)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var i=t.getImageData,o=Fo in i?i[Fo]:i;if(new Uint32Array(o.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((function(e){return 0!==e})))return!1}return!0})(e)||(I.rr_dataURL=e.toDataURL(h.type,h.quality));else if(!("__context"in e)){var U=e.toDataURL(h.type,h.quality),j=document.createElement("canvas");j.width=e.width,j.height=e.height,U!==j.toDataURL(h.type,h.quality)&&(I.rr_dataURL=U)}if("img"===w&&p){Bo||(Bo=r.createElement("canvas"),Go=Bo.getContext("2d"));var B=e,G=B.crossOrigin;B.crossOrigin="anonymous";var H=function e(){B.removeEventListener("load",e);try{Bo.width=B.naturalWidth,Bo.height=B.naturalHeight,Go.drawImage(B,0,0),I.rr_dataURL=Bo.toDataURL(h.type,h.quality)}catch(t){console.warn("Cannot inline img src=".concat(B.currentSrc,"! Error: ").concat(t))}G?I.crossOrigin=G:B.removeAttribute("crossorigin")};B.complete&&0!==B.naturalWidth?H():B.addEventListener("load",H)}"audio"!==w&&"video"!==w||(I.rr_mediaState=e.paused?"paused":"played",I.rr_mediaCurrentTime=e.currentTime);y||(e.scrollLeft&&(I.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(I.rr_scrollTop=e.scrollTop));if(O){var W=e.getBoundingClientRect(),K=W.width,Z=W.height;I={class:I.class,rr_width:"".concat(K,"px"),rr_height:"".concat(Z,"px")}}"iframe"!==w||g(I.src)||(e.contentDocument||(I.rr_src=I.src),delete I.src);try{customElements.get(w)&&(n=!0)}catch(V){}return{type:vo.Element,tagName:w,attributes:I,childNodes:[],isSVG:ea(e)||void 0,needBlock:O,rootId:b,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:a,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:m,maskInputFn:v,dataURLOptions:b,inlineImages:_,recordCanvas:E,keepIframeSrcFn:S,newlyAddedElement:O,rootId:w,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return function(e,t){var n,r=t.maskAllText,i=t.maskTextClass,o=t.unmaskTextClass,a=t.maskTextSelector,s=t.unmaskTextSelector,c=t.maskTextFn,u=t.maskInputOptions,l=t.maskInputFn,d=t.rootId,f=e.parentNode&&e.parentNode.tagName,h=e.textContent,p="STYLE"===f||void 0,m="SCRIPT"===f||void 0,g="TEXTAREA"===f||void 0;if(p&&h){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(h=To(e.parentNode.sheet))}catch(y){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(y),e)}h=Yo(h,ta())}m&&(h="SCRIPT_PLACEHOLDER");var v=aa(e,i,a,o,s,r);p||m||g||!h||!v||(h=c?c(h):h.replace(/[\S]/g,"*"));g&&h&&(u.textarea||v)&&(h=l?l(h,e.parentNode):h.replace(/[\S]/g,"*"));if("OPTION"===f&&h){h=xo({isMasked:aa(e,i,a,o,s,Mo({type:null,tagName:f,maskInputOptions:u})),element:e,value:h,maskInputFn:l})}return{type:vo.Text,textContent:h||"",isStyle:p,rootId:d}}(e,{maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:m,maskInputFn:v,rootId:w});case e.CDATA_SECTION_NODE:return{type:vo.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:vo.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function ca(e){return void 0===e||null===e?"":e.toLowerCase()}function ua(e,t){var n,r=t.doc,i=t.mirror,o=t.blockClass,a=t.blockSelector,s=t.unblockSelector,c=t.maskAllText,u=t.maskTextClass,l=t.unmaskTextClass,d=t.maskTextSelector,f=t.unmaskTextSelector,h=t.skipChild,p=void 0!==h&&h,m=t.inlineStylesheet,g=void 0===m||m,v=t.maskInputOptions,y=void 0===v?{}:v,b=t.maskAttributeFn,_=t.maskTextFn,E=t.maskInputFn,S=t.slimDOMOptions,A=t.dataURLOptions,O=void 0===A?{}:A,w=t.inlineImages,I=void 0!==w&&w,k=t.recordCanvas,R=void 0!==k&&k,N=t.onSerialize,T=t.onIframeLoad,C=t.iframeLoadTimeout,D=void 0===C?5e3:C,M=t.onStylesheetLoad,x=t.stylesheetLoadTimeout,P=void 0===x?5e3:x,L=t.keepIframeSrcFn,F=void 0===L?function(){return!1}:L,U=t.newlyAddedElement,j=void 0!==U&&U,B=t.preserveWhiteSpace,G=void 0===B||B,H=sa(e,{doc:r,mirror:i,blockClass:o,blockSelector:a,maskAllText:c,unblockSelector:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:_,maskInputFn:E,dataURLOptions:O,inlineImages:I,recordCanvas:R,keepIframeSrcFn:F,newlyAddedElement:j});if(!H)return console.warn(e,"not serialized"),null;n=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===vo.Comment)return!0;if(e.type===vo.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"===typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(ca(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===ca(e.attributes.name)||"icon"===ca(e.attributes.rel)||"apple-touch-icon"===ca(e.attributes.rel)||"shortcut icon"===ca(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&ca(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ca(e.attributes.property).match(/^(og|twitter|fb):/)||ca(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===ca(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===ca(e.attributes.name)||"googlebot"===ca(e.attributes.name)||"bingbot"===ca(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===ca(e.attributes.name)||"generator"===ca(e.attributes.name)||"framework"===ca(e.attributes.name)||"publisher"===ca(e.attributes.name)||"progid"===ca(e.attributes.name)||ca(e.attributes.property).match(/^article:/)||ca(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===ca(e.attributes.name)||"yandex-verification"===ca(e.attributes.name)||"csrf-token"===ca(e.attributes.name)||"p:domain_verify"===ca(e.attributes.name)||"verify-v1"===ca(e.attributes.name)||"verification"===ca(e.attributes.name)||"shopify-checkout-api-token"===ca(e.attributes.name)))return!0}}return!1}(H,S)&&(G||H.type!==vo.Text||H.isStyle||H.textContent.replace(/^\s+|\s+$/gm,"").length)?Zo():Ko;var W=Object.assign(H,{id:n});if(i.add(e,W),n===Ko)return null;N&&N(e);var K=!p;if(W.type===vo.Element){K=K&&!W.needBlock,delete W.needBlock;var Z=e.shadowRoot;Z&&No(Z)&&(W.isShadowHost=!0)}if((W.type===vo.Document||W.type===vo.Element)&&K){S.headWhitespace&&W.type===vo.Element&&"head"===W.tagName&&(G=!1);for(var V={doc:r,mirror:i,blockClass:o,blockSelector:a,maskAllText:c,unblockSelector:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:p,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:_,maskInputFn:E,slimDOMOptions:S,dataURLOptions:O,inlineImages:I,recordCanvas:R,preserveWhiteSpace:G,onSerialize:N,onIframeLoad:T,iframeLoadTimeout:D,onStylesheetLoad:M,stylesheetLoadTimeout:P,keepIframeSrcFn:F},z=0,q=Array.from(e.childNodes);z<q.length;z++){var $=ua(q[z],V);$&&W.childNodes.push($)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(var Y=0,J=Array.from(e.shadowRoot.childNodes);Y<J.length;Y++){var X=ua(J[Y],V);X&&(No(e.shadowRoot)&&(X.isShadow=!0),W.childNodes.push(X))}}return e.parentNode&&Ro(e.parentNode)&&No(e.parentNode)&&(W.isShadow=!0),W.type===vo.Element&&"iframe"===W.tagName&&function(e,t,n){var r=e.contentWindow;if(r){var i,o=!1;try{i=r.document.readyState}catch(c){return}if("complete"===i){var a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var s=setTimeout((function(){o||(t(),o=!0)}),n);e.addEventListener("load",(function(){clearTimeout(s),o=!0,t()}))}}}(e,(function(){var t=e.contentDocument;if(t&&T){var n=ua(t,{doc:t,mirror:i,blockClass:o,blockSelector:a,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:_,maskInputFn:E,slimDOMOptions:S,dataURLOptions:O,inlineImages:I,recordCanvas:R,preserveWhiteSpace:G,onSerialize:N,onIframeLoad:T,iframeLoadTimeout:D,onStylesheetLoad:M,stylesheetLoadTimeout:P,keepIframeSrcFn:F});n&&T(e,n)}}),D),W.type===vo.Element&&"link"===W.tagName&&"stylesheet"===W.attributes.rel&&function(e,t,n){var r,i=!1;try{r=e.sheet}catch(a){return}if(!r){var o=setTimeout((function(){i||(t(),i=!0)}),n);e.addEventListener("load",(function(){clearTimeout(o),i=!0,t()}))}}(e,(function(){if(M){var t=ua(e,{doc:r,mirror:i,blockClass:o,blockSelector:a,unblockSelector:s,maskAllText:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:g,maskInputOptions:y,maskAttributeFn:b,maskTextFn:_,maskInputFn:E,slimDOMOptions:S,dataURLOptions:O,inlineImages:I,recordCanvas:R,preserveWhiteSpace:G,onSerialize:N,onIframeLoad:T,iframeLoadTimeout:D,onStylesheetLoad:M,stylesheetLoadTimeout:P,keepIframeSrcFn:F});t&&M(e,t)}}),P),W}function la(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r={capture:!0,passive:!0};return n.addEventListener(e,t,r),function(){return n.removeEventListener(e,t,r)}}var da="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",fa={map:{},getId:function(){return console.error(da),-1},getNode:function(){return console.error(da),null},removeNodeFromMap:function(){console.error(da)},has:function(){return console.error(da),!1},reset:function(){console.error(da)}};function ha(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null,i=0;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var c=Date.now();i||!1!==n.leading||(i=c);var u=t-(c-i),l=this;u<=0||u>t?(r&&(clearTimeout(r),r=null),i=c,e.apply(l,a)):r||!1===n.trailing||(r=setTimeout((function(){i=!1===n.leading?0:Date.now(),r=null,e.apply(l,a)}),u))}}function pa(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window,o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set:function(e){var t=this;setTimeout((function(){n.set.call(t,e)}),0),o&&o.set&&o.set.call(this,e)}}),function(){return pa(e,t,o||{},!0)}}function ma(e,t,n){try{if(!(t in e))return function(){};var r=e[t],i=n(r);return"function"===typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,function(){e[t]=r}}catch(o){return function(){}}}"undefined"!==typeof window&&window.Proxy&&window.Reflect&&(fa=new Proxy(fa,{get:function(e,t,n){return"map"===t&&console.error(da),Reflect.get(e,t,n)}}));var ga=Date.now;function va(e){var t,n,r,i,o,a,s=e.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:(null===s||void 0===s?void 0:s.documentElement.scrollLeft)||(null===(n=null===(t=null===s||void 0===s?void 0:s.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===(r=null===s||void 0===s?void 0:s.body)||void 0===r?void 0:r.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:(null===s||void 0===s?void 0:s.documentElement.scrollTop)||(null===(o=null===(i=null===s||void 0===s?void 0:s.body)||void 0===i?void 0:i.parentElement)||void 0===o?void 0:o.scrollTop)||(null===(a=null===s||void 0===s?void 0:s.body)||void 0===a?void 0:a.scrollTop)||0}}function ya(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ba(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function _a(e,t,n,r,i){if(!e)return!1;var o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!o)return!1;var a=oa(t,n);if(!i){var s=r&&o.matches(r);return a(o)&&!s}var c=ia(o,a),u=-1;return!(c<0)&&(r&&(u=ia(o,oa(null,r))),c>-1&&u<0||c<u)}function Ea(e,t){return t.getId(e)===Ko}function Sa(e,t){if(Ro(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Sa(e.parentNode,t))}function Aa(e){return Boolean(e.changedTouches)}function Oa(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function wa(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Ia(e){return Boolean(null===e||void 0===e?void 0:e.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(ga=function(){return(new Date).getTime()});var ka=function(){function e(){(0,s.Z)(this,e),this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}return(0,c.Z)(e,[{key:"getId",value:function(e){var t;return null!==(t=this.styleIDMap.get(e))&&void 0!==t?t:-1}},{key:"has",value:function(e){return this.styleIDMap.has(e)}},{key:"add",value:function(e,t){return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n);var n}},{key:"getStyle",value:function(e){return this.idStyleMap.get(e)||null}},{key:"reset",value:function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}},{key:"generateId",value:function(){return this.id++}}]),e}();function Ra(e){var t,n,r=null;return(null===(n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||void 0===n?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(r=e.getRootNode().host),r}function Na(e){var t=e.ownerDocument;if(!t)return!1;var n=function(e){for(var t,n=e;t=Ra(n);)n=t;return n}(e);return t.contains(n)}function Ta(e){var t=e.ownerDocument;return!!t&&(t.contains(e)||Na(e))}var Ca=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Ca||{}),Da=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(Da||{}),Ma=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(Ma||{}),xa=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(xa||{});function Pa(e){return"__ln"in e}var La,Fa=function(){function e(){(0,s.Z)(this,e),this.length=0,this.head=null,this.tail=null}return(0,c.Z)(e,[{key:"get",value:function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null===t||void 0===t?void 0:t.next)||null;return t}},{key:"addNode",value:function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Pa(e.previousSibling)){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Pa(e.nextSibling)&&e.nextSibling.__ln.previous){var r=e.nextSibling.__ln.previous;t.previous=r,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,r&&(r.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}},{key:"removeNode",value:function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}]),e}(),Ua=function(e,t){return"".concat(e,"@").concat(t)},ja=function(){function e(){var t=this;(0,s.Z)(this,e),this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(e){e.forEach(t.processMutation),t.emit()},this.emit=function(){if(!t.frozen&&!t.locked){for(var e=[],n=new Set,r=new Fa,i=function(e){for(var n=e,r=Ko;r===Ko;)r=(n=n&&n.nextSibling)&&t.mirror.getId(n);return r},o=function(o){if(o.parentNode&&Ta(o)){var a=Ro(o.parentNode)?t.mirror.getId(Ra(o)):t.mirror.getId(o.parentNode),s=i(o);if(-1===a||-1===s)return r.addNode(o);var c=ua(o,{doc:t.doc,mirror:t.mirror,blockClass:t.blockClass,blockSelector:t.blockSelector,maskAllText:t.maskAllText,unblockSelector:t.unblockSelector,maskTextClass:t.maskTextClass,unmaskTextClass:t.unmaskTextClass,maskTextSelector:t.maskTextSelector,unmaskTextSelector:t.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:t.inlineStylesheet,maskInputOptions:t.maskInputOptions,maskAttributeFn:t.maskAttributeFn,maskTextFn:t.maskTextFn,maskInputFn:t.maskInputFn,slimDOMOptions:t.slimDOMOptions,dataURLOptions:t.dataURLOptions,recordCanvas:t.recordCanvas,inlineImages:t.inlineImages,onSerialize:function(e){Oa(e,t.mirror)&&t.iframeManager.addIframe(e),wa(e,t.mirror)&&t.stylesheetManager.trackLinkElement(e),Ia(o)&&t.shadowDomManager.addShadowRoot(o.shadowRoot,t.doc)},onIframeLoad:function(e,n){t.iframeManager.attachIframe(e,n),t.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:function(e,n){t.stylesheetManager.attachLinkElement(e,n)}});c&&(e.push({parentId:a,nextId:s,node:c}),n.add(c.id))}};t.mapRemoves.length;)t.mirror.removeNodeFromMap(t.mapRemoves.shift());var a,s=mo(t.movedSet);try{for(s.s();!(a=s.n()).done;){var c=a.value;Ga(t.removes,c,t.mirror)&&!t.movedSet.has(c.parentNode)||o(c)}}catch(S){s.e(S)}finally{s.f()}var u,l=mo(t.addedSet);try{for(l.s();!(u=l.n()).done;){var d=u.value;Wa(t.droppedSet,d)||Ga(t.removes,d,t.mirror)?Wa(t.movedSet,d)?o(d):t.droppedSet.add(d):o(d)}}catch(S){l.e(S)}finally{l.f()}for(var f=null;r.length;){var h=null;if(f){var p=t.mirror.getId(f.value.parentNode),m=i(f.value);-1!==p&&-1!==m&&(h=f)}if(!h)for(var g=r.tail;g;){var v=g;if(g=g.previous,v){var y=t.mirror.getId(v.value.parentNode);if(-1===i(v.value))continue;if(-1!==y){h=v;break}var b=v.value;if(b.parentNode&&b.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var _=b.parentNode.host;if(-1!==t.mirror.getId(_)){h=v;break}}}}if(!h){for(;r.head;)r.removeNode(r.head.value);break}f=h.previous,r.removeNode(h.value),o(h.value)}var E={texts:t.texts.map((function(e){return{id:t.mirror.getId(e.node),value:e.value}})).filter((function(e){return!n.has(e.id)})).filter((function(e){return t.mirror.has(e.id)})),attributes:t.attributes.map((function(e){var n=e.attributes;if("string"===typeof n.style){var r=JSON.stringify(e.styleDiff),i=JSON.stringify(e._unchangedStyles);r.length<n.style.length&&(r+i).split("var(").length===n.style.split("var(").length&&(n.style=e.styleDiff)}return{id:t.mirror.getId(e.node),attributes:n}})).filter((function(e){return!n.has(e.id)})).filter((function(e){return t.mirror.has(e.id)})),removes:t.removes,adds:e};(E.texts.length||E.attributes.length||E.removes.length||E.adds.length)&&(t.texts=[],t.attributes=[],t.removes=[],t.addedSet=new Set,t.movedSet=new Set,t.droppedSet=new Set,t.movedMap={},t.mutationCb(E))}},this.processMutation=function(e){if(!Ea(e.target,t.mirror)){var n;try{n=document.implementation.createHTMLDocument()}catch(_){n=t.doc}switch(e.type){case"characterData":var r=e.target.textContent;_a(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||r===e.oldValue||t.texts.push({value:aa(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,t.maskAllText)&&r?t.maskTextFn?t.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:e.target});break;case"attributes":var i=e.target,o=e.attributeName,a=e.target.getAttribute(o);if("value"===o){var s=Uo(i),c=i.tagName;a=jo(i,c,s);var u=Mo({maskInputOptions:t.maskInputOptions,tagName:c,type:s});a=xo({isMasked:aa(e.target,t.maskTextClass,t.maskTextSelector,t.unmaskTextClass,t.unmaskTextSelector,u),element:i,value:a,maskInputFn:t.maskInputFn})}if(_a(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||a===e.oldValue)return;var l=t.attributes.find((function(t){return t.node===e.target}));if("IFRAME"===i.tagName&&"src"===o&&!t.keepIframeSrcFn(a)){if(i.contentDocument)return;o="rr_src"}if(l||(l={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},t.attributes.push(l)),"type"===o&&"INPUT"===i.tagName&&"password"===(e.oldValue||"").toLowerCase()&&i.setAttribute("data-rr-is-password","true"),!ra(i.tagName,o)&&(l.attributes[o]=na(t.doc,Po(i.tagName),Po(o),a,i,t.maskAttributeFn),"style"===o)){var d=n.createElement("span");e.oldValue&&d.setAttribute("style",e.oldValue);for(var f=0,h=Array.from(i.style);f<h.length;f++){var p=h[f],m=i.style.getPropertyValue(p),g=i.style.getPropertyPriority(p);m!==d.style.getPropertyValue(p)||g!==d.style.getPropertyPriority(p)?l.styleDiff[p]=""===g?m:[m,g]:l._unchangedStyles[p]=[m,g]}for(var v=0,y=Array.from(d.style);v<y.length;v++){var b=y[v];""===i.style.getPropertyValue(b)&&(l.styleDiff[b]=!1)}}break;case"childList":if(_a(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!0))return;e.addedNodes.forEach((function(n){return t.genAdds(n,e.target)})),e.removedNodes.forEach((function(n){var r=t.mirror.getId(n),i=Ro(e.target)?t.mirror.getId(e.target.host):t.mirror.getId(e.target);_a(e.target,t.blockClass,t.blockSelector,t.unblockSelector,!1)||Ea(n,t.mirror)||!function(e,t){return-1!==t.getId(e)}(n,t.mirror)||(t.addedSet.has(n)?(Ba(t.addedSet,n),t.droppedSet.add(n)):t.addedSet.has(e.target)&&-1===r||Sa(e.target,t.mirror)||(t.movedSet.has(n)&&t.movedMap[Ua(r,i)]?Ba(t.movedSet,n):t.removes.push({parentId:i,id:r,isShadow:!(!Ro(e.target)||!No(e.target))||void 0})),t.mapRemoves.push(n))}))}}},this.genAdds=function(e,n){if(!t.processedNodeManager.inOtherBuffer(e,t)&&!t.addedSet.has(e)&&!t.movedSet.has(e)){if(t.mirror.hasNode(e)){if(Ea(e,t.mirror))return;t.movedSet.add(e);var r=null;n&&t.mirror.hasNode(n)&&(r=t.mirror.getId(n)),r&&-1!==r&&(t.movedMap[Ua(t.mirror.getId(e),r)]=!0)}else t.addedSet.add(e),t.droppedSet.delete(e);_a(e,t.blockClass,t.blockSelector,t.unblockSelector,!1)||(e.childNodes.forEach((function(e){return t.genAdds(e)})),Ia(e)&&e.shadowRoot.childNodes.forEach((function(n){t.processedNodeManager.add(n,t),t.genAdds(n,e)})))}}}return(0,c.Z)(e,[{key:"init",value:function(e){var t=this;["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((function(n){t[n]=e[n]}))}},{key:"freeze",value:function(){this.frozen=!0,this.canvasManager.freeze()}},{key:"unfreeze",value:function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}},{key:"isFrozen",value:function(){return this.frozen}},{key:"lock",value:function(){this.locked=!0,this.canvasManager.lock()}},{key:"unlock",value:function(){this.locked=!1,this.canvasManager.unlock(),this.emit()}},{key:"reset",value:function(){this.shadowDomManager.reset(),this.canvasManager.reset()}}]),e}();function Ba(e,t){e.delete(t),t.childNodes.forEach((function(t){return Ba(e,t)}))}function Ga(e,t,n){return 0!==e.length&&Ha(e,t,n)}function Ha(e,t,n){var r=t.parentNode;if(!r)return!1;var i=n.getId(r);return!!e.some((function(e){return e.id===i}))||Ha(e,r,n)}function Wa(e,t){return 0!==e.size&&Ka(e,t)}function Ka(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||Ka(e,n))}function Za(e){La=e}function Va(){La=void 0}var za=function(e){if(!La)return e;return function(){try{return e.apply(void 0,arguments)}catch(t){if(La&&!0===La(t))return function(){};throw t}}},qa=[];function $a(e){try{if("composedPath"in e){var t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(n){}return e&&e.target}function Ya(e,t){var n,r,i=new ja;qa.push(i),i.init(e);var o=window.MutationObserver||window.__rrMutationObserver,a=null===(r=null===(n=null===window||void 0===window?void 0:window.Zone)||void 0===n?void 0:n.__symbol__)||void 0===r?void 0:r.call(n,"MutationObserver");a&&window[a]&&(o=window[a]);var s=new o(za((function(t){e.onMutation&&!1===e.onMutation(t)||i.processMutations.bind(i)(t)})));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Ja(e){var t=e.mouseInteractionCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.unblockSelector,s=e.sampling;if(!1===s.mouseInteraction)return function(){};var c=!0===s.mouseInteraction||void 0===s.mouseInteraction?{}:s.mouseInteraction,u=[],l=null;return Object.keys(Ma).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==c[e]})).forEach((function(e){var s=Po(e),c=function(e){return function(n){var s=$a(n);if(!_a(s,i,o,a,!0)){var c=null,u=e;if("pointerType"in n){switch(n.pointerType){case"mouse":c=xa.Mouse;break;case"touch":c=xa.Touch;break;case"pen":c=xa.Pen}c===xa.Touch?Ma[e]===Ma.MouseDown?u="TouchStart":Ma[e]===Ma.MouseUp&&(u="TouchEnd"):xa.Pen}else Aa(n)&&(c=xa.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===xa.Touch||u.startsWith("Mouse")&&c===xa.Mouse)&&(c=null)):Ma[e]===Ma.Click&&(c=l,l=null);var d=Aa(n)?n.changedTouches[0]:n;if(d){var f=r.getId(s),h=d.clientX,p=d.clientY;za(t)(Object.assign({type:Ma[u],id:f,x:h,y:p},null!==c&&{pointerType:c}))}}}}(e);if(window.PointerEvent)switch(Ma[e]){case Ma.MouseDown:case Ma.MouseUp:s=s.replace("mouse","pointer");break;case Ma.TouchStart:case Ma.TouchEnd:return}u.push(la(s,c,n))})),za((function(){u.forEach((function(e){return e()}))}))}function Xa(e){var t=e.scrollCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.unblockSelector,s=e.sampling;return la("scroll",za(ha(za((function(e){var s=$a(e);if(s&&!_a(s,i,o,a,!0)){var c=r.getId(s);if(s===n&&n.defaultView){var u=va(n.defaultView);t({id:c,x:u.left,y:u.top})}else t({id:c,x:s.scrollLeft,y:s.scrollTop})}})),s.scroll||100)),n)}var Qa=["INPUT","TEXTAREA","SELECT"],es=new WeakMap;function ts(e){var t=e.inputCb,n=e.doc,r=e.mirror,i=e.blockClass,o=e.blockSelector,a=e.unblockSelector,s=e.ignoreClass,c=e.ignoreSelector,u=e.maskInputOptions,l=e.maskInputFn,f=e.sampling,h=e.userTriggeredOnInput,p=e.maskTextClass,m=e.unmaskTextClass,g=e.maskTextSelector,v=e.unmaskTextSelector;function y(e){var t=$a(e),r=e.isTrusted,d=t&&Lo(t.tagName);if("OPTION"===d&&(t=t.parentElement),t&&d&&!(Qa.indexOf(d)<0)&&!_a(t,i,o,a,!0)){var f=t;if(!(f.classList.contains(s)||c&&f.matches(c))){var y=Uo(t),_=jo(f,d,y),E=!1,S=Mo({maskInputOptions:u,tagName:d,type:y}),A=aa(t,p,g,m,v,S);"radio"!==y&&"checkbox"!==y||(E=t.checked),_=xo({isMasked:A,element:t,value:_,maskInputFn:l}),b(t,h?{text:_,isChecked:E,userTriggered:r}:{text:_,isChecked:E});var O=t.name;"radio"===y&&O&&E&&n.querySelectorAll('input[type="radio"][name="'.concat(O,'"]')).forEach((function(e){if(e!==t){var n=xo({isMasked:A,element:e,value:jo(e,d,y),maskInputFn:l});b(e,h?{text:n,isChecked:!E,userTriggered:!1}:{text:n,isChecked:!E})}}))}}}function b(e,n){var i=es.get(e);if(!i||i.text!==n.text||i.isChecked!==n.isChecked){es.set(e,n);var o=r.getId(e);za(t)(Object.assign(Object.assign({},n),{id:o}))}}var _=("last"===f.input?["change"]:["input","change"]).map((function(e){return la(e,za(y),n)})),E=n.defaultView;if(!E)return function(){_.forEach((function(e){return e()}))};var S=E.Object.getOwnPropertyDescriptor(E.HTMLInputElement.prototype,"value"),A=[[E.HTMLInputElement.prototype,"value"],[E.HTMLInputElement.prototype,"checked"],[E.HTMLSelectElement.prototype,"value"],[E.HTMLTextAreaElement.prototype,"value"],[E.HTMLSelectElement.prototype,"selectedIndex"],[E.HTMLOptionElement.prototype,"selected"]];return S&&S.set&&_.push.apply(_,(0,d.Z)(A.map((function(e){return pa(e[0],e[1],{set:function(){za(y)({target:this,isTrusted:!1})}},!1,E)})))),za((function(){_.forEach((function(e){return e()}))}))}function ns(e){return function(e,t){if(as("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||as("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||as("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||as("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){var r=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(r)}return t}(e,[])}function rs(e,t,n){var r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function is(e,t){var n,r,i,o=e.mirror,a=e.stylesheetManager,s=null;s="#document"===t.nodeName?o.getId(t):o.getId(t.host);var c="#document"===t.nodeName?null===(n=t.defaultView)||void 0===n?void 0:n.Document:null===(i=null===(r=t.ownerDocument)||void 0===r?void 0:r.defaultView)||void 0===i?void 0:i.ShadowRoot,u=(null===c||void 0===c?void 0:c.prototype)?Object.getOwnPropertyDescriptor(null===c||void 0===c?void 0:c.prototype,"adoptedStyleSheets"):void 0;return null!==s&&-1!==s&&c&&u?(Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:function(){var e;return null===(e=u.get)||void 0===e?void 0:e.call(this)},set:function(e){var t,n=null===(t=u.set)||void 0===t?void 0:t.call(this,e);if(null!==s&&-1!==s)try{a.adoptStyleSheets(e,s)}catch(r){}return n}}),za((function(){Object.defineProperty(t,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))):function(){}}function os(e){var t=e.doc.defaultView;if(!t)return function(){};var n,r,i,o,a,s=Ya(e,e.doc),c=function(e){var t=e.mousemoveCb,n=e.sampling,r=e.doc,i=e.mirror;if(!1===n.mousemove)return function(){};var o,a="number"===typeof n.mousemove?n.mousemove:50,s="number"===typeof n.mousemoveCallback?n.mousemoveCallback:500,c=[],u=ha(za((function(e){var n=Date.now()-o;t(c.map((function(e){return e.timeOffset-=n,e})),e),c=[],o=null})),s),l=za(ha(za((function(e){var t=$a(e),n=Aa(e)?e.changedTouches[0]:e,r=n.clientX,a=n.clientY;o||(o=ga()),c.push({x:r,y:a,id:i.getId(t),timeOffset:ga()-o}),u("undefined"!==typeof DragEvent&&e instanceof DragEvent?Da.Drag:e instanceof MouseEvent?Da.MouseMove:Da.TouchMove)})),a,{trailing:!1})),d=[la("mousemove",l,r),la("touchmove",l,r),la("drag",l,r)];return za((function(){d.forEach((function(e){return e()}))}))}(e),u=Ja(e),l=Xa(e),f=(n={win:t},r=e.viewportResizeCb,i=n.win,o=-1,a=-1,la("resize",za(ha(za((function(){var e=ya(),t=ba();o===e&&a===t||(r({width:Number(t),height:Number(e)}),o=e,a=t)})),200)),i)),h=ts(e),p=function(e){var t=e.mediaInteractionCb,n=e.blockClass,r=e.blockSelector,i=e.unblockSelector,o=e.mirror,a=e.sampling,s=e.doc,c=za((function(e){return ha(za((function(a){var s=$a(a);if(s&&!_a(s,n,r,i,!0)){var c=s.currentTime,u=s.volume,l=s.muted,d=s.playbackRate;t({type:e,id:o.getId(s),currentTime:c,volume:u,muted:l,playbackRate:d})}})),a.media||500)})),u=[la("play",c(0),s),la("pause",c(1),s),la("seeked",c(2),s),la("volumechange",c(3),s),la("ratechange",c(4),s)];return za((function(){u.forEach((function(e){return e()}))}))}(e),m=function(e,t){var n=e.styleSheetRuleCb,r=e.mirror,i=e.stylesheetManager,o=t.win;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return function(){};var a=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:za((function(e,t,o){var a=(0,T.Z)(o,2),s=a[0],c=a[1],u=rs(t,r,i.styleMirror),l=u.id,d=u.styleId;return(l&&-1!==l||d&&-1!==d)&&n({id:l,styleId:d,adds:[{rule:s,index:c}]}),e.apply(t,o)}))});var s,c,u=o.CSSStyleSheet.prototype.deleteRule;o.CSSStyleSheet.prototype.deleteRule=new Proxy(u,{apply:za((function(e,t,o){var a=(0,T.Z)(o,1)[0],s=rs(t,r,i.styleMirror),c=s.id,u=s.styleId;return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,removes:[{index:a}]}),e.apply(t,o)}))}),o.CSSStyleSheet.prototype.replace&&(s=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(s,{apply:za((function(e,t,o){var a=(0,T.Z)(o,1)[0],s=rs(t,r,i.styleMirror),c=s.id,u=s.styleId;return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,replace:a}),e.apply(t,o)}))})),o.CSSStyleSheet.prototype.replaceSync&&(c=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:za((function(e,t,o){var a=(0,T.Z)(o,1)[0],s=rs(t,r,i.styleMirror),c=s.id,u=s.styleId;return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,replaceSync:a}),e.apply(t,o)}))}));var l={};ss("CSSGroupingRule")?l.CSSGroupingRule=o.CSSGroupingRule:(ss("CSSMediaRule")&&(l.CSSMediaRule=o.CSSMediaRule),ss("CSSConditionRule")&&(l.CSSConditionRule=o.CSSConditionRule),ss("CSSSupportsRule")&&(l.CSSSupportsRule=o.CSSSupportsRule));var f={};return Object.entries(l).forEach((function(e){var t=(0,T.Z)(e,2),o=t[0],a=t[1];f[o]={insertRule:a.prototype.insertRule,deleteRule:a.prototype.deleteRule},a.prototype.insertRule=new Proxy(f[o].insertRule,{apply:za((function(e,t,o){var a=(0,T.Z)(o,2),s=a[0],c=a[1],u=rs(t.parentStyleSheet,r,i.styleMirror),l=u.id,f=u.styleId;return(l&&-1!==l||f&&-1!==f)&&n({id:l,styleId:f,adds:[{rule:s,index:[].concat((0,d.Z)(ns(t)),[c||0])}]}),e.apply(t,o)}))}),a.prototype.deleteRule=new Proxy(f[o].deleteRule,{apply:za((function(e,t,o){var a=(0,T.Z)(o,1)[0],s=rs(t.parentStyleSheet,r,i.styleMirror),c=s.id,u=s.styleId;return(c&&-1!==c||u&&-1!==u)&&n({id:c,styleId:u,removes:[{index:[].concat((0,d.Z)(ns(t)),[a])}]}),e.apply(t,o)}))})})),za((function(){o.CSSStyleSheet.prototype.insertRule=a,o.CSSStyleSheet.prototype.deleteRule=u,s&&(o.CSSStyleSheet.prototype.replace=s),c&&(o.CSSStyleSheet.prototype.replaceSync=c),Object.entries(l).forEach((function(e){var t=(0,T.Z)(e,2),n=t[0],r=t[1];r.prototype.insertRule=f[n].insertRule,r.prototype.deleteRule=f[n].deleteRule}))}))}(e,{win:t}),g=is(e,e.doc),v=function(e,t){var n=e.styleDeclarationCb,r=e.mirror,i=e.ignoreCSSAttributes,o=e.stylesheetManager,a=t.win,s=a.CSSStyleDeclaration.prototype.setProperty;a.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:za((function(e,t,a){var c,u=(0,T.Z)(a,3),l=u[0],d=u[1],f=u[2];if(i.has(l))return s.apply(t,[l,d,f]);var h=rs(null===(c=t.parentRule)||void 0===c?void 0:c.parentStyleSheet,r,o.styleMirror),p=h.id,m=h.styleId;return(p&&-1!==p||m&&-1!==m)&&n({id:p,styleId:m,set:{property:l,value:d,priority:f},index:ns(t.parentRule)}),e.apply(t,a)}))});var c=a.CSSStyleDeclaration.prototype.removeProperty;return a.CSSStyleDeclaration.prototype.removeProperty=new Proxy(c,{apply:za((function(e,t,a){var s,u=(0,T.Z)(a,1)[0];if(i.has(u))return c.apply(t,[u]);var l=rs(null===(s=t.parentRule)||void 0===s?void 0:s.parentStyleSheet,r,o.styleMirror),d=l.id,f=l.styleId;return(d&&-1!==d||f&&-1!==f)&&n({id:d,styleId:f,remove:{property:u},index:ns(t.parentRule)}),e.apply(t,a)}))}),za((function(){a.CSSStyleDeclaration.prototype.setProperty=s,a.CSSStyleDeclaration.prototype.removeProperty=c}))}(e,{win:t}),y=e.collectFonts?function(e){var t=e.fontCb,n=e.doc,r=n.defaultView;if(!r)return function(){};var i=[],o=new WeakMap,a=r.FontFace;r.FontFace=function(e,t,n){var r=new a(e,t,n);return o.set(r,{family:e,buffer:"string"!==typeof t,descriptors:n,fontSource:"string"===typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};var s=ma(n.fonts,"add",(function(e){return function(n){return setTimeout(za((function(){var e=o.get(n);e&&(t(e),o.delete(n))})),0),e.apply(this,[n])}}));return i.push((function(){r.FontFace=a})),i.push(s),za((function(){i.forEach((function(e){return e()}))}))}(e):function(){},b=function(e){var t=e.doc,n=e.mirror,r=e.blockClass,i=e.blockSelector,o=e.unblockSelector,a=e.selectionCb,s=!0,c=za((function(){var e=t.getSelection();if(!(!e||s&&(null===e||void 0===e?void 0:e.isCollapsed))){s=e.isCollapsed||!1;for(var c=[],u=e.rangeCount||0,l=0;l<u;l++){var d=e.getRangeAt(l),f=d.startContainer,h=d.startOffset,p=d.endContainer,m=d.endOffset;_a(f,r,i,o,!0)||_a(p,r,i,o,!0)||c.push({start:n.getId(f),startOffset:h,end:n.getId(p),endOffset:m})}a({ranges:c})}}));return c(),la("selectionchange",c)}(e),_=function(e){var t=e.doc,n=e.customElementCb,r=t.defaultView;return r&&r.customElements?ma(r.customElements,"define",(function(e){return function(t,r,i){try{n({define:{name:t}})}catch(o){}return e.apply(this,[t,r,i])}})):function(){}}(e);return za((function(){qa.forEach((function(e){return e.reset()})),s.disconnect(),c(),u(),l(),f(),h(),p(),m(),g(),v(),y(),b(),_()}))}function as(e){return"undefined"!==typeof window[e]}function ss(e){return Boolean("undefined"!==typeof window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var cs,us=function(){function e(t){(0,s.Z)(this,e),this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}return(0,c.Z)(e,[{key:"getId",value:function(e,t,n,r){var i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e),a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),o.set(a,t)),a}},{key:"getIds",value:function(e,t){var n=this,r=this.getIdToRemoteIdMap(e),i=this.getRemoteIdToIdMap(e);return t.map((function(t){return n.getId(e,t,r,i)}))}},{key:"getRemoteId",value:function(e,t,n){var r=n||this.getRemoteIdToIdMap(e);if("number"!==typeof t)return t;var i=r.get(t);return i||-1}},{key:"getRemoteIds",value:function(e,t){var n=this,r=this.getRemoteIdToIdMap(e);return t.map((function(t){return n.getRemoteId(e,t,r)}))}},{key:"reset",value:function(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}},{key:"getIdToRemoteIdMap",value:function(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}},{key:"getRemoteIdToIdMap",value:function(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}]),e}(),ls=function(){function e(){(0,s.Z)(this,e),this.crossOriginIframeMirror=new us(Zo),this.crossOriginIframeRootIdMap=new WeakMap}return(0,c.Z)(e,[{key:"addIframe",value:function(){}},{key:"addLoadListener",value:function(){}},{key:"attachIframe",value:function(){}}]),e}(),ds=function(){function e(t){(0,s.Z)(this,e),this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new us(Zo),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new us(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}return(0,c.Z)(e,[{key:"addIframe",value:function(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}},{key:"addLoadListener",value:function(e){this.loadListener=e}},{key:"attachIframe",value:function(e,t){var n;this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}},{key:"handleMessage",value:function(e){var t=e;if("rrweb"===t.data.type&&t.origin===t.data.origin&&e.source){var n=this.crossOriginIframeMap.get(e.source);if(n){var r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}}}},{key:"transformCrossOriginEvent",value:function(e,t){var n,r=this;switch(t.type){case Ca.FullSnapshot:this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var i=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,i),this.patchRootIdOnNode(t.data.node,i),{timestamp:t.timestamp,type:Ca.IncrementalSnapshot,data:{source:Da.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};case Ca.Meta:case Ca.Load:case Ca.DomContentLoaded:return!1;case Ca.Plugin:return t;case Ca.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Ca.IncrementalSnapshot:switch(t.data.source){case Da.Mutation:return t.data.adds.forEach((function(t){r.replaceIds(t,e,["parentId","nextId","previousId"]),r.replaceIdOnNode(t.node,e);var n=r.crossOriginIframeRootIdMap.get(e);n&&r.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((function(t){r.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((function(t){r.replaceIds(t,e,["id"])})),t.data.texts.forEach((function(t){r.replaceIds(t,e,["id"])})),t;case Da.Drag:case Da.TouchMove:case Da.MouseMove:return t.data.positions.forEach((function(t){r.replaceIds(t,e,["id"])})),t;case Da.ViewportResize:return!1;case Da.MediaInteraction:case Da.MouseInteraction:case Da.Scroll:case Da.CanvasMutation:case Da.Input:return this.replaceIds(t.data,e,["id"]),t;case Da.StyleSheetRule:case Da.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Da.Font:return t;case Da.Selection:return t.data.ranges.forEach((function(t){r.replaceIds(t,e,["start","end"])})),t;case Da.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),null===(n=t.data.styles)||void 0===n||n.forEach((function(t){r.replaceStyleIds(t,e,["styleId"])})),t}}return!1}},{key:"replace",value:function(e,t,n,r){var i,o=mo(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;(Array.isArray(t[a])||"number"===typeof t[a])&&(Array.isArray(t[a])?t[a]=e.getIds(n,t[a]):t[a]=e.getId(n,t[a]))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"replaceIds",value:function(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}},{key:"replaceStyleIds",value:function(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}},{key:"replaceIdOnNode",value:function(e,t){var n=this;this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((function(e){n.replaceIdOnNode(e,t)}))}},{key:"patchRootIdOnNode",value:function(e,t){var n=this;e.type===vo.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((function(e){n.patchRootIdOnNode(e,t)}))}}]),e}(),fs=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"init",value:function(){}},{key:"addShadowRoot",value:function(){}},{key:"observeAttachShadow",value:function(){}},{key:"reset",value:function(){}}]),e}(),hs=function(){function e(t){(0,s.Z)(this,e),this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}return(0,c.Z)(e,[{key:"init",value:function(){this.reset(),this.patchAttachShadow(Element,document)}},{key:"addShadowRoot",value:function(e,t){var n=this;if(No(e)&&!this.shadowDoms.has(e)){this.shadowDoms.add(e);var r=Ya(Object.assign(Object.assign({},this.bypassOptions),{doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),e);this.restoreHandlers.push((function(){return r.disconnect()})),this.restoreHandlers.push(Xa(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:e,mirror:this.mirror}))),setTimeout((function(){e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&n.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,n.mirror.getId(e.host)),n.restoreHandlers.push(is({mirror:n.mirror,stylesheetManager:n.bypassOptions.stylesheetManager},e))}),0)}}},{key:"observeAttachShadow",value:function(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}},{key:"patchAttachShadow",value:function(e,t){var n=this;this.restoreHandlers.push(ma(e.prototype,"attachShadow",(function(e){return function(r){var i=e.call(this,r);return this.shadowRoot&&Ta(this)&&n.addShadowRoot(this.shadowRoot,t),i}})))}},{key:"reset",value:function(){this.restoreHandlers.forEach((function(e){try{e()}catch(t){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}]),e}(),ps=function(){function e(){(0,s.Z)(this,e)}return(0,c.Z)(e,[{key:"reset",value:function(){}},{key:"freeze",value:function(){}},{key:"unfreeze",value:function(){}},{key:"lock",value:function(){}},{key:"unlock",value:function(){}}]),e}(),ms=function(){function e(t){(0,s.Z)(this,e),this.trackedLinkElements=new WeakSet,this.styleMirror=new ka,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}return(0,c.Z)(e,[{key:"attachLinkElement",value:function(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}},{key:"trackLinkElement",value:function(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}},{key:"adoptStyleSheets",value:function(e,t){if(0!==e.length){var n,r={id:t,styleIds:[]},i=[],o=mo(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=void 0;this.styleMirror.has(a)?s=this.styleMirror.getId(a):(s=this.styleMirror.add(a),i.push({styleId:s,rules:Array.from(a.rules||CSSRule,(function(e,t){return{rule:Co(e),index:t}}))})),r.styleIds.push(s)}}catch(c){o.e(c)}finally{o.f()}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}}},{key:"reset",value:function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}},{key:"trackStylesheetInLinkElement",value:function(e){}}]),e}(),gs=function(){function e(){(0,s.Z)(this,e),this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}return(0,c.Z)(e,[{key:"periodicallyClear",value:function(){var e=this;requestAnimationFrame((function(){e.clear(),e.loop&&e.periodicallyClear()}))}},{key:"inOtherBuffer",value:function(e,t){var n=this.nodeMap.get(e);return n&&Array.from(n).some((function(e){return e!==t}))}},{key:"add",value:function(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}},{key:"clear",value:function(){this.nodeMap=new WeakMap}},{key:"destroy",value:function(){this.loop=!1}}]),e}();function vs(e){var t=e;return t.timestamp=ga(),t}var ys=new Do;function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.emit,n=e.checkoutEveryNms,r=e.checkoutEveryNth,i=e.blockClass,o=void 0===i?"rr-block":i,a=e.blockSelector,s=void 0===a?null:a,c=e.unblockSelector,u=void 0===c?null:c,l=e.ignoreClass,d=void 0===l?"rr-ignore":l,f=e.ignoreSelector,h=void 0===f?null:f,p=e.maskAllText,m=void 0!==p&&p,g=e.maskTextClass,v=void 0===g?"rr-mask":g,y=e.unmaskTextClass,b=void 0===y?null:y,_=e.maskTextSelector,E=void 0===_?null:_,S=e.unmaskTextSelector,A=void 0===S?null:S,O=e.inlineStylesheet,w=void 0===O||O,I=e.maskAllInputs,k=e.maskInputOptions,R=e.slimDOMOptions,N=e.maskAttributeFn,T=e.maskInputFn,C=e.maskTextFn,D=e.packFn,M=e.sampling,x=void 0===M?{}:M,P=e.dataURLOptions,L=void 0===P?{}:P,F=e.mousemoveWait,U=e.recordCanvas,j=void 0!==U&&U,B=e.recordCrossOriginIframes,G=void 0!==B&&B,H=e.recordAfter,W=void 0===H?"DOMContentLoaded"===e.recordAfter?e.recordAfter:"load":H,K=e.userTriggeredOnInput,Z=void 0!==K&&K,V=e.collectFonts,z=void 0!==V&&V,q=e.inlineImages,$=void 0!==q&&q,Y=e.keepIframeSrcFn,J=void 0===Y?function(){return!1}:Y,X=e.ignoreCSSAttributes,Q=void 0===X?new Set([]):X,ee=e.errorHandler,te=e.onMutation,ne=e.getCanvasManager;Za(ee);var re=!G||window.parent===window,ie=!1;if(!re)try{window.parent.document&&(ie=!1)}catch(Ae){ie=!0}if(re&&!t)throw new Error("emit function is required");void 0!==F&&void 0===x.mousemove&&(x.mousemove=F),ys.reset();var oe,ae=!0===I?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==k?k:{},se=!0===R||"all"===R?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===R,headMetaDescKeywords:"all"===R}:R||{};!function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(!(0 in n))throw new TypeError("1 argument is required");do{if(e===i)return!0}while(i=i&&i.parentNode);return!1})}();var ce=0,ue=function(e){return D&&!ie&&(e=D(e)),e},le=function(e,i){var o;if(!(null===(o=qa[0])||void 0===o?void 0:o.isFrozen())||e.type===Ca.FullSnapshot||e.type===Ca.IncrementalSnapshot&&e.data.source===Da.Mutation||qa.forEach((function(e){return e.unfreeze()})),re)null===t||void 0===t||t(ue(e),i);else if(ie){var a={type:"rrweb",event:ue(e),origin:window.location.origin,isCheckout:i};window.parent.postMessage(a,"*")}if(e.type===Ca.FullSnapshot)oe=e,ce=0;else if(e.type===Ca.IncrementalSnapshot){if(e.data.source===Da.Mutation&&e.data.isAttachIframe)return;ce++;var s=r&&ce>=r,c=n&&e.timestamp-oe.timestamp>n;(s||c)&&be(!0)}},de=function(e){le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.Mutation},e)}))},fe=function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.Scroll},e)}))},he=function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.CanvasMutation},e)}))},pe=new ms({mutationCb:de,adoptedStyleSheetCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.AdoptedStyleSheet},e)}))}}),me="boolean"===typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new ls:new ds({mirror:ys,mutationCb:de,stylesheetManager:pe,recordCrossOriginIframes:G,wrappedEmit:le}),ge=new gs,ve=ne?ne({recordCanvas:j,blockClass:o,blockSelector:s,unblockSelector:u,sampling:x.canvas,dataURLOptions:L}):new ps,ye="boolean"===typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new fs:new hs({mutationCb:de,scrollCb:fe,bypassOptions:{onMutation:te,blockClass:o,blockSelector:s,unblockSelector:u,maskAllText:m,maskTextClass:v,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:A,inlineStylesheet:w,maskInputOptions:ae,dataURLOptions:L,maskAttributeFn:N,maskTextFn:C,maskInputFn:T,recordCanvas:j,inlineImages:$,sampling:x,slimDOMOptions:se,iframeManager:me,stylesheetManager:pe,canvasManager:ve,keepIframeSrcFn:J,processedNodeManager:ge},mirror:ys}),be=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];le(vs({type:Ca.Meta,data:{href:window.location.href,width:ba(),height:ya()}}),e),pe.reset(),ye.init(),qa.forEach((function(e){return e.lock()}));var t=function(e,t){var n=t||{},r=n.mirror,i=void 0===r?new Do:r,o=n.blockClass,a=void 0===o?"rr-block":o,s=n.blockSelector,c=void 0===s?null:s,u=n.unblockSelector,l=void 0===u?null:u,d=n.maskAllText,f=void 0!==d&&d,h=n.maskTextClass,p=void 0===h?"rr-mask":h,m=n.unmaskTextClass,g=void 0===m?null:m,v=n.maskTextSelector,y=void 0===v?null:v,b=n.unmaskTextSelector,_=void 0===b?null:b,E=n.inlineStylesheet,S=void 0===E||E,A=n.inlineImages,O=void 0!==A&&A,w=n.recordCanvas,I=void 0!==w&&w,k=n.maskAllInputs,R=void 0!==k&&k,N=n.maskAttributeFn,T=n.maskTextFn,C=n.maskInputFn,D=n.slimDOM,M=void 0!==D&&D,x=n.dataURLOptions,P=n.preserveWhiteSpace,L=n.onSerialize,F=n.onIframeLoad,U=n.iframeLoadTimeout,j=n.onStylesheetLoad,B=n.stylesheetLoadTimeout,G=n.keepIframeSrcFn;return ua(e,{doc:e,mirror:i,blockClass:a,blockSelector:c,unblockSelector:l,maskAllText:f,maskTextClass:p,unmaskTextClass:g,maskTextSelector:y,unmaskTextSelector:_,skipChild:!1,inlineStylesheet:S,maskInputOptions:!0===R?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===R?{}:R,maskAttributeFn:N,maskTextFn:T,maskInputFn:C,slimDOMOptions:!0===M||"all"===M?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===M,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===M?{}:M,dataURLOptions:x,inlineImages:O,recordCanvas:I,preserveWhiteSpace:P,onSerialize:L,onIframeLoad:F,iframeLoadTimeout:U,onStylesheetLoad:j,stylesheetLoadTimeout:B,keepIframeSrcFn:void 0===G?function(){return!1}:G,newlyAddedElement:!1})}(document,{mirror:ys,blockClass:o,blockSelector:s,unblockSelector:u,maskAllText:m,maskTextClass:v,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:A,inlineStylesheet:w,maskAllInputs:ae,maskAttributeFn:N,maskInputFn:T,maskTextFn:C,slimDOM:se,dataURLOptions:L,recordCanvas:j,inlineImages:$,onSerialize:function(e){Oa(e,ys)&&me.addIframe(e),wa(e,ys)&&pe.trackLinkElement(e),Ia(e)&&ye.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){me.attachIframe(e,t),ye.observeAttachShadow(e)},onStylesheetLoad:function(e,t){pe.attachLinkElement(e,t)},keepIframeSrcFn:J});if(!t)return console.warn("Failed to snapshot the document");le(vs({type:Ca.FullSnapshot,data:{node:t,initialOffset:va(window)}}),e),qa.forEach((function(e){return e.unlock()})),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&pe.adoptStyleSheets(document.adoptedStyleSheets,ys.getId(document))};cs=be;try{var _e=[],Ee=function(e){return za(os)({onMutation:te,mutationCb:de,mousemoveCb:function(e,t){return le(vs({type:Ca.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.MouseInteraction},e)}))},scrollCb:fe,viewportResizeCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.ViewportResize},e)}))},inputCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.Input},e)}))},mediaInteractionCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.StyleSheetRule},e)}))},styleDeclarationCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.StyleDeclaration},e)}))},canvasMutationCb:he,fontCb:function(e){return le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.Font},e)}))},selectionCb:function(e){le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.Selection},e)}))},customElementCb:function(e){le(vs({type:Ca.IncrementalSnapshot,data:Object.assign({source:Da.CustomElement},e)}))},blockClass:o,ignoreClass:d,ignoreSelector:h,maskAllText:m,maskTextClass:v,unmaskTextClass:b,maskTextSelector:E,unmaskTextSelector:A,maskInputOptions:ae,inlineStylesheet:w,sampling:x,recordCanvas:j,inlineImages:$,userTriggeredOnInput:Z,collectFonts:z,doc:e,maskAttributeFn:N,maskInputFn:T,maskTextFn:C,keepIframeSrcFn:J,blockSelector:s,unblockSelector:u,slimDOMOptions:se,dataURLOptions:L,mirror:ys,iframeManager:me,stylesheetManager:pe,shadowDomManager:ye,processedNodeManager:ge,canvasManager:ve,ignoreCSSAttributes:Q,plugins:[]},{})};me.addLoadListener((function(e){try{_e.push(Ee(e.contentDocument))}catch(t){console.warn(t)}}));var Se=function(){be(),_e.push(Ee(document))};return"interactive"===document.readyState||"complete"===document.readyState?Se():(_e.push(la("DOMContentLoaded",(function(){le(vs({type:Ca.DomContentLoaded,data:{}})),"DOMContentLoaded"===W&&Se()}))),_e.push(la("load",(function(){le(vs({type:Ca.Load,data:{}})),"load"===W&&Se()}),window))),function(){_e.forEach((function(e){return e()})),ge.destroy(),cs=void 0,Va()}}catch(Oe){console.warn(Oe)}}bs.mirror=ys,bs.takeFullSnapshot=function(e){if(!cs)throw new Error("please take full snapshot after start recording");cs(e)};var _s=3;function Es(e){return e>9999999999?e:1e3*e}function Ss(e){return e>9999999999?e/1e3:e}function As(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((function(){return e.throttledAddEvent({type:Ca.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:(0,F.Fv)(t,10,1e3)}}),"console"===t.category})))}var Os,ws="button,a";function Is(e){return e.closest(ws)||e}function ks(e){var t=Rs(e);return t&&t instanceof Element?Is(t):t}function Rs(e){return function(e){return"object"===(0,Pt.Z)(e)&&!!e&&"target"in e}(e)?e.target:e}function Ns(e){return Os||(Os=[],(0,u.hl)(yo,"open",(function(e){return function(){if(Os)try{Os.forEach((function(e){return e()}))}catch(i){}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(yo,n)}}))),Os.push(e),function(){var t=Os?Os.indexOf(e):-1;t>-1&&Os.splice(t,1)}}var Ts,Cs=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:As;(0,s.Z)(this,e),this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}return(0,c.Z)(e,[{key:"addListeners",value:function(){var e=this,t=Ns((function(){e._lastMutation=Ms()}));this._teardown=function(){t(),e._clicks=[],e._lastMutation=0,e._lastScroll=0}}},{key:"removeListeners",value:function(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}},{key:"handleClick",value:function(e,t){if(!function(e,t){if(!Ds.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)&&function(e){return!(!e.data||"number"!==typeof e.data.nodeId||!e.timestamp)}(e)){var n={timestamp:Ss(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((function(e){return e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1}))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}}},{key:"registerMutation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastMutation=Ss(e)}},{key:"registerScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastScroll=Ss(e)}},{key:"registerClick",value:function(e){var t=Is(e);this._handleMultiClick(t)}},{key:"_handleMultiClick",value:function(e){this._getClicks(e).forEach((function(e){e.clickCount++}))}},{key:"_getClicks",value:function(e){return this._clicks.filter((function(t){return t.node===e}))}},{key:"_checkClicks",value:function(){var e=this,t=[],n=Ms();this._clicks.forEach((function(r){!r.mutationAfter&&e._lastMutation&&(r.mutationAfter=r.timestamp<=e._lastMutation?e._lastMutation-r.timestamp:void 0),!r.scrollAfter&&e._lastScroll&&(r.scrollAfter=r.timestamp<=e._lastScroll?e._lastScroll-r.timestamp:void 0),r.timestamp+e._timeout<=n&&t.push(r)}));for(var r=0,i=t;r<i.length;r++){var o=i[r],a=this._clicks.indexOf(o);a>-1&&(this._generateBreadcrumbs(o),this._clicks.splice(a,1))}this._clicks.length&&this._scheduleCheckClicks()}},{key:"_generateBreadcrumbs",value:function(e){var t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,o=e.clickCount,a=e.clickBreadcrumb;if(i){var s=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),c=s<1e3*this._timeout?"mutation":"timeout",u={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:po(po({},a.data),{},{url:yo.location.href,route:t.getCurrentRoute(),timeAfterClickMs:s,endReason:c,clickCount:o||1})};this._addBreadcrumbEvent(t,u)}else if(o>1){var l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:po(po({},a.data),{},{url:yo.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0})};this._addBreadcrumbEvent(t,l)}}},{key:"_scheduleCheckClicks",value:function(){var e=this;this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((function(){return e._checkClicks()}),1e3)}}]),e}(),Ds=["A","BUTTON","INPUT"];function Ms(){return Date.now()/1e3}function xs(e,t){try{if(!function(e){return e.type===_s}(t))return;var n=t.data.source;if(n===Da.Mutation&&e.registerMutation(t.timestamp),n===Da.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Da.MouseInteraction}(t)){var r=t.data,i=r.type,o=r.id,a=bs.mirror.getNode(o);a instanceof HTMLElement&&i===Ma.Click&&e.registerClick(a)}}catch(s){}}function Ps(e){return po({timestamp:Date.now()/1e3,type:"default"},e)}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Ts||(Ts={}));var Ls=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled"]);function Fs(e){var t={};for(var n in e)if(Ls.has(n)){var r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}var Us=function(e){return function(t){if(e.isEnabled()){var n=function(e){var t=function(e){var t,n="click"===e.name,r=null;try{r=n?ks(e.event):Rs(e.event),t=(0,Ar.Rt)(r,{maxStringLength:200})||"<unknown>"}catch(i){t="<unknown>"}return{target:r,message:t}}(e),n=t.target,r=t.message;return Ps(po({category:"ui.".concat(e.name)},js(n,r)))}(t);if(n){var r="click"===t.name,i=r?t.event:void 0;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,ks(t.event)),As(e,n)}}}};function js(e,t){var n=bs.mirror.getId(e),r=n&&bs.mirror.getNode(n),i=r&&bs.mirror.getMeta(r),o=i&&function(e){return e.type===Ts.Element}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map((function(e){return e.type===Ts.Text&&e.textContent})).filter(Boolean).map((function(e){return e.trim()})).join(""),attributes:Fs(o.attributes)}}:{}}}function Bs(e,t){if(e.isEnabled()){e.updateUserActivity();var n=function(e){var t=e.metaKey,n=e.shiftKey,r=e.ctrlKey,i=e.altKey,o=e.key,a=e.target;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!o)return null;var s=t||r||i,c=1===o.length;if(!s&&c)return null;var u=(0,Ar.Rt)(a,{maxStringLength:200})||"<unknown>",l=js(a,u);return Ps({category:"ui.keyDown",message:u,data:po(po({},l.data),{},{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o})})}(t);n&&As(e,n)}}var Gs={resource:function(e){var t=e.entryType,n=e.initiatorType,r=e.name,i=e.responseEnd,o=e.startTime,a=e.decodedBodySize,s=e.encodedBodySize,c=e.responseStatus,u=e.transferSize;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:"".concat(t,".").concat(n),start:Ws(o),end:Ws(i),name:r,data:{size:u,statusCode:c,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){var t=e.duration,n=e.entryType,r=e.name,i=Ws(e.startTime);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){var t=e.entryType,n=e.name,r=e.decodedBodySize,i=e.duration,o=e.domComplete,a=e.encodedBodySize,s=e.domContentLoadedEventStart,c=e.domContentLoadedEventEnd,u=e.domInteractive,l=e.loadEventStart,d=e.loadEventEnd,f=e.redirectCount,h=e.startTime,p=e.transferSize,m=e.type;if(0===i)return null;return{type:"".concat(t,".").concat(m),start:Ws(h),end:Ws(o),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:u,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:o,redirectCount:f}}}};function Hs(e){return Gs[e.entryType]?Gs[e.entryType](e):null}function Ws(e){return((yt.Z1||yo.performance.timeOrigin)+e)/1e3}function Ks(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n(e){e.entries.forEach(t)}var r=[];return["navigation","paint","resource"].forEach((function(e){r.push(ro(e,n))})),r.push(no((function(t){var n=t.metric;e.replayPerformanceEntries.push(function(e){var t=e.entries,n=t[t.length-1],r=n?n.element:void 0,i=e.value,o=Ws(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:o,end:o,data:{value:i,size:i,nodeId:r?bs.mirror.getId(r):void 0}}}(n))}))),function(){r.forEach((function(e){return e()}))}}var Zs="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Vs='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function zs(e,t){Zs&&(f.kg.info(e),t&&$s(e))}function qs(e,t){Zs&&(f.kg.info(e),t&&setTimeout((function(){$s(e)}),0))}function $s(e){(0,Ee.Gd)().addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}var Ys=function(e){(0,se.Z)(n,e);var t=fo(n);function n(){return(0,s.Z)(this,n),t.call(this,"Event buffer exceeded maximum size of ".concat(Io,"."))}return(0,c.Z)(n)}((0,le.Z)(Error)),Js=function(){function e(){(0,s.Z)(this,e),this.events=[],this._totalSize=0,this.hasCheckout=!1}var t;return(0,c.Z)(e,[{key:"hasEvents",get:function(){return this.events.length>0}},{key:"type",get:function(){return"sync"}},{key:"destroy",value:function(){this.events=[]}},{key:"addEvent",value:(t=(0,fn.Z)(pn().mark((function e(t){var n;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=JSON.stringify(t).length,this._totalSize+=n,!(this._totalSize>Io)){e.next=4;break}throw new Ys;case 4:this.events.push(t);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"finish",value:function(){var e=this;return new Promise((function(t){var n=e.events;e.clear(),t(JSON.stringify(n))}))}},{key:"clear",value:function(){this.events=[],this._totalSize=0,this.hasCheckout=!1}},{key:"getEarliestTimestamp",value:function(){var e=this.events.map((function(e){return e.timestamp})).sort()[0];return e?Es(e):null}}]),e}(),Xs=function(){function e(t){(0,s.Z)(this,e),this._worker=t,this._id=0}return(0,c.Z)(e,[{key:"ensureReady",value:function(){var e=this;return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((function(t,n){e._worker.addEventListener("message",(function(e){e.data.success?t():n()}),{once:!0}),e._worker.addEventListener("error",(function(e){n(e)}),{once:!0})}))),this._ensureReadyPromise}},{key:"destroy",value:function(){zs("[Replay] Destroying compression worker"),this._worker.terminate()}},{key:"postMessage",value:function(e,t){var n=this,r=this._getAndIncrementId();return new Promise((function(i,o){n._worker.addEventListener("message",(function t(a){var s=a.data;if(s.method===e&&s.id===r){if(n._worker.removeEventListener("message",t),!s.success)return Zs&&f.kg.error("[Replay]",s.response),void o(new Error("Error in compression worker"));i(s.response)}})),n._worker.postMessage({id:r,method:e,arg:t})}))}},{key:"_getAndIncrementId",value:function(){return this._id++}}]),e}(),Qs=function(){function e(t){(0,s.Z)(this,e),this._worker=new Xs(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}var t;return(0,c.Z)(e,[{key:"hasEvents",get:function(){return!!this._earliestTimestamp}},{key:"type",get:function(){return"worker"}},{key:"ensureReady",value:function(){return this._worker.ensureReady()}},{key:"destroy",value:function(){this._worker.destroy()}},{key:"addEvent",value:function(e){var t=Es(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);var n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>Io?Promise.reject(new Ys):this._sendEventToWorker(n)}},{key:"finish",value:function(){return this._finishRequest()}},{key:"clear",value:function(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear")}},{key:"getEarliestTimestamp",value:function(){return this._earliestTimestamp}},{key:"_sendEventToWorker",value:function(e){return this._worker.postMessage("addEvent",e)}},{key:"_finishRequest",value:(t=(0,fn.Z)(pn().mark((function e(){var t;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._worker.postMessage("finish");case 2:return t=e.sent,this._earliestTimestamp=null,this._totalSize=0,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),ec=function(){function e(t){(0,s.Z)(this,e),this._fallback=new Js,this._compression=new Qs(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}var t,n,r;return(0,c.Z)(e,[{key:"type",get:function(){return this._used.type}},{key:"hasEvents",get:function(){return this._used.hasEvents}},{key:"hasCheckout",get:function(){return this._used.hasCheckout},set:function(e){this._used.hasCheckout=e}},{key:"destroy",value:function(){this._fallback.destroy(),this._compression.destroy()}},{key:"clear",value:function(){return this._used.clear()}},{key:"getEarliestTimestamp",value:function(){return this._used.getEarliestTimestamp()}},{key:"addEvent",value:function(e){return this._used.addEvent(e)}},{key:"finish",value:(r=(0,fn.Z)(pn().mark((function e(){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureWorkerIsLoaded();case 2:return e.abrupt("return",this._used.finish());case 3:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"ensureWorkerIsLoaded",value:function(){return this._ensureWorkerIsLoadedPromise}},{key:"_ensureWorkerIsLoaded",value:(n=(0,fn.Z)(pn().mark((function e(){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._compression.ensureReady();case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),zs("[Replay] Failed to load the compression worker, falling back to simple buffer"),e.abrupt("return");case 9:return e.next=11,this._switchToCompressionWorker();case 11:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return n.apply(this,arguments)})},{key:"_switchToCompressionWorker",value:(t=(0,fn.Z)(pn().mark((function e(){var t,n,r,i,o,a,s;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this._fallback,n=t.events,r=t.hasCheckout,i=[],o=mo(n);try{for(o.s();!(a=o.n()).done;)s=a.value,i.push(this._compression.addEvent(s))}catch(c){o.e(c)}finally{o.f()}return this._compression.hasCheckout=r,this._used=this._compression,e.prev=6,e.next=9,Promise.all(i);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(6),Zs&&f.kg.warn("[Replay] Failed to add events when switching buffers.",e.t0);case 14:case"end":return e.stop()}}),e,this,[[6,11]])}))),function(){return t.apply(this,arguments)})}]),e}();function tc(e){var t=e.useCompression,n=e.workerUrl;if(t&&window.Worker){var r=function(e){try{var t=e||function(){if("undefined"===typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){var e=new Blob([Vs]);return URL.createObjectURL(e)}();return""}();if(!t)return;zs("[Replay] Using compression worker".concat(e?" from ".concat(e):""));var n=new Worker(t);return new ec(n)}catch(r){zs("[Replay] Failed to create compression worker")}}(n);if(r)return r}return zs("[Replay] Using simple buffer"),new Js}function nc(){try{return"sessionStorage"in yo&&!!yo.sessionStorage}catch(e){return!1}}function rc(e){!function(){if(!nc())return;try{yo.sessionStorage.removeItem(bo)}catch(e){}}(),e.session=void 0}function ic(e){return void 0!==e&&Math.random()<e}function oc(e){var t=Date.now();return{id:e.id||(0,h.DM)(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function ac(e){if(nc())try{yo.sessionStorage.setItem(bo,JSON.stringify(e))}catch(t){}}function sc(e){var t=e.sessionSampleRate,n=e.allowBuffering,r=e.stickySession,i=void 0!==r&&r,o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).previousSessionId,a=function(e,t){return ic(e)?"session":!!t&&"buffer"}(t,n),s=oc({sampled:a,previousSessionId:o});return i&&ac(s),s}function cc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date;return null===e||void 0===t||t<0||0!==t&&e+t<=n}function uc(e,t){var n=t.maxReplayDuration,r=t.sessionIdleExpire,i=t.targetTime,o=void 0===i?Date.now():i;return cc(e.started,n,o)||cc(e.lastActivity,r,o)}function lc(e,t){return!!uc(e,{sessionIdleExpire:t.sessionIdleExpire,maxReplayDuration:t.maxReplayDuration})&&("buffer"!==e.sampled||0!==e.segmentId)}function dc(e,t){var n=e.traceInternals,r=e.sessionIdleExpire,i=e.maxReplayDuration,o=e.previousSessionId,a=t.stickySession&&function(e){if(!nc())return null;try{var t=yo.sessionStorage.getItem(bo);if(!t)return null;var n=JSON.parse(t);return qs("[Replay] Loading existing session",e),oc(n)}catch(r){return null}}(n);return a?lc(a,{sessionIdleExpire:r,maxReplayDuration:i})?(qs("[Replay] Session in sessionStorage is expired, creating new one..."),sc(t,{previousSessionId:a.id})):a:(qs("[Replay] Creating new session",n),sc(t,{previousSessionId:o}))}function fc(e,t,n){return!!mc(e,t)&&(hc(e,t,n),!0)}function hc(e,t,n){return pc.apply(this,arguments)}function pc(){return(pc=(0,fn.Z)(pn().mark((function e(t,n,r){var i,o,a,s;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.eventBuffer){e.next=2;break}return e.abrupt("return",null);case 2:if(e.prev=2,r&&"buffer"===t.recordingMode&&t.eventBuffer.clear(),r&&(t.eventBuffer.hasCheckout=!0),i=t.getOptions(),o=gc(n,i.beforeAddRecordingEvent)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,t.eventBuffer.addEvent(o);case 11:return e.abrupt("return",e.sent);case 14:return e.prev=14,e.t0=e.catch(2),a=e.t0&&e.t0 instanceof Ys?"addEventSizeExceeded":"addEvent",Zs&&f.kg.error(e.t0),e.next=20,t.stop({reason:a});case 20:(s=(0,Ae.s3)())&&s.recordDroppedEvent("internal_sdk_error","replay");case 22:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}function mc(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;var n=Es(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(zs("[Replay] Skipping event with timestamp ".concat(n," because it is after maxReplayDuration"),e.getOptions()._experiments.traceInternals),!1))}function gc(e,t){try{if("function"===typeof t&&function(e){return e.type===Ca.Custom}(e))return t(e)}catch(n){return Zs&&f.kg.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function vc(e){return!e.type}function yc(e){return"transaction"===e.type}function bc(e){return"feedback"===e.type}function _c(e){var t=function(){var e=(0,Ae.s3)();if(!e)return!1;var t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return function(n,r){if(e.isEnabled()&&(vc(n)||yc(n))){var i=r&&r.statusCode;t&&(!i||i<200||i>=300)||(yc(n)?function(e,t){var n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){var n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;var r=e.getOptions(),i=r.beforeErrorSampling;if("function"===typeof i&&!i(t))return;setTimeout((function(){e.sendBufferedReplayOrFlush()}))}(e,n))}}}function Ec(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?_c(e):void 0;return Object.assign((function(n,r){if(!e.isEnabled())return n;if(function(e){return"replay_event"===e.type}(n))return delete n.breadcrumbs,n;if(!vc(n)&&!yc(n)&&!bc(n))return n;if(!e.checkAndHandleExpiredSession())return n;if(bc(n))return e.flush(),n.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((function(){return!t.timestamp||(e.throttledAddEvent({type:Ca.Custom,timestamp:1e3*t.timestamp,data:{timestamp:t.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)}))}(e,n),n;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length)&&!(!t.originalException||!t.originalException.__rrweb__)}(n,r)&&!e.getOptions()._experiments.captureExceptions)return Zs&&f.kg.log("[Replay] Ignoring error from rrweb internals",n),null;var i=function(e,t){return"buffer"===e.recordingMode&&t.message!==Eo&&!(!t.exception||t.type)&&ic(e.getOptions().errorSampleRate)}(e,n);return(i||"session"===e.recordingMode)&&(n.tags=po(po({},n.tags),{},{replayId:e.getSessionId()})),t&&t(n,{statusCode:200}),n}),{id:"Replay"})}function Sc(e,t){return t.map((function(t){var n=t.type,r=t.start,i=t.end,o=t.name,a=t.data,s=e.throttledAddEvent({type:Ca.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:i,data:a}}});return"string"===typeof s?Promise.resolve(null):s}))}function Ac(e){return function(t){if(e.isEnabled()){var n=function(e){var t=e.from,n=e.to,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((function(){return Sc(e,[n]),!1})))}}}function Oc(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Zs||!e.getOptions()._experiments.traceInternals)&&Mi(t,(0,Ee.Gd)())}(e,t.name)||e.addUpdate((function(){return Sc(e,[t]),!0})))}function wc(e){return function(t){if(e.isEnabled()){var n=function(e){var t=e.startTimestamp,n=e.endTimestamp,r=e.xhr[zr];if(!t||!n||!r)return null;var i=r.method,o=r.url,a=r.status_code;return void 0===o?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:i,statusCode:a}}}(t);Oc(e,n)}}}function Ic(e,t){if(e)try{if("string"===typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){var n=xc(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(r){}}function kc(e){if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}}function Rc(e){try{if("string"===typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[xc(e)];if(!e)return[void 0]}catch(t){return Zs&&f.kg.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Zs&&f.kg.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Nc(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};var n=po({},e._meta),r=n.warnings||[];return n.warnings=[].concat((0,d.Z)(r),[t]),e._meta=n,e}function Tc(e,t){if(!t)return null;var n=t.startTimestamp,r=t.endTimestamp,i=t.url,o=t.method,a=t.statusCode,s=t.request,c=t.response;return{type:e,start:n/1e3,end:r/1e3,name:i,data:(0,u.Jr)({method:o,statusCode:a,request:s,response:c})}}function Cc(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Dc(e,t,n){if(t||0!==Object.keys(e).length){if(!t)return{headers:e};if(!n)return{headers:e,size:t};var r={headers:e,size:t},i=function(e){if(!e||"string"!==typeof e)return{body:e};var t=e.length>Oo,n=(r=e,i=r[0],o=r[r.length-1],"["===i&&"]"===o||"{"===i&&"}"===o);var r,i,o;if(t){var a=e.slice(0,Oo);return n?{body:a,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:"".concat(a,"\u2026"),warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(s){}return{body:e}}(n),o=i.body,a=i.warnings;return r.body=o,a&&a.length>0&&(r._meta={warnings:a}),r}}function Mc(e,t){return Object.keys(e).reduce((function(n,r){var i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=e[r]),n}),{})}function xc(e){return new URLSearchParams(e).toString()}function Pc(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yo.document.baseURI;if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(yo.location.origin))return e;var n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;var r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return(0,p.U0)(n,t)}function Lc(){return(Lc=(0,fn.Z)(pn().mark((function e(t,n,r){var i,o;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fc(t,n,r);case 3:i=e.sent,o=Tc("resource.fetch",i),Oc(r.replay,o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Zs&&f.kg.error("[Replay] Failed to capture fetch breadcrumb",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Fc(e,t,n){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,fn.Z)(pn().mark((function e(t,n,r){var i,o,a,s,c,u,l,d,f,h,p,m,g,v,y;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),o=n.startTimestamp,a=void 0===o?i:o,s=n.endTimestamp,c=void 0===s?i:s,u=t.data,l=u.url,d=u.method,f=u.status_code,h=void 0===f?0:f,p=u.request_body_size,m=u.response_body_size,g=Pc(l,r.networkDetailAllowUrls)&&!Pc(l,r.networkDetailDenyUrls),v=g?jc(r,n.input,p):Cc(p),e.next=7,Bc(g,r,n.response,m);case 7:return y=e.sent,e.abrupt("return",{startTimestamp:a,endTimestamp:c,url:l,method:d,statusCode:h,request:v,response:y});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t,n){var r=e.networkCaptureBodies,i=e.networkRequestHeaders,o=t?function(e,t){if(1===e.length&&"string"!==typeof e[0])return zc(e[0],t);if(2===e.length)return zc(e[1],t);return{}}(t,i):{};if(!r)return Dc(o,n,void 0);var a=Rc(Zc(t)),s=(0,T.Z)(a,2),c=s[0],u=s[1],l=Dc(o,n,c);return u?Nc(l,u):l}function Bc(e,t,n,r){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,fn.Z)(pn().mark((function e(t,n,r,i){var o,a,s,c,u,l,d,f,h;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.networkCaptureBodies,a=n.textEncoder,s=n.networkResponseHeaders,t||void 0===i){e.next=3;break}return e.abrupt("return",Cc(i));case 3:if(c=r?Vc(r.headers,s):{},r&&(o||void 0===i)){e.next=6;break}return e.abrupt("return",Dc(c,i,void 0));case 6:return e.next=8,Wc(r);case 8:if(u=e.sent,l=(0,T.Z)(u,2),d=l[0],f=l[1],h=Hc(d,{networkCaptureBodies:o,textEncoder:a,responseBodySize:i,captureDetails:t,headers:c}),!f){e.next=15;break}return e.abrupt("return",Nc(h,f));case 15:return e.abrupt("return",h);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t){var n=t.networkCaptureBodies,r=t.textEncoder,i=t.responseBodySize,o=t.captureDetails,a=t.headers;try{var s=e&&e.length&&void 0===i?Ic(e,r):i;return o?Dc(a,s,n?e:void 0):Cc(s)}catch(c){return Zs&&f.kg.warn("[Replay] Failed to serialize response body",c),Dc(a,i,void 0)}}function Wc(e){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,fn.Z)(pn().mark((function e(t){var n,r;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=qc(t)){e.next=3;break}return e.abrupt("return",[void 0,"BODY_PARSE_ERROR"]);case 3:return e.prev=3,e.next=6,$c(n);case 6:return r=e.sent,e.abrupt("return",[r]);case 10:return e.prev=10,e.t0=e.catch(3),Zs&&f.kg.warn("[Replay] Failed to get text body from response",e.t0),e.abrupt("return",[void 0,"BODY_PARSE_ERROR"]);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function Zc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(2===e.length&&"object"===(0,Pt.Z)(e[1]))return e[1].body}function Vc(e,t){var n={};return t.forEach((function(t){e.get(t)&&(n[t]=e.get(t))})),n}function zc(e,t){if(!e)return{};var n=e.headers;return n?n instanceof Headers?Vc(n,t):Array.isArray(n)?{}:Mc(n,t):{}}function qc(e){try{return e.clone()}catch(t){Zs&&f.kg.warn("[Replay] Failed to clone response body",t)}}function $c(e){return new Promise((function(t,n){var r=setTimeout((function(){return n(new Error("Timeout while trying to read response body"))}),500);(function(e){return Yc.apply(this,arguments)})(e).then((function(e){return t(e)}),(function(e){return n(e)})).finally((function(){return clearTimeout(r)}))}))}function Yc(){return(Yc=(0,fn.Z)(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(){return(Jc=(0,fn.Z)(pn().mark((function e(t,n,r){var i,o;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{i=Qc(t,n,r),o=Tc("resource.xhr",i),Oc(r.replay,o)}catch(a){Zs&&f.kg.error("[Replay] Failed to capture xhr breadcrumb",a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xc(e,t,n){var r=t.xhr,i=t.input;if(r){var o=Ic(i,n.textEncoder),a=r.getResponseHeader("content-length")?kc(r.getResponseHeader("content-length")):function(e,t,n){try{return Ic("json"===t&&e&&"object"===(0,Pt.Z)(e)?JSON.stringify(e):e,n)}catch(r){return}}(r.response,r.responseType,n.textEncoder);void 0!==o&&(e.data.request_body_size=o),void 0!==a&&(e.data.response_body_size=a)}}function Qc(e,t,n){var r=Date.now(),i=t.startTimestamp,o=void 0===i?r:i,a=t.endTimestamp,s=void 0===a?r:a,c=t.input,u=t.xhr,l=e.data,d=l.url,h=l.method,p=l.status_code,m=void 0===p?0:p,g=l.request_body_size,v=l.response_body_size;if(!d)return null;if(!u||!Pc(d,n.networkDetailAllowUrls)||Pc(d,n.networkDetailDenyUrls))return{startTimestamp:o,endTimestamp:s,url:d,method:h,statusCode:m,request:Cc(g),response:Cc(v)};var y=u[zr],b=y?Mc(y.request_headers,n.networkRequestHeaders):{},_=Mc(function(e){var t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((function(e,t){var n=t.split(": "),r=(0,T.Z)(n,2),i=r[0],o=r[1];return e[i.toLowerCase()]=o,e}),{})}(u),n.networkResponseHeaders),E=n.networkCaptureBodies?Rc(c):[void 0],S=(0,T.Z)(E,2),A=S[0],O=S[1],w=n.networkCaptureBodies?function(e){var t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return function(e,t){try{if("string"===typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"===(0,Pt.Z)(e))return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return Zs&&f.kg.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Zs&&f.kg.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(n){t.push(n)}return Zs&&f.kg.warn.apply(f.kg,["[Replay] Failed to get xhr response body"].concat(t)),[void 0]}(u):[void 0],I=(0,T.Z)(w,2),k=I[0],R=I[1],N=Dc(b,g,A),C=Dc(_,v,k);return{startTimestamp:o,endTimestamp:s,url:d,method:h,statusCode:m,request:O?Nc(N,O):N,response:R?Nc(C,R):C}}function eu(e){var t=(0,Ae.s3)();try{var n=new TextEncoder,r=e.getOptions(),i={replay:e,textEncoder:n,networkDetailAllowUrls:r.networkDetailAllowUrls,networkDetailDenyUrls:r.networkDetailDenyUrls,networkCaptureBodies:r.networkCaptureBodies,networkRequestHeaders:r.networkRequestHeaders,networkResponseHeaders:r.networkResponseHeaders};t&&t.on?t.on("beforeAddBreadcrumb",(function(e,t){return function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Xc(t,n,e),function(e,t,n){Jc.apply(this,arguments)}(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(function(e,t,n){var r=t.input,i=t.response,o=Ic(r?Zc(r):void 0,n.textEncoder),a=i?kc(i.headers.get("content-length")):void 0;void 0!==o&&(e.data.request_body_size=o),void 0!==a&&(e.data.response_body_size=a)}(t,n,e),function(e,t,n){Lc.apply(this,arguments)}(t,n,e))}catch(r){Zs&&f.kg.warn("Error when enriching network breadcrumb")}}(i,e,t)})):(Xr(function(e){return function(t){if(e.isEnabled()){var n=function(e){var t=e.startTimestamp,n=e.endTimestamp,r=e.fetchData,i=e.response;if(!n)return null;var o=r.method;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:r.url,data:{method:o,statusCode:i?i.status:void 0}}}(t);Oc(e,n)}}}(e)),qr(wc(e)))}catch(o){}}var tu=null;var nu=function(e){return function(t){if(e.isEnabled()){var n=function(e){var t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(tu===t||!t)return null;if(tu=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){var t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Ps(e);var n=!1,r=t.map((function(e){if(!e)return e;if("string"===typeof e)return e.length>wo?(n=!0,"".concat(e.slice(0,wo),"\u2026")):e;if("object"===(0,Pt.Z)(e))try{var t=(0,F.Fv)(e,7);return JSON.stringify(t).length>wo?(n=!0,"".concat(JSON.stringify(t,null,2).slice(0,wo),"\u2026")):t}catch(r){}return e}));return Ps(po(po({},e),{},{data:po(po({},e.data),{},{arguments:r},n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}(t);return Ps(t)}(t);n&&As(e,n)}}};function ru(e){return!(!e||!e.on)}function iu(e){return ou.apply(this,arguments)}function ou(){return(ou=(0,fn.Z)(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Promise.all(Sc(t,[(n=yo.performance.memory,r=void 0,i=void 0,o=void 0,a=void 0,r=n.jsHeapSizeLimit,i=n.totalJSHeapSize,o=n.usedJSHeapSize,a=Date.now()/1e3,{type:"memory",name:"memory",start:a,end:a,data:{memory:{jsHeapSizeLimit:r,totalJSHeapSize:i,usedJSHeapSize:o}}})])));case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",[]);case 7:case"end":return e.stop()}var n,r,i,o,a}),e,null,[[0,4]])})))).apply(this,arguments)}function au(e){var t=!1;return function(n,r){if(e.checkAndHandleExpiredSession()){var i=r||!t;t=!0,e.clickDetector&&xs(e.clickDetector,n),e.addUpdate((function(){if("buffer"===e.recordingMode&&i&&e.setInitialState(),!fc(e,n,i))return!0;if(!i)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;fc(e,function(e){var t=e.getOptions();return{type:Ca.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,i),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){var t=e.eventBuffer.getEarliestTimestamp();t&&(zs("[Replay] Updating session start time to earliest event in buffer to ".concat(new Date(t)),e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&ac(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}else Zs&&f.kg.warn("[Replay] Received replay event after session expired.")}}function su(e,t,n,r){return H(J(e,Y(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"===typeof t?(new TextEncoder).encode(t).length:t.length},t]])}function cu(e){var t,n=e.recordingData,r=e.headers,i="".concat(JSON.stringify(r),"\n");if("string"===typeof n)t="".concat(i).concat(n);else{var o=(new TextEncoder).encode(i);(t=new Uint8Array(o.length+n.length)).set(o),t.set(n,o.length)}return t}function uu(e){return lu.apply(this,arguments)}function lu(){return lu=(0,fn.Z)(pn().mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.scope,i=t.replayId,o=t.event,a="object"!==(0,Pt.Z)(n._integrations)||null===n._integrations||Array.isArray(n._integrations)?void 0:Object.keys(n._integrations),s={event_id:i,integrations:a},n.emit&&n.emit("preprocessEvent",o,s),e.next=6,(0,Ce.R)(n.getOptions(),o,s,r,n);case 6:if(c=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return c.platform=c.platform||"javascript",u=n.getSdkMetadata&&n.getSdkMetadata(),l=u&&u.sdk||{},d=l.name,f=l.version,c.sdk=po(po({},c.sdk),{},{name:d||"sentry.javascript.unknown",version:f||"0.0.0"}),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function du(e){return fu.apply(this,arguments)}function fu(){return fu=(0,fn.Z)(pn().mark((function e(t){var n,r,i,o,a,s,c,u,l,d,f,h,p,m,g,v,y,b,_,E,S,A;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.recordingData,r=t.replayId,i=t.segmentId,o=t.eventContext,a=t.timestamp,s=t.session,c=cu({recordingData:n,headers:{segment_id:i}}),u=o.urls,l=o.errorIds,d=o.traceIds,f=o.initialTimestamp,h=(0,Ee.Gd)(),p=h.getClient(),m=h.getScope(),g=p&&p.getTransport(),v=p&&p.getDsn(),p&&g&&v&&s.sampled){e.next=10;break}return e.abrupt("return");case 10:return y={type:_o,replay_start_timestamp:f/1e3,timestamp:a/1e3,error_ids:l,trace_ids:d,urls:u,replay_id:r,segment_id:i,replay_type:s.sampled},e.next=13,uu({scope:m,client:p,replayId:r,event:y});case 13:if(b=e.sent){e.next=18;break}return p.recordDroppedEvent("event_processor","replay",y),zs("An event processor returned `null`, will not send event."),e.abrupt("return");case 18:return delete b.sdkProcessingMetadata,_=su(b,c,v,p.getOptions().tunnel),e.prev=20,e.next=23,g.send(_);case 23:E=e.sent,e.next=31;break;case 26:e.prev=26,e.t0=e.catch(20),S=new Error(Eo);try{S.cause=e.t0}catch(O){}throw S;case 31:if(E){e.next=33;break}return e.abrupt("return",E);case 33:if("number"!==typeof E.statusCode||!(E.statusCode<200||E.statusCode>=300)){e.next=35;break}throw new hu(E.statusCode);case 35:if(!sn(A=cn({},E),"replay")){e.next=38;break}throw new pu(A);case 38:return e.abrupt("return",E);case 39:case"end":return e.stop()}}),e,null,[[20,26]])}))),fu.apply(this,arguments)}var hu=function(e){(0,se.Z)(n,e);var t=fo(n);function n(e){return(0,s.Z)(this,n),t.call(this,"Transport returned status code ".concat(e))}return(0,c.Z)(n)}((0,le.Z)(Error)),pu=function(e){(0,se.Z)(n,e);var t=fo(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this,"Rate limit hit")).rateLimits=e,r}return(0,c.Z)(n)}((0,le.Z)(Error));function mu(e){return gu.apply(this,arguments)}function gu(){return gu=(0,fn.Z)(pn().mark((function e(t){var n,r,i,o,a=arguments;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{count:0,interval:So},r=t.recordingData,i=t.options,r.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,du(t);case 7:return e.abrupt("return",!0);case 10:if(e.prev=10,e.t0=e.catch(4),!(e.t0 instanceof hu||e.t0 instanceof pu)){e.next=14;break}throw e.t0;case 14:if((0,Ae.v)("Replays",{_retryCount:n.count}),Zs&&i._experiments&&i._experiments.captureExceptions&&(0,Ae.Tb)(e.t0),!(n.count>=Ao)){e.next=20;break}o=new Error("".concat(Eo," - max retries exceeded"));try{o.cause=e.t0}catch(s){}throw o;case 20:return n.interval*=++n.count,e.abrupt("return",new Promise((function(e,r){setTimeout((0,fn.Z)(pn().mark((function i(){return pn().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,mu(t,n);case 3:e(!0),i.next=9;break;case 6:i.prev=6,i.t0=i.catch(0),r(i.t0);case 9:case"end":return i.stop()}}),i,null,[[0,6]])}))),n.interval)})));case 22:case"end":return e.stop()}}),e,null,[[4,10]])}))),gu.apply(this,arguments)}var vu="__THROTTLED";function yu(e,t,n){var r=new Map,i=!1;return function(){var o=Math.floor(Date.now()/1e3);if(function(e){var t=e-n;r.forEach((function(e,n){n<t&&r.delete(n)}))}(o),(0,d.Z)(r.values()).reduce((function(e,t){return e+t}),0)>=t){var a=i;return i=!0,a?"__SKIPPED":vu}i=!1;var s=r.get(o)||0;return r.set(o,s+1),e.apply(void 0,arguments)}}var bu=function(){function e(t){var n=this,r=t.options,i=t.recordingOptions;(0,s.Z)(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=i,this._options=r,this._debouncedFlush=function(e,t,n){var r,i,o,a=n&&n.maxWait?Math.max(n.maxWait,t):0;function s(){return c(),r=e()}function c(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0}function u(){return i&&clearTimeout(i),i=setTimeout(s,t),a&&void 0===o&&(o=setTimeout(s,a)),r}return u.cancel=c,u.flush=function(){return void 0!==i||void 0!==o?s():r},u}((function(){return n._flush()}),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=yu((function(e,t){return function(e,t,n){return mc(e,t)?hc(e,t,n):Promise.resolve(null)}(n,e,t)}),300,5);var o=this.getOptions(),a=o.slowClickTimeout,c=o.slowClickIgnoreSelectors,u=a?{threshold:Math.min(3e3,a),timeout:a,scrollTimeout:300,ignoreSelector:c?c.join(","):""}:void 0;u&&(this.clickDetector=new Cs(this,u))}var t,n,r,i;return(0,c.Z)(e,[{key:"getContext",value:function(){return this._context}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"isPaused",value:function(){return this._isPaused}},{key:"getOptions",value:function(){return this._options}},{key:"initializeSampling",value:function(e){var t=this._options,n=t.errorSampleRate,r=t.sessionSampleRate;n<=0&&r<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",qs("[Replay] Starting replay in ".concat(this.recordingMode," mode"),this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}},{key:"start",value:function(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");qs("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);var e=dc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}},{key:"startBuffering",value:function(){if(this._isEnabled)throw new Error("Replay recording is already in progress");qs("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);var e=dc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}},{key:"startRecording",value:function(){try{this._stopRecording=bs(po(po(po({},this._recordingOptions),"buffer"===this.recordingMode&&{checkoutEveryNms:6e4}),{},{emit:au(this),onMutation:this._onMutationHandler}))}catch(e){this._handleException(e)}}},{key:"stopRecording",value:function(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}},{key:"stop",value:(i=(0,fn.Z)(pn().mark((function e(){var t,n,r,i,o=arguments;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=o.length>0&&void 0!==o[0]?o[0]:{}).forceFlush,r=void 0!==n&&n,i=t.reason,this._isEnabled){e.next=3;break}return e.abrupt("return");case 3:if(this._isEnabled=!1,e.prev=4,zs("[Replay] Stopping Replay".concat(i?" triggered by ".concat(i):""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),!r){e.next=12;break}return e.next=12,this._flush({force:!0});case 12:this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,rc(this),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),this._handleException(e.t0);case 20:case"end":return e.stop()}}),e,this,[[4,17]])}))),function(){return i.apply(this,arguments)})},{key:"pause",value:function(){this._isPaused||(this._isPaused=!0,this.stopRecording(),zs("[Replay] Pausing replay",this._options._experiments.traceInternals))}},{key:"resume",value:function(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),zs("[Replay] Resuming replay",this._options._experiments.traceInternals))}},{key:"sendBufferedReplayOrFlush",value:(r=(0,fn.Z)(pn().mark((function e(){var t,n,r,i,o=arguments;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(o.length>0&&void 0!==o[0]?o[0]:{}).continueRecording,n=void 0===t||t,"session"!==this.recordingMode){e.next=3;break}return e.abrupt("return",this.flushImmediate());case 3:return r=Date.now(),zs("[Replay] Converting buffer to session",this._options._experiments.traceInternals),e.next=7,this.flushImmediate();case 7:if(i=this.stopRecording(),n&&i){e.next=10;break}return e.abrupt("return");case 10:if("session"!==this.recordingMode){e.next=12;break}return e.abrupt("return");case 12:this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording();case 15:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"addUpdate",value:function(e){var t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}},{key:"triggerUserActivity",value:function(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}},{key:"updateUserActivity",value:function(){this._updateUserActivity(),this._updateSessionActivity()}},{key:"conditionalFlush",value:function(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}},{key:"flush",value:function(){return this._debouncedFlush()}},{key:"flushImmediate",value:function(){return this._debouncedFlush(),this._debouncedFlush.flush()}},{key:"cancelFlush",value:function(){this._debouncedFlush.cancel()}},{key:"getSessionId",value:function(){return this.session&&this.session.id}},{key:"checkAndHandleExpiredSession",value:function(){if(!(this._lastActivity&&cc(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}},{key:"setInitialState",value:function(){var e="".concat(yo.location.pathname).concat(yo.location.hash).concat(yo.location.search),t="".concat(yo.location.origin).concat(e);this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}},{key:"throttledAddEvent",value:function(e,t){var n=this,r=this._throttledAddEvent(e,t);if(r===vu){var i=Ps({category:"replay.throttled"});this.addUpdate((function(){return!fc(n,{type:5,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}})}))}return r}},{key:"getCurrentRoute",value:function(){var e=this.lastTransaction||(0,Ee.Gd)().getScope().getTransaction();if(e&&["route","custom"].includes(e.metadata.source))return e.name}},{key:"_initializeRecording",value:function(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=tc({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}},{key:"_handleException",value:function(e){Zs&&f.kg.error("[Replay]",e),Zs&&this._options._experiments&&this._options._experiments.captureExceptions&&(0,Ae.Tb)(e)}},{key:"_initializeSessionForSampling",value:function(e){var t=this._options.errorSampleRate>0,n=dc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}},{key:"_checkSession",value:function(){if(!this.session)return!1;var e=this.session;return!lc(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}},{key:"_refreshSession",value:(n=(0,fn.Z)(pn().mark((function e(t){return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isEnabled){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.stop({reason:"refresh session"});case 4:this.initializeSampling(t.id);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"_addListeners",value:function(){try{yo.document.addEventListener("visibilitychange",this._handleVisibilityChange),yo.addEventListener("blur",this._handleWindowBlur),yo.addEventListener("focus",this._handleWindowFocus),yo.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){var t=(0,Ee.Gd)().getScope(),n=(0,Ae.s3)();t.addScopeListener(nu(e)),Wr(Us(e)),Er(Ac(e)),eu(e);var r=Ec(e,!ru(n));n&&n.addEventProcessor?n.addEventProcessor(r):Be(r),ru(n)&&(n.on("afterSendEvent",_c(e)),n.on("createDsc",(function(t){var n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(function(t){e.lastTransaction=t})),n.on("finishTransaction",(function(t){e.lastTransaction=t})),n.on("beforeSendFeedback",(function(t,n){var r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&(e.flush(),t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r))})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=Ks(this)}},{key:"_removeListeners",value:function(){try{yo.document.removeEventListener("visibilitychange",this._handleVisibilityChange),yo.removeEventListener("blur",this._handleWindowBlur),yo.removeEventListener("focus",this._handleWindowFocus),yo.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}},{key:"__init",value:function(){var e=this;this._handleVisibilityChange=function(){"visible"===yo.document.visibilityState?e._doChangeToForegroundTasks():e._doChangeToBackgroundTasks()}}},{key:"__init2",value:function(){var e=this;this._handleWindowBlur=function(){var t=Ps({category:"ui.blur"});e._doChangeToBackgroundTasks(t)}}},{key:"__init3",value:function(){var e=this;this._handleWindowFocus=function(){var t=Ps({category:"ui.focus"});e._doChangeToForegroundTasks(t)}}},{key:"__init4",value:function(){var e=this;this._handleKeyboardEvent=function(t){Bs(e,t)}}},{key:"_doChangeToBackgroundTasks",value:function(e){this.session&&(uc(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush()))}},{key:"_doChangeToForegroundTasks",value:function(e){this.session&&(this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):zs("[Replay] Document has become active, but session has expired"))}},{key:"_updateUserActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this._lastActivity=e}},{key:"_updateSessionActivity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}},{key:"_createCustomBreadcrumb",value:function(e){var t=this;this.addUpdate((function(){t.throttledAddEvent({type:Ca.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}},{key:"_addPerformanceEntries",value:function(){var e,t=(e=this.performanceEntries,e.map(Hs).filter(Boolean)).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Sc(this,t))}},{key:"_clearContext",value:function(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}},{key:"_updateInitialTimestampFromEventBuffer",value:function(){var e=this.session,t=this.eventBuffer;if(e&&t&&!e.segmentId){var n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}}},{key:"_popEventContext",value:function(){var e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}},{key:"_runFlush",value:(t=(0,fn.Z)(pn().mark((function e(){var t,n,r,i,o,a;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getSessionId(),this.session&&this.eventBuffer&&t){e.next=4;break}return Zs&&f.kg.error("[Replay] No session or eventBuffer found to flush."),e.abrupt("return");case 4:return e.next=6,this._addPerformanceEntries();case 6:if(this.eventBuffer&&this.eventBuffer.hasEvents){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,iu(this);case 10:if(this.eventBuffer){e.next=12;break}return e.abrupt("return");case 12:if(t===this.getSessionId()){e.next=14;break}return e.abrupt("return");case 14:if(e.prev=14,this._updateInitialTimestampFromEventBuffer(),!((n=Date.now())-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)){e.next=19;break}throw new Error("Session is too long, not sending replay");case 19:return r=this._popEventContext(),i=this.session.segmentId++,this._maybeSaveSession(),e.next=24,this.eventBuffer.finish();case 24:return o=e.sent,e.next=27,mu({replayId:t,recordingData:o,segmentId:i,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n});case 27:e.next=35;break;case 29:e.prev=29,e.t0=e.catch(14),this._handleException(e.t0),this.stop({reason:"sendReplay"}),(a=(0,Ae.s3)())&&a.recordDroppedEvent("send_error","replay");case 35:case"end":return e.stop()}}),e,this,[[14,29]])}))),function(){return t.apply(this,arguments)})},{key:"__init5",value:function(){var e=this;this._flush=(0,fn.Z)(pn().mark((function t(){var n,r,i,o,a,s,c,u,l=arguments;return pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(l.length>0&&void 0!==l[0]?l[0]:{}).force,r=void 0!==n&&n,e._isEnabled||r){t.next=3;break}return t.abrupt("return");case 3:if(e.checkAndHandleExpiredSession()){t.next=6;break}return Zs&&f.kg.error("[Replay] Attempting to finish replay event after session expired."),t.abrupt("return");case 6:if(e.session){t.next=8;break}return t.abrupt("return");case 8:if(i=e.session.started,o=Date.now(),a=o-i,e._debouncedFlush.cancel(),s=a<e._options.minReplayDuration,c=a>e._options.maxReplayDuration+5e3,!s&&!c){t.next=18;break}return zs("[Replay] Session duration (".concat(Math.floor(a/1e3),"s) is too ").concat(s?"short":"long",", not sending replay."),e._options._experiments.traceInternals),s&&e._debouncedFlush(),t.abrupt("return");case 18:if((u=e.eventBuffer)&&0===e.session.segmentId&&!u.hasCheckout&&zs("[Replay] Flushing initial segment without checkout.",e._options._experiments.traceInternals),e._flushLock){t.next=26;break}return e._flushLock=e._runFlush(),t.next=24,e._flushLock;case 24:return e._flushLock=void 0,t.abrupt("return");case 26:return t.prev=26,t.next=29,e._flushLock;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(26),Zs&&f.kg.error(t.t0);case 34:return t.prev=34,e._debouncedFlush(),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[26,31,34,37]])})))}},{key:"_maybeSaveSession",value:function(){this.session&&this._options.stickySession&&ac(this.session)}},{key:"__init6",value:function(){var e=this;this._onMutationHandler=function(t){var n=t.length,r=e._options.mutationLimit,i=r&&n>r;if(n>e._options.mutationBreadcrumbLimit||i){var o=Ps({category:"replay.mutations",data:{count:n,limit:i}});e._createCustomBreadcrumb(o)}return!i||(e.stop({reason:"mutationLimit",forceFlush:"session"===e.recordingMode}),!1)}}}]),e}();function _u(e,t,n,r){var i="string"===typeof r?r.split(","):[],o=[].concat((0,d.Z)(e),(0,d.Z)(i),(0,d.Z)(t));return"undefined"!==typeof n&&("string"===typeof n&&o.push(".".concat(n)),(0,f.Cf)((function(){console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}var Eu='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Su=["content-length","content-type","accept"],Au=!1,Ou=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.flushMinDelay,r=void 0===n?5e3:n,i=t.flushMaxDelay,o=void 0===i?5500:i,a=t.minReplayDuration,c=void 0===a?4999:a,u=t.maxReplayDuration,l=void 0===u?ko:u,d=t.stickySession,f=void 0===d||d,h=t.useCompression,p=void 0===h||h,m=t.workerUrl,g=t._experiments,v=void 0===g?{}:g,y=t.sessionSampleRate,b=t.errorSampleRate,_=t.maskAllText,E=void 0===_||_,S=t.maskAllInputs,A=void 0===S||S,O=t.blockAllMedia,w=void 0===O||O,I=t.mutationBreadcrumbLimit,k=void 0===I?750:I,R=t.mutationLimit,N=void 0===R?1e4:R,T=t.slowClickTimeout,C=void 0===T?7e3:T,D=t.slowClickIgnoreSelectors,M=void 0===D?[]:D,x=t.networkDetailAllowUrls,P=void 0===x?[]:x,L=t.networkDetailDenyUrls,F=void 0===L?[]:L,U=t.networkCaptureBodies,j=void 0===U||U,B=t.networkRequestHeaders,G=void 0===B?[]:B,H=t.networkResponseHeaders,W=void 0===H?[]:H,K=t.mask,Z=void 0===K?[]:K,V=t.maskAttributes,z=void 0===V?["title","placeholder"]:V,q=t.unmask,$=void 0===q?[]:q,Y=t.block,J=void 0===Y?[]:Y,X=t.unblock,Q=void 0===X?[]:X,ee=t.ignore,te=void 0===ee?[]:ee,ne=t.maskFn,re=t.beforeAddRecordingEvent,ie=t.beforeErrorSampling,oe=t.blockClass,ae=t.blockSelector,se=t.maskInputOptions,ce=t.maskTextClass,ue=t.maskTextSelector,le=t.ignoreClass;(0,s.Z)(this,e),this.name=e.id;var de=function(e){var t=e.mask,n=e.unmask,r=e.block,i=e.unblock,o=e.ignore,a=e.blockClass,s=e.blockSelector,c=e.maskTextClass,u=e.maskTextSelector,l=e.ignoreClass,d={maskTextSelector:_u(t,[".sentry-mask","[data-sentry-mask]"],c,u),unmaskTextSelector:_u(n,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:_u(r,[".sentry-block","[data-sentry-block]"].concat(['base[href="/"]']),a,s),unblockSelector:_u(i,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:_u(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return a instanceof RegExp&&(d.blockClass=a),c instanceof RegExp&&(d.maskTextClass=c),d}({mask:Z,unmask:$,block:J,unblock:Q,ignore:te,blockClass:oe,blockSelector:ae,maskTextClass:ce,maskTextSelector:ue,ignoreClass:le});if(this._recordingOptions=po(po({maskAllInputs:A,maskAllText:E,maskInputOptions:po(po({},se||{}),{},{password:!0}),maskTextFn:ne,maskInputFn:ne,maskAttributeFn:function(e,t,n){return function(e){var t=e.el,n=e.key,r=e.maskAttributes,i=e.maskAllText,o=e.privacyOptions,a=e.value;return i?o.unmaskTextSelector&&t.matches(o.unmaskTextSelector)?a:r.includes(n)||"value"===n&&"INPUT"===t.tagName&&["submit","button"].includes(t.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a:a}({maskAttributes:z,maskAllText:E,privacyOptions:de,key:e,value:t,el:n})}},de),{},{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:function(e){try{e.__rrweb__=!0}catch(t){}}}),this._initialOptions={flushMinDelay:r,flushMaxDelay:o,minReplayDuration:Math.min(c,15e3),maxReplayDuration:Math.min(l,ko),stickySession:f,sessionSampleRate:y,errorSampleRate:b,useCompression:p,workerUrl:m,blockAllMedia:w,maskAllInputs:A,maskAllText:E,mutationBreadcrumbLimit:k,mutationLimit:N,slowClickTimeout:C,slowClickIgnoreSelectors:M,networkDetailAllowUrls:P,networkDetailDenyUrls:F,networkCaptureBodies:j,networkRequestHeaders:wu(G),networkResponseHeaders:wu(W),beforeAddRecordingEvent:re,beforeErrorSampling:ie,_experiments:v},"number"===typeof y&&(console.warn("[Replay] You are passing `sessionSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysSessionSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ".concat(y," })")),this._initialOptions.sessionSampleRate=y),"number"===typeof b&&(console.warn("[Replay] You are passing `errorSampleRate` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure `replaysOnErrorSampleRate` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ".concat(b," })")),this._initialOptions.errorSampleRate=b),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?"".concat(this._recordingOptions.blockSelector,",").concat(Eu):Eu),this._isInitialized&&Li())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}return(0,c.Z)(e,[{key:"_isInitialized",get:function(){return Au},set:function(e){Au=e}},{key:"setupOnce",value:function(){var e=this;Li()&&(this._setup(),setTimeout((function(){return e._initialize()})))}},{key:"start",value:function(){this._replay&&this._replay.start()}},{key:"startBuffering",value:function(){this._replay&&this._replay.startBuffering()}},{key:"stop",value:function(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}},{key:"flush",value:function(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}},{key:"getReplayId",value:function(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}},{key:"_initialize",value:function(){this._replay&&this._replay.initializeSampling()}},{key:"_setup",value:function(){var e=function(e){var t=(0,Ae.s3)(),n=t&&t.getOptions(),r=po({sessionSampleRate:0,errorSampleRate:0},(0,u.Jr)(e));if(!n)return(0,f.Cf)((function(){console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&(0,f.Cf)((function(){console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"===typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"===typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new bu({options:e,recordingOptions:this._recordingOptions})}}],[{key:"__initStatic",value:function(){this.id="Replay"}}]),e}();function wu(e){return[].concat(Su,(0,d.Z)(e.map((function(e){return e.toLowerCase()}))))}Ou.__initStatic();const Iu=X.n2,ku="#ffffff",Ru="inherit",Nu="rgba(108, 95, 199, 1)",Tu={fontFamily:"'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:ku,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Nu,submitBorder:Nu,submitOutlineFocus:"#29232f",submitForeground:ku,submitForegroundHover:ku,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Ru,inputForeground:Ru,inputBorder:"var(--border)",inputOutlineFocus:Nu},Cu=Tu,Du={...Tu,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},Mu="widget",xu="api";async function Pu({feedback:{message:e,email:t,name:n,source:r,url:i}},{includeReplay:o=!0}={}){const a=(0,Ee.Gd)(),s=a.getClient(),c=s&&s.getTransport(),u=s&&s.getDsn();if(!s||!c||!u)return;const l={contexts:{feedback:{contact_email:t,name:n,message:e,url:i,source:r}},type:"feedback"};return new Promise(((e,t)=>{a.withScope((async n=>{n.clearBreadcrumbs(),[xu,Mu].includes(String(r))&&n.setLevel("info");const i=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const i=await(0,Ce.R)(e.getOptions(),n,r,t,e);return null===i?(e.recordDroppedEvent("event_processor","feedback",n),null):(i.platform=i.platform||"javascript",i)}({scope:n,client:s,event:l});if(null===i)return void e();s&&s.emit&&s.emit("beforeSendFeedback",i,{includeReplay:Boolean(o)});const a=_e(i,u,s.getOptions()._metadata,s.getOptions().tunnel);let d;try{d=await c.send(a)}catch(f){const e=new Error("Unable to send Feedback");try{e.cause=f}catch(h){}t(e)}d?("number"===typeof d.statusCode&&(d.statusCode<200||d.statusCode>=300)&&t(new Error("Unable to send Feedback")),e(d)):e(d)}))}))}const Lu="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Fu(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Uu(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n  `}function ju({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const i=Iu.document,o=i.createElement("div");o.id=e;const a=o.attachShadow({mode:"open"});return a.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Uu("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Uu(n.dark)}\n  }\n}`:""}\n}`,r}(i,t,{dark:n,light:r})),a.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: 20px;\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: 6px;\n  color: var(--input-foreground);\n  font-size: 14px;\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: 12px;\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(i)),{shadow:a,host:o}}catch(i){throw f.kg.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Bu(e,t,n){if(!e)return;e.hideError();try{const e=await function({name:e,email:t,message:n,source:r=xu,url:i=(0,Ar.l4)()},o={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Pu({feedback:{name:e,email:t,message:n,url:i,source:r}},o)}({...t,source:Mu},n);return e}catch(r){Lu&&f.kg.error(r),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function Gu(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}const Hu=20,Wu="http://www.w3.org/2000/svg";function Ku(e,t,...n){const r=Iu.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"===typeof t?r.setAttribute("class",t):"boolean"===typeof t&&t?r.setAttribute(e,""):"string"===typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"===typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const i of n)Zu(r,i);return r}function Zu(e,t){const n=Iu.document;if("undefined"!==typeof t&&null!==t)if(Array.isArray(t))for(const r of t)Zu(e,r);else!1===t||("string"===typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function Vu({buttonLabel:e,onClick:t}){const n=Ku("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>Iu.document.createElementNS(Wu,e),t=Gu(e("svg"),{class:"feedback-icon",width:`${Hu}`,height:`${Hu}`,viewBox:`0 0 ${Hu} ${Hu}`,fill:"none"}),n=Gu(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Gu(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const i=e("defs"),o=Gu(e("clipPath"),{id:"clip0_57_80"}),a=Gu(e("rect"),{width:`${Hu}`,height:`${Hu}`,fill:"white"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),{get el(){return t}}}().el,e?Ku("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function zu(e,t){const n=e.get(t);return"string"===typeof n?n.trim():""}function qu({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:i,messagePlaceholder:o,cancelButtonLabel:a,submitButtonLabel:s,showName:c,showEmail:u,isNameRequired:l,isEmailRequired:d,defaultName:f,defaultEmail:h,onCancel:p,onSubmit:m}){const{el:g}=function({label:e}){return{el:Ku("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:s});const v=Ku("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const y=Ku("input",{id:"name",type:c?"text":"hidden","aria-hidden":c?"false":"true",name:"name",required:l,className:"form__input",placeholder:t,value:f}),b=Ku("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:d,className:"form__input",placeholder:r,value:h}),_=Ku("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:o}),E=Ku("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:e=>{p&&p(e)}},a),S=Ku("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(m){const t=new FormData(e.target),n={name:zu(t,"name"),email:zu(t,"email"),message:zu(t,"message")};m(n)}}catch(t){}}},[v,c&&Ku("label",{htmlFor:"name",className:"form__label"},[Ku("span",{className:"form__label__text"},e,l&&Ku("span",{className:"form__label__text--required"}," (required)")),y]),!c&&y,u&&Ku("label",{htmlFor:"email",className:"form__label"},[Ku("span",{className:"form__label__text"},n,d&&Ku("span",{className:"form__label__text--required"}," (required)")),b]),!u&&b,Ku("label",{htmlFor:"message",className:"form__label"},[Ku("span",{className:"form__label__text"},i,Ku("span",{className:"form__label__text--required"}," (required)")),_]),Ku("div",{className:"btn-group"},[g,E])]);return{get el(){return S},showError:function(e){v.textContent=e,v.classList.remove("form__error-container--hidden"),v.setAttribute("aria-hidden","false")},hideError:function(){v.textContent="",v.classList.add("form__error-container--hidden"),v.setAttribute("aria-hidden","true")}}}const $u="http://www.w3.org/2000/svg";function Yu({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:i,isEmailRequired:o,colorScheme:a,defaultName:s,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...f}){let h=null;function p(){h&&(h.open=!1)}const{el:m,showError:g,hideError:v}=qu({showEmail:r,showName:n,isEmailRequired:o,isNameRequired:i,defaultName:s,defaultEmail:c,onSubmit:d,onCancel:l,...f});return h=Ku("dialog",{className:"dialog",open:!0,onClick:function(){p(),u&&u()}},Ku("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},Ku("h2",{className:"dialog__header"},e,t&&Ku("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>Iu.document.createElementNS($u,e),n=Gu(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Gu(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const i=t("defs"),o=t("style");return"system"===e&&(o.textContent="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),o.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,i.append(o),n.append(i),{get el(){return n}}}({colorScheme:a}).el)),m)),{get el(){return h},showError:g,hideError:v,open:function(){h&&(h.open=!0)},close:p,checkIsOpen:function(){return h&&!0===h.open||!1}}}const Ju=16,Xu=17,Qu="http://www.w3.org/2000/svg";function el({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=Ku("div",{className:"success-message",onClick:n},function(){const e=e=>Iu.document.createElementNS(Qu,e),t=Gu(e("svg"),{class:"success-icon",width:`${Ju}`,height:`${Xu}`,viewBox:`0 0 ${Ju} ${Xu}`,fill:"none"}),n=Gu(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Gu(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=Gu(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);const o=e("defs"),a=Gu(e("clipPath"),{id:"clip0_57_156"}),s=Gu(e("rect"),{width:`${Ju}`,height:`${Ju}`,fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),o.appendChild(a),t.appendChild(o).appendChild(a).appendChild(s),{get el(){return t}}}().el,e);return{el:r,remove:n}}function tl({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let i,o,a=!1;async function s(t){if(!o)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void o.showError(`Please enter in the following required fields: ${r.join(", ")}`);await Bu(o,t)?(h(),function(){if(e)try{const t=el({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),c()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(t){f.kg.error(t)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){i&&i.show()}function u(){i&&i.hide()}function l(){try{if(o)return o.open(),a=!0,void(n.onFormOpen&&n.onFormOpen());const t=n.useSentryUser,r=(0,Ee.Gd)().getScope(),i=r&&r.getUser();if(o=Yu({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,defaultName:t&&i&&i[t.name]||"",defaultEmail:t&&i&&i[t.email]||"",onClosed:()=>{c(),a=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{d(),c()},onSubmit:s}),!o.el)throw new Error("Unable to open Feedback dialog");e.appendChild(o.el),u(),n.onFormOpen&&n.onFormOpen()}catch(t){f.kg.error(t)}}function d(){o&&(o.close(),a=!1,n.onFormClose&&n.onFormClose())}function h(){if(o){d();const e=o.el;e&&e.remove(),o=void 0}}function p(){a||l(),u()}return r?r.addEventListener("click",p):t&&(i=Vu({buttonLabel:n.buttonLabel,onClick:p}),i.el&&e.appendChild(i.el)),{get actor(){return i},get dialog(){return o},showActor:c,hideActor:u,removeActor:function(){i&&i.el&&i.el.remove()},openDialog:l,closeDialog:d,removeDialog:h}}const nl=Iu.document;class rl{static __initStatic(){this.id="Feedback"}constructor({id:e="sentry-feedback",showBranding:t=!0,autoInject:n=!0,showEmail:r=!0,showName:i=!0,useSentryUser:o={email:"email",name:"username"},isEmailRequired:a=!1,isNameRequired:s=!1,themeDark:c,themeLight:u,colorScheme:l="system",buttonLabel:d="Report a Bug",cancelButtonLabel:f="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:p="Report a Bug",emailPlaceholder:m="your.email@example.org",emailLabel:g="Email",messagePlaceholder:v="What's the bug? What did you expect?",messageLabel:y="Description",namePlaceholder:b="Your Name",nameLabel:_="Name",successMessageText:E="Thank you for your report!",onFormClose:S,onFormOpen:A,onSubmitError:O,onSubmitSuccess:w}={}){this.name=rl.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={id:e,showBranding:t,autoInject:n,isEmailRequired:a,isNameRequired:s,showEmail:r,showName:i,useSentryUser:o,colorScheme:l,themeDark:{...Du,...c},themeLight:{...Cu,...u},buttonLabel:d,cancelButtonLabel:f,submitButtonLabel:h,formTitle:p,emailLabel:g,emailPlaceholder:m,messageLabel:y,messagePlaceholder:v,nameLabel:_,namePlaceholder:b,successMessageText:E,onFormClose:S,onFormOpen:A,onSubmitError:O,onSubmitSuccess:w}}setupOnce(){if(Li())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){Lu&&f.kg.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=Fu(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"===typeof e?nl.querySelector(e):"function"===typeof e.addEventListener?e:null;if(!r)return Lu&&f.kg.error("[Feedback] Unable to attach to target element"),null;const i=tl({shadow:t,options:n,attachTo:r});return this._widgets.add(i),this._widget||(this._widget=i),i}))}catch(n){return Lu&&f.kg.error(n),null}}createWidget(e){try{return this._createWidget(Fu(this.options,e||{}))}catch(t){return Lu&&f.kg.error(t),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(t){Lu&&f.kg.error(t)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=nl.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=tl({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  line-height: 25px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: 12px;\n  cursor: pointer;\n  font-size: 14px;\n  font-weight: 600;\n  padding: 12px 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(nl)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:i,themeDark:o}=e,{shadow:a,host:s}=ju({id:t,colorScheme:r,themeLight:i,themeDark:o});this._shadow=a,this._host=s,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&nl.body.appendChild(this._host),r}}function il(e){return"number"===typeof e&&isFinite(e)}function ol(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}rl.__initStatic();const al=2147483647;function sl(e){return e/1e3}function cl(){return ji&&ji.addEventListener&&ji.performance}let ul,ll,dl=0,fl={};function hl(){const e=cl();if(e&&yt.Z1){e.mark&&ji.performance.mark("sentry-tracing-init");const t=co("fid",(({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=sl(yt.Z1),r=sl(t.startTime);Fi&&f.kg.log("[Measurements] Adding FID"),fl.fid={value:e.value,unit:"millisecond"},fl["mark.fid"]={value:n+r,unit:"second"}}),ao,eo),n=function(e){return co("cls",e,oo,Qi)}((({metric:e})=>{const t=e.entries.pop();t&&(Fi&&f.kg.log("[Measurements] Adding CLS"),fl.cls={value:e.value,unit:""},ll=t)})),r=no((({metric:e})=>{const t=e.entries.pop();t&&(Fi&&f.kg.log("[Measurements] Adding LCP"),fl.lcp={value:e.value,unit:"millisecond"},ul=t)}));return()=>{t(),n(),r()}}return()=>{}}function pl(e){const t=cl();if(!t||!ji.performance.getEntries||!yt.Z1)return;Fi&&f.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=sl(yt.Z1),r=t.getEntries();let i,o;if(r.slice(dl).forEach((t=>{const r=sl(t.startTime),a=sl(t.duration);if(!("navigation"===e.op&&n+r<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{ml(e,t,r,n)})),ml(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),ml(e,t,"fetch",n,"cache","domainLookupStart"),ml(e,t,"domainLookup",n,"DNS"),function(e,t,n){ol(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+sl(t.requestStart),endTimestamp:n+sl(t.responseEnd)}),ol(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+sl(t.responseStart),endTimestamp:n+sl(t.responseEnd)})}(e,t,n)}(e,t,n),i=n+sl(t.responseStart),o=n+sl(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){const o=i+n,a=o+r;ol(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:o})}(e,t,r,a,n);const i=zi(),o=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&o&&(Fi&&f.kg.log("[Measurements] Adding FP"),fl.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&o&&(Fi&&f.kg.log("[Measurements] Adding FCP"),fl.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const i=t.name.replace(ji.location.origin,"");!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a={};gl(a,t,"transferSize","http.response_transfer_size"),gl(a,t,"encodedBodySize","http.response_content_length"),gl(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);const s=o+r,c=s+i;ol(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:s,data:a})}(e,t,i,r,a,n);break}}})),dl=Math.max(r.length-1,0),function(e){const t=ji.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),il(n.rtt)&&(fl["connection.rtt"]={value:n.rtt,unit:"millisecond"}));il(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);il(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"===typeof i&&(Fi&&f.kg.log("[Measurements] Adding TTFB"),fl.ttfb={value:1e3*(i-e.startTimestamp),unit:"millisecond"},"number"===typeof o&&o<=i&&(fl["ttfb.requestTime"]={value:1e3*(i-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!fl[t]||n>=e.startTimestamp)return;const r=fl[t].value,i=n+sl(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;Fi&&f.kg.log(`[Measurements] Normalized ${t} from ${r} to ${o} (${a})`),fl[t].value=o}));const t=fl["mark.fid"];t&&fl.fid&&(ol(e,{description:"first input delay",endTimestamp:t.value+sl(fl.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete fl["mark.fid"]),"fcp"in fl||delete fl.cls,Object.keys(fl).forEach((t=>{e.setMeasurement(t,fl[t].value,fl[t].unit)})),function(e){ul&&(Fi&&f.kg.log("[Measurements] Adding LCP Data"),ul.element&&e.setTag("lcp.element",(0,Ar.Rt)(ul.element)),ul.id&&e.setTag("lcp.id",ul.id),ul.url&&e.setTag("lcp.url",ul.url.trim().slice(0,200)),e.setTag("lcp.size",ul.size));ll&&ll.sources&&(Fi&&f.kg.log("[Measurements] Adding CLS Data"),ll.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,(0,Ar.Rt)(t.node)))))}(e)}ul=void 0,ll=void 0,fl={}}function ml(e,t,n,r,i,o){const a=o?t[o]:t[`${n}End`],s=t[`${n}Start`];s&&a&&ol(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+sl(s),endTimestamp:r+sl(a)})}function gl(e,t,n,r){const i=t[n];null!=i&&i<al&&(e[r]=i)}function vl(e,t,n,r,i="auto.http.browser"){if(!Lt()||!e.fetchData)return;const o=t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const n=r[t];if(n){if(e.response){n.setHttpStatus(e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length");if(t){const e=parseInt(t);e>0&&n.setData("http.response_content_length",e)}}else e.error&&n.setStatus("internal_error");n.finish(),delete r[t]}return}const a=(0,Ee.Gd)(),s=a.getScope(),c=a.getClient(),u=s.getSpan(),{method:l,url:d}=e.fetchData,f=o&&u?u.startChild({data:{url:d,type:"fetch","http.method":l},description:`${l} ${d}`,op:"http.client",origin:i}):void 0;if(f&&(e.fetchData.__span=f.spanId,r[f.spanId]=f),n(e.fetchData.url)&&c){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,i){const o=i||n.getSpan(),a=o&&o.transaction,{traceId:s,sampled:c,dsc:u}=n.getPropagationContext(),l=o?o.toTraceparent():ft(s,void 0,c),d=a?a.getDynamicSamplingContext():u||Te(s,t,n),f=st(d),h="undefined"!==typeof Request&&(0,_.V9)(e,Request)?e.headers:r.headers;if(h){if("undefined"!==typeof Headers&&(0,_.V9)(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",l),f&&e.append(rt,f),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",l]];return f&&e.push([rt,f]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),f&&t.push(f),{...h,"sentry-trace":l,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":l,baggage:f}}(t,c,s,n,f)}return f}const yl=["localhost",/^\/(?!\/)/],bl={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:yl,tracePropagationTargets:yl};function _l(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:o,enableHTTPTimings:a}={traceFetch:bl.traceFetch,traceXHR:bl.traceXHR,...e},s="function"===typeof o?o:e=>!0,c=e=>function(e,t){return(0,p.U0)(e,t||yl)}(e,r||i),u={};t&&Xr((e=>{const t=vl(e,s,c,u);a&&t&&El(t)})),n&&qr((e=>{const t=function(e,t,n,r){const i=e.xhr,o=i&&i[zr];if(!Lt()||!i||i.__sentry_own_request__||!o)return;const a=t(o.url);if(e.endTimestamp&&a){const e=i.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==o.status_code&&(t.setHttpStatus(o.status_code),t.finish(),delete r[e]))}const s=(0,Ee.Gd)(),c=s.getScope(),u=c.getSpan(),l=a&&u?u.startChild({data:{type:"xhr","http.method":o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;l&&(i.__sentry_xhr_span_id__=l.spanId,r[i.__sentry_xhr_span_id__]=l);if(i.setRequestHeader&&n(o.url))if(l){const e=l&&l.transaction,t=st(e&&e.getDynamicSamplingContext());Al(i,l.toTraceparent(),t)}else{const e=s.getClient(),{traceId:t,sampled:n,dsc:r}=c.getPropagationContext();Al(i,ft(t,void 0,n),st(r||(e?Te(t,e,c):void 0)))}return l}(e,s,c,u);a&&t&&El(t)}))}function El(e){const t=e.data.url;if(!t)return;const n=ro("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"===typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){const t=function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!yt.Z1)return r;return[...r,["http.request.redirect_start",Sl(e.redirectStart)],["http.request.fetch_start",Sl(e.fetchStart)],["http.request.domain_lookup_start",Sl(e.domainLookupStart)],["http.request.domain_lookup_end",Sl(e.domainLookupEnd)],["http.request.connect_start",Sl(e.connectStart)],["http.request.secure_connection_start",Sl(e.secureConnectionStart)],["http.request.connection_end",Sl(e.connectEnd)],["http.request.request_start",Sl(e.requestStart)],["http.request.response_start",Sl(e.responseStart)],["http.request.response_end",Sl(e.responseEnd)]]}(r);t.forEach((t=>e.setData(...t))),setTimeout(n)}}))}))}function Sl(e=0){return((yt.Z1||performance.timeOrigin)+e)/1e3}function Al(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(rt,n)}catch(r){}}const Ol={...Ct,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!ji||!ji.location)return void(Fi&&f.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=ji.location.href;t&&(r=e({name:ji.location.pathname,startTimestamp:yt.Z1?yt.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Er((({to:t,from:n})=>{void 0===n&&i&&-1!==i.indexOf(t)?i=void 0:n!==t&&(i=void 0,r&&(Fi&&f.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=e({name:ji.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...bl};class wl{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Wt(),Fi&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...Ol,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=hl(),this.options.enableLongTask&&ro("longtask",(({entries:e})=>{for(const t of e){const e=ht();if(!e)return;const n=sl(yt.Z1+t.startTime),r=sl(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&ro("event",(({entries:e})=>{for(const t of e){const e=ht();if(!e)return;if("click"===t.name){const n=sl(yt.Z1+t.startTime),r=sl(t.duration);e.startChild({description:(0,Ar.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}}))}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:i,startTransactionOnLocationChange:o,startTransactionOnPageLoad:a,markBackgroundTransactions:s,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:h}=this.options,p=r&&r.tracePropagationTargets,m=p||this.options.tracePropagationTargets;Fi&&this._hasSetTracePropagationTargets&&p&&f.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),i((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),a,o),s&&(ji&&ji.document?ji.document.addEventListener("visibilitychange",(()=>{const e=ht();if(ji.document.hidden&&e){const t="cancelled";Fi&&f.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):Fi&&f.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),h.enableInteractions&&this._registerInteractionListener(),_l({traceFetch:c,traceXHR:u,tracePropagationTargets:m,shouldCreateSpanForRequest:l,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Fi&&f.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:i,heartbeatInterval:o}=this.options,a="pageload"===e.op,s=a?Il("sentry-trace"):"",c=a?Il("baggage"):"",{traceparentData:u,dynamicSamplingContext:l,propagationContext:d}=dt(s,c),h={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},p="function"===typeof n?n(h):h,m=void 0===p?{...h,sampled:!1}:p;m.metadata=m.name!==h.name?{...m.metadata,source:"custom"}:m.metadata,this._latestRouteName=m.name,this._latestRouteSource=m.metadata&&m.metadata.source,!1===m.sampled&&Fi&&f.kg.log(`[Tracing] Will not send ${m.op} transaction because of beforeNavigate.`),Fi&&f.kg.log(`[Tracing] Starting ${m.op} transaction on scope`);const{location:g}=ji,v=Ht(t,m,r,i,!0,{location:g},o),y=t.getScope();return a&&u?y.setPropagationContext(d):y.setPropagationContext({traceId:v.traceId,spanId:v.spanId,parentSpanId:v.parentSpanId,sampled:v.sampled}),v.registerBeforeFinishCallback((e=>{this._collectWebVitals(),pl(e)})),v}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,i="ui.action.click",o=ht();if(o&&o.op&&["navigation","pageload"].includes(o.op))return void(Fi&&f.kg.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub)return void(Fi&&f.kg.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(Fi&&f.kg.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:s}=ji,c={name:this._latestRouteName,op:i,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=Ht(a,c,t,n,!0,{location:s},r)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function Il(e){const t=(0,Ar.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}var kl=100,Rl=5e3,Nl=36e5;function Tl(e,t){m.X&&f.kg.info("[Offline]: ".concat(e),t)}function Cl(e){return function(t){var n,r=e(t),i=t.createStore?t.createStore(t):void 0,o=Rl;function a(e,n,r){return i=["replay_event","replay_recording","client_report"],!W(e,(function(e,t){return i.includes(t)}))&&(!t.shouldStore||t.shouldStore(e,n,r));var i}function s(e){i&&(n&&clearTimeout(n),n=setTimeout((0,fn.Z)(pn().mark((function e(){var t;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,e.next=3,i.pop();case 3:(t=e.sent)&&(Tl("Attempting to send previously queued event"),u(t).catch((function(e){Tl("Failed to retry sending",e)})));case 5:case"end":return e.stop()}}),e)}))),e),"number"!==typeof n&&n.unref&&n.unref())}function c(){n||(s(o),o=Math.min(2*o,Nl))}function u(e){return l.apply(this,arguments)}function l(){return(l=(0,fn.Z)(pn().mark((function e(t){var n,u;return pn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.send(t);case 3:if(n=e.sent,u=kl,!n){e.next=12;break}if(!n.headers||!n.headers["retry-after"]){e.next=10;break}u=an(n.headers["retry-after"]),e.next=12;break;case 10:if(!((n.statusCode||0)>=400)){e.next=12;break}return e.abrupt("return",n);case 12:return s(u),o=Rl,e.abrupt("return",n);case 17:if(e.prev=17,e.t0=e.catch(0),e.t1=i,!e.t1){e.next=24;break}return e.next=23,a(t,e.t0,o);case 23:e.t1=e.sent;case 24:if(!e.t1){e.next=32;break}return e.next=27,i.insert(t);case 27:return c(),Tl("Error sending. Event queued",e.t0),e.abrupt("return",{});case 32:throw e.t0;case 33:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}return t.flushAtStartup&&c(),{send:u,flush:function(e){return r.flush(e)}}}}function Dl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ml(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dl(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function Pl(e){return xl(e.getAllKeys())}function Ll(e,t,n){return e((function(e){return Pl(e).then((function(r){if(!(r.length>=n))return e.put(t,Math.max.apply(Math,(0,d.Z)(r).concat([0]))+1),xl(e.transaction)}))}))}function Fl(e){return e((function(e){return Pl(e).then((function(t){if(0!==t.length)return xl(e.get(t[0])).then((function(n){return e.delete(t[0]),xl(e.transaction).then((function(){return n}))}))}))}))}function Ul(e){var t,n,r;function i(){return void 0==t&&(t=function(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=xl(n);return function(e){return r.then((function(n){return e(n.transaction(t,"readwrite").objectStore(t))}))}}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:(r=(0,fn.Z)(pn().mark((function t(n){var r;return pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(n,e.textEncoder);case 3:return r=t.sent,t.next=6,Ll(i(),r,e.maxQueueSize||30);case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(e){return r.apply(this,arguments)}),pop:(n=(0,fn.Z)(pn().mark((function t(){var n;return pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Fl(i());case 3:if(!(n=t.sent)){t.next=6;break}return t.abrupt("return",V(n,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.abrupt("return",void 0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),function(){return n.apply(this,arguments)})}}function jl(e){return function(e){return function(t){return e(Ml(Ml({},t),{},{createStore:Ul}))}}(Cl(e))}function Bl(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gl(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hl=1e6,Wl=String(0),Kl="main",Zl="",Vl="",zl="",ql=On.navigator&&On.navigator.userAgent||"",$l="",Yl=On.navigator&&On.navigator.language||On.navigator&&On.navigator.languages&&On.navigator.languages[0]||"";var Jl,Xl=On.navigator&&On.navigator.userAgentData;function Ql(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){var t=void 0,n=0,r={samples:[],stacks:[],frames:[],thread_metadata:(0,a.Z)({},Wl,{name:Kl})};if(!e.samples.length)return r;for(var i=e.samples[0].timestamp,o="number"===typeof performance.timeOrigin?performance.timeOrigin:yt.Z1||0,s=o-(yt.Z1||o),c=0;c<e.samples.length;c++){var u=e.samples[c];if(void 0!==u.stackId){for(var l=e.stacks[u.stackId],d=[];l;){d.push(l.frameId);var f=e.frames[l.frameId];void 0===r.frames[l.frameId]&&(r.frames[l.frameId]={function:f.name,abs_path:"number"===typeof f.resourceId?e.resources[f.resourceId]:void 0,lineno:f.line,colno:f.column}),l=void 0===l.parentId?void 0:e.stacks[l.parentId]}var h={elapsed_since_start_ns:((u.timestamp+s-i)*Hl).toFixed(0),stack_id:n,thread_id:Wl};r.stacks[n]=d,r.samples[c]=h,n++}else void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[c]={elapsed_since_start_ns:((u.timestamp+s-i)*Hl).toFixed(0),stack_id:t,thread_id:Wl}}return r}(e):e}function ed(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(void 0===n||null===n)throw new TypeError("Cannot construct profiling event envelope without a valid profile. Got ".concat(n," instead."));var i=function(e){var t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"===typeof t&&32!==t.length&&Nn&&f.kg.log("[Profiling] Invalid traceId: ".concat(t," on profiled event")),"string"!==typeof t?"":t}(r),o=Ql(n),a=t||("number"===typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),s="number"===typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Ne.J,runtime:{name:"javascript",version:On.navigator.userAgent},os:{name:Zl,version:Vl,build_number:ql},device:{locale:Yl,model:$l,manufacturer:ql,architecture:zl,is_emulator:!1},debug_meta:{images:rd(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||(0,h.DM)(),trace_id:i,active_thread_id:Wl,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]}}function td(e){return"pageload"===e.op}Jl=Xl,"object"===(0,Pt.Z)(Jl)&&null!==Jl&&"getHighEntropyValues"in Jl&&Xl.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((function(e){if(Zl=e.platform||"",zl=e.architecture||"",$l=e.model||"",Vl=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){var t=e.fullVersionList[e.fullVersionList.length-1];ql="".concat(t.brand," ").concat(t.version)}})).catch((function(e){}));var nd=new WeakMap;function rd(e){var t=X.n2._sentryDebugIds;if(!t)return[];var n=(0,Ee.Gd)();if(!n)return[];var r=n.getClient();if(!r)return[];var i=r.getOptions();if(!i)return[];var o,a=i.stackParser;if(!a)return[];var s=nd.get(a);s?o=s:(o=new Map,nd.set(a,o));var c,u=Object.keys(t).reduce((function(e,n){var r,i=o.get(n);i?r=i:(r=a(n),o.set(n,r));for(var s=r.length-1;s>=0;s--){var c=r[s],u=c&&c.filename;if(c&&u){e[u]=t[n];break}}return e}),{}),l=[],d=Bl(e);try{for(d.s();!(c=d.n()).done;){var f=c.value;f&&u[f]&&l.push({type:"sourcemap",code_file:f,debug_id:u[f]})}}catch(h){d.e(h)}finally{d.f()}return l}var id=!1,od=3e4;function ad(e){if(id)return Nn&&f.kg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.sampled)return Nn&&f.kg.log("[Profiling] Discarding profile because transaction was not sampled."),!1;var t=(0,Ae.s3)(),n=t&&t.getOptions();if(!n)return Nn&&f.kg.log("[Profiling] Profiling disabled, no options found."),!1;var r,i=n.profilesSampleRate;return("number"!==typeof(r=i)&&"boolean"!==typeof r||"number"===typeof r&&isNaN(r)?(Nn&&f.kg.warn("[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ".concat(JSON.stringify(r)," of type ").concat(JSON.stringify((0,Pt.Z)(r)),".")),0):!0===r||!1===r||!(r<0||r>1)||(Nn&&f.kg.warn("[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ".concat(r,".")),0))?i?!!(!0===i||Math.random()<i)||(Nn&&f.kg.log("[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ".concat(Number(i),")")),!1):(Nn&&f.kg.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(Nn&&f.kg.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function sd(e,t,n,r){return function(e){return e.samples.length<2?(Nn&&f.kg.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(Nn&&f.kg.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?ed(e,t,n,r):null}var cd=new Map;function ud(e){var t=cd.get(e);return t&&cd.delete(e),t}function ld(e,t){if(cd.set(e,t),cd.size>30){var n=cd.keys().next().value;cd.delete(n)}}function dd(e){return e?ad(e)?fd(e):e:(Nn&&f.kg.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function fd(e){var t;td(e)&&(t=1e3*(0,yt.ph)());var n=function(){var e=On.Profiler;if("function"===typeof e){var t=Math.floor(od/10);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(n){Nn&&(f.kg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),f.kg.log("[Profiling] Disabling profiling for current user session.")),id=!0}}else Nn&&f.kg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.")}();if(!n)return e;Nn&&f.kg.log("[Profiling] started profiling transaction: ".concat(e.name||e.description));var r=(0,h.DM)();function i(){return o.apply(this,arguments)}function o(){return(o=(0,fn.Z)(pn().mark((function t(){return pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:if(n){t.next=4;break}return t.abrupt("return",null);case 4:return t.abrupt("return",n.stop().then((function(t){return a&&(On.clearTimeout(a),a=void 0),Nn&&f.kg.log("[Profiling] stopped profiling of transaction: ".concat(e.name||e.description)),t?(ld(r,t),null):(Nn&&f.kg.log("[Profiling] profiler returned null profile for: ".concat(e.name||e.description),"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)})).catch((function(e){return Nn&&f.kg.log("[Profiling] error while stopping profiler:",e),null})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var a=On.setTimeout((function(){Nn&&f.kg.log("[Profiling] max profile duration elapsed, stopping profiling for:",e.name||e.description),i()}),od),s=e.finish.bind(e);return e.finish=function(){return e?(i().then((function(){e.setContext("profile",{profile_id:r,start_timestamp:t}),s()}),(function(){s()})),e):s()},e}function hd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pd(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var md=function(){function e(){(0,s.Z)(this,e),this.name=e.id}return(0,c.Z)(e,[{key:"setupOnce",value:function(e,t){this.getCurrentHub=t;var n=this.getCurrentHub(),r=n.getClient(),i=n.getScope().getTransaction();i&&td(i)&&ad(i)&&fd(i),r&&"function"===typeof r.on?(r.on("startTransaction",(function(e){ad(e)&&fd(e)})),r.on("beforeEnvelope",(function(e){if(cd.size){var t=function(e){var t=[];return W(e,(function(e,n){if("transaction"===n)for(var r=1;r<e.length;r++){var i=e[r];i&&i.contexts&&i.contexts.profile&&i.contexts.profile.profile_id&&t.push(e[r])}})),t}(e);if(t.length){var n,r=[],i=hd(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o&&o.contexts,s=a&&a.profile&&a.profile.profile_id,c=a&&a.profile&&a.profile.start_timestamp;if("string"===typeof s)if(s){a&&a.profile&&delete a.profile;var u=ud(s);if(u){var l=sd(s,c,u,o);l&&r.push(l)}else Nn&&f.kg.log("[Profiling] Could not retrieve profile for transaction: ".concat(s))}else Nn&&f.kg.log("[Profiling] cannot find profile for a transaction without a profile context");else Nn&&f.kg.log("[Profiling] cannot find profile for a transaction without a profile context")}}catch(d){i.e(d)}finally{i.f()}!function(e,t){if(!t.length)return e;var n,r=Bl(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e[1].push([{type:"profile"},i])}}catch(d){r.e(d)}finally{r.f()}}(e,r)}}}))):f.kg.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}],[{key:"__initStatic",value:function(){this.id="BrowserProfilingIntegration"}}]),e}();function gd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}md.__initStatic();var yd={};On.Sentry&&On.Sentry.Integrations&&(yd=On.Sentry.Integrations);var bd=vd(vd(vd({},yd),r),i)},37496:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r="production"},14609:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},85104:function(e,t,n){"use strict";n.d(t,{RP:function(){return f},cc:function(){return d},fH:function(){return l}});var r=n(4942),i=n(91801),o=n(57641),a=n(22743),s=n(70690),c=n(14609);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(){return(0,i.YO)("globalEventProcessors",(function(){return[]}))}function d(e){l().push(e)}function f(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new o.cW((function(o,l){var d=e[i];if(null===t||"function"!==typeof d)o(t);else{var h=d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t),n);c.X&&d.id&&null===h&&a.kg.log('Event processor "'.concat(d.id,'" dropped event')),(0,s.J8)(h)?h.then((function(t){return f(e,t,n,i+1).then(o)})).then(null,l):f(e,h,n,i+1).then(o).then(null,l)}}))}},48611:function(e,t,n){"use strict";n.d(t,{$e:function(){return A},Tb:function(){return f},YA:function(){return E},Yr:function(){return O},av:function(){return S},e:function(){return m},eN:function(){return p},eW:function(){return N},mG:function(){return _},n_:function(){return g},rJ:function(){return y},s3:function(){return T},sU:function(){return b},uT:function(){return h},v:function(){return v},xv:function(){return k},yl:function(){return w}});var r=n(15861),i=n(4942),o=n(64687),a=n.n(o),s=n(22743),c=n(14609),u=n(46675),l=n(18041);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t){return(0,u.Gd)().captureException(e,(0,l.U0)(t))}function h(e,t){var n="string"===typeof t?t:void 0,r="string"!==typeof t?{captureContext:t}:void 0;return(0,u.Gd)().captureMessage(e,n,r)}function p(e,t){return(0,u.Gd)().captureEvent(e,t)}function m(e){(0,u.Gd)().configureScope(e)}function g(e){(0,u.Gd)().addBreadcrumb(e)}function v(e,t){(0,u.Gd)().setContext(e,t)}function y(e){(0,u.Gd)().setExtras(e)}function b(e,t){(0,u.Gd)().setExtra(e,t)}function _(e){(0,u.Gd)().setTags(e)}function E(e,t){(0,u.Gd)().setTag(e,t)}function S(e){(0,u.Gd)().setUser(e)}function A(e){(0,u.Gd)().withScope(e)}function O(e,t){return(0,u.Gd)().startTransaction(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),t)}function w(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=T())){e.next=3;break}return e.abrupt("return",n.flush(t));case 3:return c.X&&s.kg.warn("Cannot flush events. No client defined."),e.abrupt("return",Promise.resolve(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=T())){e.next=3;break}return e.abrupt("return",n.close(t));case 3:return c.X&&s.kg.warn("Cannot flush events and disable SDK. No client defined."),e.abrupt("return",Promise.resolve(!1));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(0,u.Gd)().lastEventId()}function T(){return(0,u.Gd)().getClient()}},46675:function(e,t,n){"use strict";n.d(t,{Gd:function(){return E},Xb:function(){return y},cu:function(){return b},pj:function(){return _},vi:function(){return O}});var r=n(4942),i=n(15671),o=n(43144),a=n(49736),s=n(79583),c=n(22743),u=n(91801),l=n(37496),d=n(14609),f=n(68522),h=n(20884),p=n(2241);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=parseFloat(p.J),y=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new f.s,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v;(0,i.Z)(this,e),this._version=r,this._stack=[{scope:n}],t&&this.bindClient(t)}return(0,o.Z)(e,[{key:"isOlderThan",value:function(e){return this._version<e}},{key:"bindClient",value:function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}},{key:"pushScope",value:function(){var e=f.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}},{key:"popScope",value:function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}},{key:"withScope",value:function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}},{key:"getClient",value:function(){return this.getStackTop().client}},{key:"getScope",value:function(){return this.getStackTop().scope}},{key:"getStack",value:function(){return this._stack}},{key:"getStackTop",value:function(){return this._stack[this._stack.length-1]}},{key:"captureException",value:function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:(0,a.DM)(),r=new Error("Sentry syntheticException");return this._withClient((function(i,o){i.captureException(e,g(g({originalException:e,syntheticException:r},t),{},{event_id:n}),o)})),n}},{key:"captureMessage",value:function(e,t,n){var r=this._lastEventId=n&&n.event_id?n.event_id:(0,a.DM)(),i=new Error(e);return this._withClient((function(o,a){o.captureMessage(e,t,g(g({originalException:e,syntheticException:i},n),{},{event_id:r}),a)})),r}},{key:"captureEvent",value:function(e,t){var n=t&&t.event_id?t.event_id:(0,a.DM)();return e.type||(this._lastEventId=n),this._withClient((function(r,i){r.captureEvent(e,g(g({},t),{},{event_id:n}),i)})),n}},{key:"lastEventId",value:function(){return this._lastEventId}},{key:"addBreadcrumb",value:function(e,t){var n=this.getStackTop(),r=n.scope,i=n.client;if(i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,u=void 0===a?null:a,l=o.maxBreadcrumbs,d=void 0===l?100:l;if(!(d<=0)){var f=g({timestamp:(0,s.yW)()},e),h=u?(0,c.Cf)((function(){return u(f,t)})):f;null!==h&&(i.emit&&i.emit("beforeAddBreadcrumb",h,t),r.addBreadcrumb(h,d))}}}},{key:"setUser",value:function(e){this.getScope().setUser(e)}},{key:"setTags",value:function(e){this.getScope().setTags(e)}},{key:"setExtras",value:function(e){this.getScope().setExtras(e)}},{key:"setTag",value:function(e,t){this.getScope().setTag(e,t)}},{key:"setExtra",value:function(e,t){this.getScope().setExtra(e,t)}},{key:"setContext",value:function(e,t){this.getScope().setContext(e,t)}},{key:"configureScope",value:function(e){var t=this.getStackTop(),n=t.scope;t.client&&e(n)}},{key:"run",value:function(e){var t=_(this);try{e(this)}finally{_(t)}}},{key:"getIntegration",value:function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return d.X&&c.kg.warn("Cannot retrieve integration ".concat(e.id," from the current Hub")),null}}},{key:"startTransaction",value:function(e,t){var n=this._callExtensionMethod("startTransaction",e,t);d.X&&!n&&(this.getClient()?c.kg.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):c.kg.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'"));return n}},{key:"traceHeaders",value:function(){return this._callExtensionMethod("traceHeaders")}},{key:"captureSession",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.endSession();this._sendSessionUpdate()}},{key:"endSession",value:function(){var e=this.getStackTop().scope,t=e.getSession();t&&(0,h.RJ)(t),this._sendSessionUpdate(),e.setSession()}},{key:"startSession",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client,i=r&&r.getOptions()||{},o=i.release,a=i.environment,s=void 0===a?l.J:a,c=(u.n2.navigator||{}).userAgent,d=(0,h.Hv)(g(g({release:o,environment:s,user:n.getUser()},c&&{userAgent:c}),e)),f=n.getSession&&n.getSession();return f&&"ok"===f.status&&(0,h.CT)(f,{status:"exited"}),this.endSession(),n.setSession(d),d}},{key:"shouldSendDefaultPii",value:function(){var e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}},{key:"_sendSessionUpdate",value:function(){var e=this.getStackTop(),t=e.scope,n=e.client,r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},{key:"_withClient",value:function(e){var t=this.getStackTop(),n=t.scope,r=t.client;r&&e(r,n)}},{key:"_callExtensionMethod",value:function(e){var t=b().__SENTRY__;if(t&&t.extensions&&"function"===typeof t.extensions[e]){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.extensions[e].apply(this,r)}d.X&&c.kg.warn("Extension method ".concat(e," couldn't be found, doing nothing."))}}]),e}();function b(){return u.n2.__SENTRY__=u.n2.__SENTRY__||{extensions:{},hub:void 0},u.n2}function _(e){var t=b(),n=O(t);return w(t,e),n}function E(){var e=b();if(e.__SENTRY__&&e.__SENTRY__.acs){var t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return S(e)}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();return A(e)&&!O(e).isOlderThan(v)||w(e,new y),O(e)}function A(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function O(e){return(0,u.YO)("hub",(function(){return new y}),e)}function w(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},68522:function(e,t,n){"use strict";n.d(t,{s:function(){return p}});var r=n(42982),i=n(4942),o=n(15671),a=n(43144),s=n(70690),c=n(79583),u=n(49736),l=n(85104),d=n(20884);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){(0,o.Z)(this,e),this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m()}return(0,a.Z)(e,[{key:"addScopeListener",value:function(e){this._scopeListeners.push(e)}},{key:"addEventProcessor",value:function(e){return this._eventProcessors.push(e),this}},{key:"setUser",value:function(e){return this._user=e||{},this._session&&(0,d.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}},{key:"getUser",value:function(){return this._user}},{key:"getRequestSession",value:function(){return this._requestSession}},{key:"setRequestSession",value:function(e){return this._requestSession=e,this}},{key:"setTags",value:function(e){return this._tags=h(h({},this._tags),e),this._notifyScopeListeners(),this}},{key:"setTag",value:function(e,t){return this._tags=h(h({},this._tags),{},(0,i.Z)({},e,t)),this._notifyScopeListeners(),this}},{key:"setExtras",value:function(e){return this._extra=h(h({},this._extra),e),this._notifyScopeListeners(),this}},{key:"setExtra",value:function(e,t){return this._extra=h(h({},this._extra),{},(0,i.Z)({},e,t)),this._notifyScopeListeners(),this}},{key:"setFingerprint",value:function(e){return this._fingerprint=e,this._notifyScopeListeners(),this}},{key:"setLevel",value:function(e){return this._level=e,this._notifyScopeListeners(),this}},{key:"setTransactionName",value:function(e){return this._transactionName=e,this._notifyScopeListeners(),this}},{key:"setContext",value:function(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}},{key:"setSpan",value:function(e){return this._span=e,this._notifyScopeListeners(),this}},{key:"getSpan",value:function(){return this._span}},{key:"getTransaction",value:function(){var e=this.getSpan();return e&&e.transaction}},{key:"setSession",value:function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}},{key:"getSession",value:function(){return this._session}},{key:"update",value:function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=h(h({},this._tags),t._tags),this._extra=h(h({},this._extra),t._extra),this._contexts=h(h({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):(0,s.PO)(t)&&(this._tags=h(h({},this._tags),t.tags),this._extra=h(h({},this._extra),t.extra),this._contexts=h(h({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}},{key:"clear",value:function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m(),this}},{key:"addBreadcrumb",value:function(e,t){var n="number"===typeof t?t:100;if(n<=0)return this;var r=h({timestamp:(0,c.yW)()},e),i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}},{key:"getLastBreadcrumb",value:function(){return this._breadcrumbs[this._breadcrumbs.length-1]}},{key:"clearBreadcrumbs",value:function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}},{key:"addAttachment",value:function(e){return this._attachments.push(e),this}},{key:"getAttachments",value:function(){return this._attachments}},{key:"clearAttachments",value:function(){return this._attachments=[],this}},{key:"applyToEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(this._extra&&Object.keys(this._extra).length&&(e.extra=h(h({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=h(h({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=h(h({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=h(h({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=h({trace:this._span.getTraceContext()},e.contexts);var i=this._span.transaction;if(i){e.sdkProcessingMetadata=h({dynamicSamplingContext:i.getDynamicSamplingContext()},e.sdkProcessingMetadata);var o=i.name;o&&(e.tags=h({transaction:o},e.tags))}}this._applyFingerprint(e);var a=this._getBreadcrumbs(),s=[].concat((0,r.Z)(e.breadcrumbs||[]),(0,r.Z)(a));return e.breadcrumbs=s.length>0?s:void 0,e.sdkProcessingMetadata=h(h(h({},e.sdkProcessingMetadata),this._sdkProcessingMetadata),{},{propagationContext:this._propagationContext}),(0,l.RP)([].concat((0,r.Z)(n||[]),(0,r.Z)((0,l.fH)()),(0,r.Z)(this._eventProcessors)),e,t)}},{key:"setSDKProcessingMetadata",value:function(e){return this._sdkProcessingMetadata=h(h({},this._sdkProcessingMetadata),e),this}},{key:"setPropagationContext",value:function(e){return this._propagationContext=e,this}},{key:"getPropagationContext",value:function(){return this._propagationContext}},{key:"_getBreadcrumbs",value:function(){return this._breadcrumbs}},{key:"_notifyScopeListeners",value:function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)}},{key:"_applyFingerprint",value:function(e){e.fingerprint=e.fingerprint?(0,u.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}],[{key:"clone",value:function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.Z)(t._breadcrumbs),n._tags=h({},t._tags),n._extra=h({},t._extra),n._contexts=h({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.Z)(t._eventProcessors),n._requestSession=t._requestSession,n._attachments=(0,r.Z)(t._attachments),n._sdkProcessingMetadata=h({},t._sdkProcessingMetadata),n._propagationContext=h({},t._propagationContext)),n}}]),e}();function m(){return{traceId:(0,u.DM)(),spanId:(0,u.DM)().substring(16)}}},20884:function(e,t,n){"use strict";n.d(t,{CT:function(){return s},Hv:function(){return a},RJ:function(){return c}});var r=n(79583),i=n(49736),o=n(17892);function a(e){var t=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:function(){return function(e){return(0,o.Jr)({sid:"".concat(e.sid),init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"===typeof e.did||"string"===typeof e.did?"".concat(e.did):void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)}};return e&&s(n,e),n}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.ph)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did="".concat(t.did)),"number"===typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"===typeof t.duration)e.duration=t.duration;else{var n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"===typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){var n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),s(e,n)}},18041:function(e,t,n){"use strict";n.d(t,{R:function(){return g},U0:function(){return y}});var r=n(42982),i=n(4942),o=n(49736),a=n(79583),s=n(57641),c=n(79980),u=n(91801),l=n(6700),d=n(37496),f=n(85104),h=n(68522);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n,i,p){var g=e.normalizeDepth,y=void 0===g?3:g,b=e.normalizeMaxBreadth,_=void 0===b?1e3:b,E=m(m({},t),{},{event_id:t.event_id||n.event_id||(0,o.DM)(),timestamp:t.timestamp||(0,a.yW)()}),S=n.integrations||e.integrations.map((function(e){return e.name}));!function(e,t){var n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:d.J);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=(0,c.$G)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,c.$G)(s.value,a));var u=e.request;u&&u.url&&(u.url=(0,c.$G)(u.url,a))}(E,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[].concat((0,r.Z)(e.sdk.integrations||[]),(0,r.Z)(t)))}(E,S),void 0===t.type&&function(e,t){var n,r=u.n2._sentryDebugIds;if(!r)return;var i=v.get(t);i?n=i:(n=new Map,v.set(t,n));var o=Object.keys(r).reduce((function(e,i){var o,a=n.get(i);a?o=a:(o=t(i),n.set(i,o));for(var s=o.length-1;s>=0;s--){var c=o[s];if(c.filename){e[c.filename]=r[i];break}}return e}),{});try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.filename&&(e.debug_id=o[e.filename])}))}))}catch(a){}}(E,e.stackParser);var A=i;n.captureContext&&(A=h.s.clone(A).update(n.captureContext)),n.mechanism&&(0,o.EG)(E,n.mechanism);var O=(0,s.WD)(E),w=p&&p.getEventProcessors?p.getEventProcessors():[];if(A){if(A.getAttachments){var I=[].concat((0,r.Z)(n.attachments||[]),(0,r.Z)(A.getAttachments()));I.length&&(n.attachments=I)}O=A.applyToEvent(E,n,w)}else O=(0,f.RP)([].concat((0,r.Z)(w),(0,r.Z)((0,f.fH)())),E,n);return O.then((function(e){return e&&function(e){var t={};try{e.exception.values.forEach((function(e){e.stacktrace.frames.forEach((function(e){e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var n=e.debug_meta.images;Object.keys(t).forEach((function(e){n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"===typeof y&&y>0?function(e,t,n){if(!e)return null;var r=m(m(m(m(m({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return m(m({},e),e.data&&{data:(0,l.Fv)(e.data,t,n)})}))}),e.user&&{user:(0,l.Fv)(e.user,t,n)}),e.contexts&&{contexts:(0,l.Fv)(e.contexts,t,n)}),e.extra&&{extra:(0,l.Fv)(e.extra,t,n)});e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,l.Fv)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((function(e){return e.data&&(e.data=(0,l.Fv)(e.data,t,n)),e})));return r}(e,y,_):e}))}var v=new WeakMap;function y(e){if(e)return function(e){return e instanceof h.s||"function"===typeof e}(e)||function(e){return Object.keys(e).some((function(e){return b.includes(e)}))}(e)?{captureContext:e}:e}var b=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},2241:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var r="7.86.0"},94127:function(e,t,n){"use strict";n.d(t,{Rt:function(){return a},l4:function(){return c},qT:function(){return u}});var r=n(70690),i=(0,n(91801).Rf)(),o=80;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"<unknown>";try{for(var n,r=e,i=[],a=0,c=0,u=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||o;r&&a++<5&&!("html"===(n=s(r,u))||a>1&&c+3*i.length+n.length>=l);)i.push(n),c+=n.length,r=r.parentNode;return i.reverse().join(" > ")}catch(d){return"<unknown>"}}function s(e,t){var n,i,o,a,s,c=e,u=[];if(!c||!c.tagName)return"";u.push(c.tagName.toLowerCase());var l=t&&t.length?t.filter((function(e){return c.getAttribute(e)})).map((function(e){return[e,c.getAttribute(e)]})):null;if(l&&l.length)l.forEach((function(e){u.push("[".concat(e[0],'="').concat(e[1],'"]'))}));else if(c.id&&u.push("#".concat(c.id)),(n=c.className)&&(0,r.HD)(n))for(i=n.split(/\s+/),s=0;s<i.length;s++)u.push(".".concat(i[s]));var d=["aria-label","type","name","title","alt"];for(s=0;s<d.length;s++)o=d[s],(a=c.getAttribute(o))&&u.push("[".concat(o,'="').concat(a,'"]'));return u.join("")}function c(){try{return i.document.location.href}catch(e){return""}}function u(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}},35572:function(e,t,n){"use strict";n.d(t,{X:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},11465:function(e,t,n){"use strict";function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}n.d(t,{S:function(){return i},n:function(){return r}})},70690:function(e,t,n){"use strict";n.d(t,{Cy:function(){return v},HD:function(){return l},J8:function(){return g},Kj:function(){return m},PO:function(){return f},TX:function(){return c},V9:function(){return b},VW:function(){return s},VZ:function(){return o},cO:function(){return h},fm:function(){return u},i2:function(){return y},kK:function(){return p},pt:function(){return d},y1:function(){return _}});var r=n(71002),i=Object.prototype.toString;function o(e){switch(i.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return b(e,Error)}}function a(e,t){return i.call(e)==="[object ".concat(t,"]")}function s(e){return a(e,"ErrorEvent")}function c(e){return a(e,"DOMError")}function u(e){return a(e,"DOMException")}function l(e){return a(e,"String")}function d(e){return null===e||"object"!==(0,r.Z)(e)&&"function"!==typeof e}function f(e){return a(e,"Object")}function h(e){return"undefined"!==typeof Event&&b(e,Event)}function p(e){return"undefined"!==typeof Element&&b(e,Element)}function m(e){return a(e,"RegExp")}function g(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function v(e){return f(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e){return"number"===typeof e&&e!==e}function b(e,t){try{return e instanceof t}catch(n){return!1}}function _(e){return!("object"!==(0,r.Z)(e)||null===e||!e.__isVue&&!e._isVue)}},22743:function(e,t,n){"use strict";n.d(t,{Cf:function(){return s},LD:function(){return a},RU:function(){return o},kg:function(){return c}});var r=n(35572),i=n(91801),o=["debug","info","warn","error","log","assert","trace"],a={};function s(e){if(!("console"in i.n2))return e();var t=i.n2.console,n={},r=Object.keys(a);r.forEach((function(e){var r=a[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((function(e){t[e]=n[e]}))}}var c=function(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1},isEnabled:function(){return e}};return r.X?o.forEach((function(n){t[n]=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];e&&s((function(){var e;(e=i.n2.console)[n].apply(e,["".concat("Sentry Logger ","[").concat(n,"]:")].concat(r))}))}})):o.forEach((function(e){t[e]=function(){}})),t}()},49736:function(e,t,n){"use strict";n.d(t,{DM:function(){return c},Db:function(){return d},EG:function(){return f},YO:function(){return h},jH:function(){return l},lE:function(){return p}});var r=n(4942),i=n(17892),o=n(91801);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(){var e=o.n2,t=e.crypto||e.msCrypto,n=function(){return 16*Math.random()};try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=function(){return t.getRandomValues(new Uint8Array(1))[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(function(e){return(e^(15&n())>>e/4).toString(16)}))}function u(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function l(e){var t=e.message,n=e.event_id;if(t)return t;var r=u(e);return r?r.type&&r.value?"".concat(r.type,": ").concat(r.value):r.type||r.value||n||"<unknown>":n||"<unknown>"}function d(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type=n||"Error")}function f(e,t){var n=u(e);if(n){var r=n.mechanism;if(n.mechanism=s(s(s({},{type:"generic",handled:!0}),r),t),t&&"data"in t){var i=s(s({},r&&r.data),t.data);n.mechanism.data=i}}}function h(e){if(e&&e.__sentry_captured__)return!0;try{(0,i.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}function p(e){return Array.isArray(e)?e:[e]}},12096:function(e,t,n){"use strict";n.d(t,{KV:function(){return i},l$:function(){return o}});var r=n(11465);function i(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function o(e,t){return e.require(t)}e=n.hmd(e)},6700:function(e,t,n){"use strict";n.d(t,{Fv:function(){return c},Qy:function(){return u}});var r=n(71002),i=n(70885),o=n(70690);var a=n(17892),s=n(31890);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;try{return l("",e,t,n)}catch(r){return{ERROR:"**non-serializable** (".concat(r,")")}}}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:102400,i=c(e,n);return t=i,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(t))>r?u(e,n-1,r):i}function l(e,t){var c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(c="function"===typeof WeakSet,u=c?new WeakSet:[],[function(e){if(c)return!!u.has(e)||(u.add(e),!1);for(var t=0;t<u.length;t++)if(u[t]===e)return!0;return u.push(e),!1},function(e){if(c)u.delete(e);else for(var t=0;t<u.length;t++)if(u[t]===e){u.splice(t,1);break}}]),p=(0,i.Z)(h,2),m=p[0],g=p[1];if(null==t||["number","boolean","string"].includes((0,r.Z)(t))&&!(0,o.i2)(t))return t;var v=function(e,t){try{if("domain"===e&&t&&"object"===(0,r.Z)(t)&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if("undefined"!==typeof window&&t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if((0,o.y1)(t))return"[VueViewModel]";if((0,o.Cy)(t))return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return"[Function: ".concat((0,s.$P)(t),"]");if("symbol"===(0,r.Z)(t))return"[".concat(String(t),"]");if("bigint"===typeof t)return"[BigInt: ".concat(String(t),"]");var i=function(e){var t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(i)?"[HTMLElement: ".concat(i,"]"):"[object ".concat(i,"]")}catch(a){return"**non-serializable** (".concat(a,")")}}(e,t);if(!v.startsWith("[object "))return v;if(t.__sentry_skip_normalization__)return t;var y="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:d;if(0===y)return v.replace("object ","");if(m(t))return"[Circular ~]";var b=t;if(b&&"function"===typeof b.toJSON)try{return l("",b.toJSON(),y-1,f,h)}catch(w){}var _=Array.isArray(t)?[]:{},E=0,S=(0,a.Sh)(t);for(var A in S)if(Object.prototype.hasOwnProperty.call(S,A)){if(E>=f){_[A]="[MaxProperties ~]";break}var O=S[A];_[A]=l(A,O,y-1,f,h),E++}return g(t),_}},17892:function(e,t,n){"use strict";n.d(t,{$Q:function(){return p},HK:function(){return m},Jr:function(){return E},Sh:function(){return v},_j:function(){return g},hl:function(){return f},xp:function(){return h},zf:function(){return _}});var r=n(71002),i=n(4942),o=n(94127),a=n(35572),s=n(70690),c=n(22743),u=n(79980);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){if(t in e){var r=e[t],i=n(r);"function"===typeof i&&p(i,r),e[t]=i}}function h(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){a.X&&c.kg.log('Failed to add non-enumerable property "'.concat(t,'" to object'),e)}}function p(e,t){try{var n=t.prototype||{};e.prototype=t.prototype=n,h(e,"__sentry_original__",t)}catch(r){}}function m(e){return e.__sentry_original__}function g(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}function v(e){if((0,s.VZ)(e))return d({message:e.message,name:e.name,stack:e.stack},b(e));if((0,s.cO)(e)){var t=d({type:e.type,target:y(e.target),currentTarget:y(e.currentTarget)},b(e));return"undefined"!==typeof CustomEvent&&(0,s.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function y(e){try{return(0,s.kK)(e)?(0,o.Rt)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function b(e){if("object"===(0,r.Z)(e)&&null!==e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=Object.keys(v(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,u.$G)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,u.$G)(i,t)}return""}function E(e){return S(e,new Map)}function S(e,t){if((0,s.PO)(e)){var n=t.get(e);if(void 0!==n)return n;var r={};t.set(e,r);for(var i=0,o=Object.keys(e);i<o.length;i++){var a=o[i];"undefined"!==typeof e[a]&&(r[a]=S(e[a],t))}return r}if(Array.isArray(e)){var c=t.get(e);if(void 0!==c)return c;var u=[];return t.set(e,u),e.forEach((function(e){u.push(S(e,t))})),u}return e}},31890:function(e,t,n){"use strict";n.d(t,{$P:function(){return m},Sq:function(){return h},pE:function(){return f}});var r=n(4942),i=n(42982);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=50,l=/\(error: (.*)\)/,d=/captureMessage|captureException/;function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=e.split("\n"),o=t;o<i.length;o++){var c=i[o];if(!(c.length>1024)){var f=l.test(c)?c.replace(l,"$1"):c;if(!f.match(/\S*Error: /)){var h,p=s(r);try{for(p.s();!(h=p.n()).done;){var m=(0,h.value)(f);if(m){n.push(m);break}}}catch(g){p.e(g)}finally{p.f()}if(n.length>=u)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),d.test(t[t.length-1].function||"")&&(t.pop(),d.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,u).map((function(e){return a(a({},e),{},{filename:e.filename||t[t.length-1].filename,function:e.function||"?"})}))}(n)}}function h(e){return Array.isArray(e)?f.apply(void 0,(0,i.Z)(e)):e}var p="<anonymous>";function m(e){try{return e&&"function"===typeof e&&e.name||p}catch(t){return p}}},79980:function(e,t,n){"use strict";n.d(t,{$G:function(){return i},U0:function(){return a},nK:function(){return o}});var r=n(70690);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"string"!==typeof e||0===t||e.length<=t?e:"".concat(e.slice(0,t),"...")}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],i=0;i<e.length;i++){var o=e[i];try{(0,r.y1)(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(a){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).some((function(n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,n,t)}))}},57641:function(e,t,n){"use strict";n.d(t,{$2:function(){return c},WD:function(){return s},cW:function(){return u}});var r,i=n(15671),o=n(43144),a=n(70690);function s(e){return new u((function(t){t(e)}))}function c(e){return new u((function(t,n){n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));var u=function(){function e(t){(0,i.Z)(this,e),e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return(0,o.Z)(e,[{key:"then",value:function(t,n){var r=this;return new e((function(e,i){r._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(r){i(r)}else e(n)},function(t){if(n)try{e(n(t))}catch(r){i(r)}else i(t)}]),r._executeHandlers()}))}},{key:"catch",value:function(e){return this.then((function(e){return e}),e)}},{key:"finally",value:function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))}},{key:"__init",value:function(){var e=this;this._resolve=function(t){e._setResult(r.RESOLVED,t)}}},{key:"__init2",value:function(){var e=this;this._reject=function(t){e._setResult(r.REJECTED,t)}}},{key:"__init3",value:function(){var e=this;this._setResult=function(t,n){e._state===r.PENDING&&((0,a.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))}}},{key:"__init4",value:function(){var e=this;this._executeHandlers=function(){if(e._state!==r.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(e._state===r.RESOLVED&&t[1](e._value),e._state===r.REJECTED&&t[2](e._value),t[0]=!0)}))}}}}]),e}()},79583:function(e,t,n){"use strict";n.d(t,{Z1:function(){return d},ph:function(){return l},yW:function(){return u}});var r=n(12096),i=n(91801);e=n.hmd(e);var o=(0,i.Rf)(),a={nowSeconds:function(){return Date.now()/1e3}};var s=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=o.performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),c=void 0===s?a:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},u=a.nowSeconds.bind(a),l=c.nowSeconds.bind(c),d=function(){var e=o.performance;if(e&&e.now){var t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,a=i<t,s=e.timing&&e.timing.navigationStart,c="number"===typeof s?Math.abs(s+n-r):t;return a||c<t?i<=c?("timeOrigin",e.timeOrigin):("navigationStart",s):("dateNow",r)}"none"}()},91801:function(e,t,n){"use strict";n.d(t,{Rf:function(){return a},YO:function(){return s},n2:function(){return o}});var r=n(71002);function i(e){return e&&e.Math==Math?e:void 0}var o="object"==("undefined"===typeof globalThis?"undefined":(0,r.Z)(globalThis))&&i(globalThis)||"object"==("undefined"===typeof window?"undefined":(0,r.Z)(window))&&i(window)||"object"==("undefined"===typeof self?"undefined":(0,r.Z)(self))&&i(self)||"object"==("undefined"===typeof n.g?"undefined":(0,r.Z)(n.g))&&i(n.g)||function(){return this}()||{};function a(){return o}function s(e,t,n){var r=n||o,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}},51206:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,c=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),i=c(n(93)),o=c(n(94)),a=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),h=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},76912:function(e,t,n){"use strict";t.TD=t.wS=void 0;var r=n(51303);Object.defineProperty(t,"wS",{enumerable:!0,get:function(){return r.MediaPermissionsErrorType}}),Object.defineProperty(t,"TD",{enumerable:!0,get:function(){return r.requestMediaPermissions}})},51303:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.requestVideoPermissions=t.requestAudioPermissions=t.requestMediaPermissions=t.MediaPermissionsErrorType=void 0;const i=r(n(51206));var o;!function(e){e.SystemPermissionDenied="SystemPermissionDenied",e.UserPermissionDenied="UserPermissionDenied",e.CouldNotStartVideoSource="CouldNotStartVideoSource",e.Generic="Generic"}(o=t.MediaPermissionsErrorType||(t.MediaPermissionsErrorType={}));t.requestMediaPermissions=e=>new Promise(((t,n)=>{navigator.mediaDevices.getUserMedia(null!==e&&void 0!==e?e:{audio:!0,video:!0}).then((e=>{e.getTracks().forEach((e=>{e.stop()})),t(!0)})).catch((e=>{const t=i.default.getParser(window.navigator.userAgent).getBrowserName(),r=e.name,a=e.message;let s=o.Generic;"Chrome"===t?"NotAllowedError"===r?"Permission denied by system"===a?s=o.SystemPermissionDenied:"Permission denied"===a&&(s=o.UserPermissionDenied):"NotReadableError"===r&&(s=o.CouldNotStartVideoSource):"Safari"===t?"NotAllowedError"===r&&(s=o.UserPermissionDenied):"Microsoft Edge"===t?"NotAllowedError"===r?s=o.UserPermissionDenied:"NotReadableError"===r&&(s=o.CouldNotStartVideoSource):"Firefox"===t&&("NotFoundError"===r||"NotReadableError"===r?s=o.SystemPermissionDenied:"NotAllowedError"===r?s=o.UserPermissionDenied:"AbortError"===r&&(s=o.CouldNotStartVideoSource)),n({type:s,name:e.name,message:e.message})}))}));t.requestAudioPermissions=()=>(0,t.requestMediaPermissions)({audio:!0,video:!1});t.requestVideoPermissions=()=>(0,t.requestMediaPermissions)({audio:!1,video:!0})},35666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,a=Object.create(o.prototype),s=new T(r||[]);return i(a,"_invoke",{value:I(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",m="completed",g={};function v(){}function y(){}function b(){}var _={};u(_,a,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(C([])));S&&S!==n&&r.call(S,a)&&(_=S);var A=b.prototype=v.prototype=Object.create(_);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(l).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function I(e,n,r){var i=f;return function(o,a){if(i===p)throw new Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=k(s,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=d(e,n,r);if("normal"===u.type){if(i=r.done?m:h,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg)}}}function k(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return y.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},O(w.prototype),u(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(A),u(A,c,"Generator"),u(A,a,(function(){return this})),u(A,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}}]);
//# sourceMappingURL=214-fa6d35bd461aa867c9de.js.map